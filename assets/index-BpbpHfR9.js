var k_=Object.defineProperty;var D_=(t,e,n)=>e in t?k_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Je=(t,e,n)=>(D_(t,typeof e!="symbol"?e+"":e,n),n);import{r as D,j as C,e as Pt,c as ot,g as tf,b as Jg,d as Ni,a as Zg,u as Ha,f as fu,h as M_}from"./index-B_5_t45o.js";import{i as hu,a as I_,f as F_,d as L_,b as j_,c as Qg,e as R_,u as B_,g as N_,s as z_,h as e0}from"./file-D0MGS9bD.js";import{g as ls,u as zr,E as W_,B as Br,f as Sp,p as H_,a as U_,l as V_}from"./index-B2UAHDK1.js";import{I as st,c as G_}from"./index-D2M5P-WH.js";import{u as Y_,a as X_,c as $_,b as zt,d as Bt,A as ro,m as ui,e as et,f as je,g as t0,h as Me,S as n0,i as io,o as bn,j as Dn,k as _r,l as Xi,n as ct,_ as du,p as q_,q as so,r as nf,s as K_,t as J_,P as r0,v as Z_,C as Q_,I as i0,w as eS}from"./index-BTHxPBXM.js";import{u as tS,U as Cp}from"./usePaste-DEaprH7T.js";function nS(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var rS=nS();const s0=1/60*1e3,iS=typeof performance<"u"?()=>performance.now():()=>Date.now(),o0=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(iS()),s0);function sS(t){let e=[],n=[],r=0,p=!1,m=!1;const x=new WeakSet,c={schedule:(i,d=!1,h=!1)=>{const s=h&&p,l=s?e:n;return d&&x.add(i),l.indexOf(i)===-1&&(l.push(i),s&&p&&(r=e.length)),i},cancel:i=>{const d=n.indexOf(i);d!==-1&&n.splice(d,1),x.delete(i)},process:i=>{if(p){m=!0;return}if(p=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let d=0;d<r;d++){const h=e[d];h(i),x.has(h)&&(c.schedule(h),t())}p=!1,m&&(m=!1,c.process(i))}};return c}const oS=40;let pu=!0,qs=!1,gu=!1;const $i={delta:0,timestamp:0},oo=["read","update","preRender","render","postRender"],Ua=oo.reduce((t,e)=>(t[e]=sS(()=>qs=!0),t),{}),aS=oo.reduce((t,e)=>{const n=Ua[e];return t[e]=(r,p=!1,m=!1)=>(qs||uS(),n.schedule(r,p,m)),t},{}),lS=oo.reduce((t,e)=>(t[e]=Ua[e].cancel,t),{});oo.reduce((t,e)=>(t[e]=()=>Ua[e].process($i),t),{});const cS=t=>Ua[t].process($i),a0=t=>{qs=!1,$i.delta=pu?s0:Math.max(Math.min(t-$i.timestamp,oS),1),$i.timestamp=t,gu=!0,oo.forEach(cS),gu=!1,qs&&(pu=!1,o0(a0))},uS=()=>{qs=!0,pu=!0,gu||o0(a0)},Tp=()=>$i;function l0(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function rf(t){const{theme:e}=Y_(),n=X_();return D.useMemo(()=>$_(e.direction,{...n,...t}),[t,e.direction,n])}var fS=Object.defineProperty,hS=(t,e,n)=>e in t?fS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wt=(t,e,n)=>(hS(t,typeof e!="symbol"?e+"":e,n),n);function Op(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var dS=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function Ep(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function Pp(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var vu=typeof window<"u"?D.useLayoutEffect:D.useEffect,Da=t=>t,pS=class{constructor(){wt(this,"descendants",new Map),wt(this,"register",t=>{if(t!=null)return dS(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),wt(this,"unregister",t=>{this.descendants.delete(t);const e=Op(Array.from(this.descendants.keys()));this.assignIndex(e)}),wt(this,"destroy",()=>{this.descendants.clear()}),wt(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),wt(this,"count",()=>this.descendants.size),wt(this,"enabledCount",()=>this.enabledValues().length),wt(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),wt(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),wt(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),wt(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),wt(this,"first",()=>this.item(0)),wt(this,"firstEnabled",()=>this.enabledItem(0)),wt(this,"last",()=>this.item(this.descendants.size-1)),wt(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),wt(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),wt(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),wt(this,"next",(t,e=!0)=>{const n=Ep(t,this.count(),e);return this.item(n)}),wt(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),p=Ep(r,this.enabledCount(),e);return this.enabledItem(p)}),wt(this,"prev",(t,e=!0)=>{const n=Pp(t,this.count()-1,e);return this.item(n)}),wt(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),p=Pp(r,this.enabledCount()-1,e);return this.enabledItem(p)}),wt(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=Op(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const p={node:t,index:-1,...e};this.descendants.set(t,p),this.assignIndex(r)})}};function gS(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function It(...t){return e=>{t.forEach(n=>{gS(n,e)})}}function vS(...t){return D.useMemo(()=>It(...t),t)}function mS(){const t=D.useRef(new pS);return vu(()=>()=>t.current.destroy()),t.current}var[yS,c0]=zt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function bS(t){const e=c0(),[n,r]=D.useState(-1),p=D.useRef(null);vu(()=>()=>{p.current&&e.unregister(p.current)},[]),vu(()=>{if(!p.current)return;const x=Number(p.current.dataset.index);n!=x&&!Number.isNaN(x)&&r(x)});const m=Da(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(p.current),register:It(m,p)}}function u0(){return[Da(yS),()=>Da(c0()),()=>mS(),p=>bS(p)]}function f0(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:p=(l,a)=>l!==a}=t,m=Bt(r),x=Bt(p),[c,i]=D.useState(n),d=e!==void 0,h=d?e:c,s=Bt(l=>{const u=typeof l=="function"?l(h):l;x(h,u)&&(d||i(u),m(u))},[d,m,h,x]);return[h,s]}var Ap={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},ti={enter:{duration:.2,ease:Ap.easeOut},exit:{duration:.1,ease:Ap.easeIn}},ni={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},xS={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:ni.enter(ti.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:ni.exit(ti.exit,n),transitionEnd:e==null?void 0:e.exit}}},h0={initial:"exit",animate:"enter",exit:"exit",variants:xS},wS=D.forwardRef(function(e,n){const{unmountOnExit:r,in:p,className:m,transition:x,transitionEnd:c,delay:i,...d}=e,h=p||r?"enter":"exit",s=r?p&&r:!0,l={transition:x,transitionEnd:c,delay:i};return C.jsx(ro,{custom:l,children:s&&C.jsx(ui.div,{ref:n,className:et("chakra-fade",m),custom:l,...h0,animate:h,...d})})});wS.displayName="Fade";var _S={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:p})=>{var m;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(m=n==null?void 0:n.exit)!=null?m:ni.exit(ti.exit,p)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:ni.enter(ti.enter,n),transitionEnd:t==null?void 0:t.enter}}},d0={initial:"exit",animate:"enter",exit:"exit",variants:_S},SS=D.forwardRef(function(e,n){const{unmountOnExit:r,in:p,reverse:m=!0,initialScale:x=.95,className:c,transition:i,transitionEnd:d,delay:h,...s}=e,l=r?p&&r:!0,a=p||r?"enter":"exit",u={initialScale:x,reverse:m,transition:i,transitionEnd:d,delay:h};return C.jsx(ro,{custom:u,children:l&&C.jsx(ui.div,{ref:n,className:et("chakra-offset-slide",c),...d0,animate:a,custom:u,...s})})});SS.displayName="ScaleFade";var CS={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:p})=>{var m;return{opacity:0,x:t,y:e,transition:(m=n==null?void 0:n.exit)!=null?m:ni.exit(ti.exit,p),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:ni.enter(ti.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:p,delay:m})=>{var x;const c={x:e,y:t};return{opacity:0,transition:(x=n==null?void 0:n.exit)!=null?x:ni.exit(ti.exit,m),...p?{...c,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...c,...r==null?void 0:r.exit}}}}},Hs={initial:"initial",animate:"enter",exit:"exit",variants:CS},TS=D.forwardRef(function(e,n){const{unmountOnExit:r,in:p,reverse:m=!0,className:x,offsetX:c=0,offsetY:i=8,transition:d,transitionEnd:h,delay:s,...l}=e,a=r?p&&r:!0,u=p||r?"enter":"exit",v={offsetX:c,offsetY:i,reverse:m,transition:d,transitionEnd:h,delay:s};return C.jsx(ro,{custom:v,children:a&&C.jsx(ui.div,{ref:n,className:et("chakra-offset-slide",x),custom:v,...Hs,animate:u,...l})})});TS.displayName="SlideFade";var Ma=je(function(e,n){const{htmlWidth:r,htmlHeight:p,alt:m,...x}=e;return C.jsx("img",{width:r,height:p,ref:n,alt:m,...x})});Ma.displayName="NativeImage";function OS(t){const{loading:e,src:n,srcSet:r,onLoad:p,onError:m,crossOrigin:x,sizes:c,ignoreFallback:i}=t,[d,h]=D.useState("pending");D.useEffect(()=>{h(n?"loading":"pending")},[n]);const s=D.useRef(),l=D.useCallback(()=>{if(!n)return;a();const u=new Image;u.src=n,x&&(u.crossOrigin=x),r&&(u.srcset=r),c&&(u.sizes=c),e&&(u.loading=e),u.onload=v=>{a(),h("loaded"),p==null||p(v)},u.onerror=v=>{a(),h("failed"),m==null||m(v)},s.current=u},[n,x,r,c,p,m,e]),a=()=>{s.current&&(s.current.onload=null,s.current.onerror=null,s.current=null)};return t0(()=>{if(!i)return d==="loading"&&l(),()=>{a()}},[d,l,i]),i?"loaded":d}var ES=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function PS(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var qi=je(function(e,n){const{fallbackSrc:r,fallback:p,src:m,srcSet:x,align:c,fit:i,loading:d,ignoreFallback:h,crossOrigin:s,fallbackStrategy:l="beforeLoadOrError",referrerPolicy:a,...u}=e,v=r!==void 0||p!==void 0,f=d!=null||h||!v,y=OS({...e,crossOrigin:s,ignoreFallback:f}),b=ES(y,l),_={ref:n,objectFit:i,objectPosition:c,...f?u:PS(u,["onError","onLoad"])};return b?p||C.jsx(Me.img,{as:Ma,className:"chakra-image__placeholder",src:r,..._}):C.jsx(Me.img,{as:Ma,src:m,srcSet:x,crossOrigin:s,loading:d,referrerPolicy:a,className:"chakra-image",..._})});qi.displayName="Image";var AS=je((t,e)=>C.jsx(Me.img,{ref:e,as:Ma,className:"chakra-image",...t}));function p0(t){return D.Children.toArray(t).filter(e=>D.isValidElement(e))}var[XF,kS]=zt({strict:!1,name:"ButtonGroupContext"});function DS(t){const[e,n]=D.useState(!t);return{ref:D.useCallback(m=>{m&&n(m.tagName==="BUTTON")},[]),type:e?"button":void 0}}function mu(t){const{children:e,className:n,...r}=t,p=D.isValidElement(e)?D.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,m=et("chakra-button__icon",n);return C.jsx(Me.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:m,children:p})}mu.displayName="ButtonIcon";function yu(t){const{label:e,placement:n,spacing:r="0.5rem",children:p=C.jsx(n0,{color:"currentColor",width:"1em",height:"1em"}),className:m,__css:x,...c}=t,i=et("chakra-button__spinner",m),d=n==="start"?"marginEnd":"marginStart",h=D.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[d]:e?r:0,fontSize:"1em",lineHeight:"normal",...x}),[x,e,d,r]);return C.jsx(Me.div,{className:i,...c,__css:h,children:p})}yu.displayName="ButtonSpinner";var Ot=je((t,e)=>{const n=kS(),r=io("Button",{...n,...t}),{isDisabled:p=n==null?void 0:n.isDisabled,isLoading:m,isActive:x,children:c,leftIcon:i,rightIcon:d,loadingText:h,iconSpacing:s="0.5rem",type:l,spinner:a,spinnerPlacement:u="start",className:v,as:f,...y}=bn(t),b=D.useMemo(()=>{const E={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:E}}},[r,n]),{ref:_,type:S}=DS(f),T={rightIcon:d,leftIcon:i,iconSpacing:s,children:c};return C.jsxs(Me.button,{ref:vS(e,_),as:f,type:l??S,"data-active":Dn(x),"data-loading":Dn(m),__css:b,className:et("chakra-button",v),...y,disabled:p||m,children:[m&&u==="start"&&C.jsx(yu,{className:"chakra-button__spinner--start",label:h,placement:"start",spacing:s,children:a}),m?h||C.jsx(Me.span,{opacity:0,children:C.jsx(kp,{...T})}):C.jsx(kp,{...T}),m&&u==="end"&&C.jsx(yu,{className:"chakra-button__spinner--end",label:h,placement:"end",spacing:s,children:a})]})});Ot.displayName="Button";function kp(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:p}=t;return C.jsxs(C.Fragment,{children:[e&&C.jsx(mu,{marginEnd:p,children:e}),r,n&&C.jsx(mu,{marginStart:p,children:n})]})}var[MS,IS]=zt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FS,g0]=zt({strict:!1,name:"FormControlContext"});function LS(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:p,isReadOnly:m,...x}=t,c=D.useId(),i=e||`field-${c}`,d=`${i}-label`,h=`${i}-feedback`,s=`${i}-helptext`,[l,a]=D.useState(!1),[u,v]=D.useState(!1),[f,y]=D.useState(!1),b=D.useCallback((P={},F=null)=>({id:s,...P,ref:It(F,R=>{R&&v(!0)})}),[s]),_=D.useCallback((P={},F=null)=>({...P,ref:F,"data-focus":Dn(f),"data-disabled":Dn(p),"data-invalid":Dn(r),"data-readonly":Dn(m),id:P.id!==void 0?P.id:d,htmlFor:P.htmlFor!==void 0?P.htmlFor:i}),[i,p,f,r,m,d]),S=D.useCallback((P={},F=null)=>({id:h,...P,ref:It(F,R=>{R&&a(!0)}),"aria-live":"polite"}),[h]),T=D.useCallback((P={},F=null)=>({...P,...x,ref:F,role:"group","data-focus":Dn(f),"data-disabled":Dn(p),"data-invalid":Dn(r),"data-readonly":Dn(m)}),[x,p,f,r,m]),E=D.useCallback((P={},F=null)=>({...P,ref:F,role:"presentation","aria-hidden":!0,children:P.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!m,isDisabled:!!p,isFocused:!!f,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:l,setHasFeedbackText:a,hasHelpText:u,setHasHelpText:v,id:i,labelId:d,feedbackId:h,helpTextId:s,htmlProps:x,getHelpTextProps:b,getErrorMessageProps:S,getRootProps:T,getLabelProps:_,getRequiredIndicatorProps:E}}var jS=je(function(e,n){const r=_r("Form",e),p=bn(e),{getRootProps:m,htmlProps:x,...c}=LS(p),i=et("chakra-form-control",e.className);return C.jsx(FS,{value:c,children:C.jsx(MS,{value:r,children:C.jsx(Me.div,{...m({},n),className:i,__css:r.container})})})});jS.displayName="FormControl";var RS=je(function(e,n){const r=g0(),p=IS(),m=et("chakra-form__helper-text",e.className);return C.jsx(Me.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:p.helperText,className:m})});RS.displayName="FormHelperText";function v0(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:p,...m}=m0(t);return{...m,disabled:e,readOnly:r,required:p,"aria-invalid":Xi(n),"aria-required":Xi(p),"aria-readonly":Xi(r)}}function m0(t){var e,n,r;const p=g0(),{id:m,disabled:x,readOnly:c,required:i,isRequired:d,isInvalid:h,isReadOnly:s,isDisabled:l,onFocus:a,onBlur:u,...v}=t,f=t["aria-describedby"]?[t["aria-describedby"]]:[];return p!=null&&p.hasFeedbackText&&(p!=null&&p.isInvalid)&&f.push(p.feedbackId),p!=null&&p.hasHelpText&&f.push(p.helpTextId),{...v,"aria-describedby":f.join(" ")||void 0,id:m??(p==null?void 0:p.id),isDisabled:(e=x??l)!=null?e:p==null?void 0:p.isDisabled,isReadOnly:(n=c??s)!=null?n:p==null?void 0:p.isReadOnly,isRequired:(r=i??d)!=null?r:p==null?void 0:p.isRequired,isInvalid:h??(p==null?void 0:p.isInvalid),onFocus:ct(p==null?void 0:p.onFocus,a),onBlur:ct(p==null?void 0:p.onBlur,u)}}function BS(t){const e=parseFloat(t);return typeof e!="number"||Number.isNaN(e)?0:e}function sf(t,e){let n=BS(t);const r=10**(e??10);return n=Math.round(n*r)/r,e?n.toFixed(e):n.toString()}function bu(t){if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n}function Dp(t,e,n){return(t-e)*100/(n-e)}function NS(t,e,n){return(n-e)*t+e}function zS(t,e,n){const r=Math.round((t-e)/n)*n+e,p=bu(n);return sf(r,p)}function xu(t,e,n){return t==null?t:(n<e&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,e),n))}function WS(t={}){const{onChange:e,precision:n,defaultValue:r,value:p,step:m=1,min:x=Number.MIN_SAFE_INTEGER,max:c=Number.MAX_SAFE_INTEGER,keepWithinRange:i=!0}=t,d=Bt(e),[h,s]=D.useState(()=>{var j;return r==null?"":(j=Cc(r,m,n))!=null?j:""}),l=typeof p<"u",a=l?p:h,u=y0(Lr(a),m),v=n??u,f=D.useCallback(j=>{j!==a&&(l||s(j.toString()),d==null||d(j.toString(),Lr(j)))},[d,l,a]),y=D.useCallback(j=>{let H=j;return i&&(H=xu(H,x,c)),sf(H,v)},[v,i,c,x]),b=D.useCallback((j=m)=>{let H;a===""?H=Lr(j):H=Lr(a)+j,H=y(H),f(H)},[y,m,f,a]),_=D.useCallback((j=m)=>{let H;a===""?H=Lr(-j):H=Lr(a)-j,H=y(H),f(H)},[y,m,f,a]),S=D.useCallback(()=>{var j;let H;r==null?H="":H=(j=Cc(r,m,n))!=null?j:x,f(H)},[r,n,m,f,x]),T=D.useCallback(j=>{var H;const Z=(H=Cc(j,m,v))!=null?H:x;f(Z)},[v,m,f,x]),E=Lr(a);return{isOutOfRange:E>c||E<x,isAtMax:E===c,isAtMin:E===x,precision:v,value:a,valueAsNumber:E,update:f,reset:S,increment:b,decrement:_,clamp:y,cast:T,setValue:s}}function Lr(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function y0(t,e){return Math.max(bu(e),bu(t))}function Cc(t,e,n){const r=Lr(t);if(Number.isNaN(r))return;const p=y0(r,e);return sf(r,n??p)}function Gs(t,e,n,r){const p=Bt(n);return D.useEffect(()=>{const m=typeof t=="function"?t():t??document;if(!(!n||!m))return m.addEventListener(e,p,r),()=>{m.removeEventListener(e,p,r)}},[e,t,r,p,n]),()=>{const m=typeof t=="function"?t():t??document;m==null||m.removeEventListener(e,p,r)}}function HS(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var b0={exports:{}},US="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VS=US,GS=VS;function x0(){}function w0(){}w0.resetWarningCache=x0;var YS=function(){function t(r,p,m,x,c,i){if(i!==GS){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:w0,resetWarningCache:x0};return n.PropTypes=n,n};b0.exports=YS();var _0=b0.exports,wu="data-focus-lock",S0="data-focus-lock-disabled",XS="data-no-focus-lock",$S="data-autofocus-inside",qS="data-no-autofocus";function Tc(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KS(t,e){var n=D.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var p=n.value;p!==r&&(n.value=r,n.callback(r,p))}}}})[0];return n.callback=e,n.facade}var JS=typeof window<"u"?D.useLayoutEffect:D.useEffect,Mp=new WeakMap;function C0(t,e){var n=KS(null,function(r){return t.forEach(function(p){return Tc(p,r)})});return JS(function(){var r=Mp.get(n);if(r){var p=new Set(r),m=new Set(t),x=n.current;p.forEach(function(c){m.has(c)||Tc(c,null)}),m.forEach(function(c){p.has(c)||Tc(c,x)})}Mp.set(n,t)},[t]),n}var Oc={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},_u=function(t,e){return _u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&(n[p]=r[p])},_u(t,e)};function ao(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_u(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,p=arguments.length;r<p;r++){n=arguments[r];for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(e[m]=n[m])}return e},Jn.apply(this,arguments)};function T0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,r=Object.getOwnPropertySymbols(t);p<r.length;p++)e.indexOf(r[p])<0&&Object.prototype.propertyIsEnumerable.call(t,r[p])&&(n[r[p]]=t[r[p]]);return n}function Su(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),p,m=[],x;try{for(;(e===void 0||e-- >0)&&!(p=r.next()).done;)m.push(p.value)}catch(c){x={error:c}}finally{try{p&&!p.done&&(n=r.return)&&n.call(r)}finally{if(x)throw x.error}}return m}function Ia(t,e,n){if(n||arguments.length===2)for(var r=0,p=e.length,m;r<p;r++)(m||!(r in e))&&(m||(m=Array.prototype.slice.call(e,0,r)),m[r]=e[r]);return t.concat(m||Array.prototype.slice.call(e))}function O0(t){return t}function E0(t,e){e===void 0&&(e=O0);var n=[],r=!1,p={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(m){var x=e(m,r);return n.push(x),function(){n=n.filter(function(c){return c!==x})}},assignSyncMedium:function(m){for(r=!0;n.length;){var x=n;n=[],x.forEach(m)}n={push:function(c){return m(c)},filter:function(){return n}}},assignMedium:function(m){r=!0;var x=[];if(n.length){var c=n;n=[],c.forEach(m),x=n}var i=function(){var h=x;x=[],h.forEach(m)},d=function(){return Promise.resolve().then(i)};d(),n={push:function(h){x.push(h),d()},filter:function(h){return x=x.filter(h),n}}}};return p}function of(t,e){return e===void 0&&(e=O0),E0(t,e)}function P0(t){t===void 0&&(t={});var e=E0(null);return e.options=Jn({async:!0,ssr:!1},t),e}var A0=function(t){var e=t.sideCar,n=T0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,Jn({},n))};A0.isSideCarExport=!0;function ZS(t,e){return t.useMedium(e),A0}var k0=of({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),D0=of(),QS=of(),eC=P0({async:!0,ssr:typeof document<"u"}),tC=D.createContext(void 0),nC=[],af=D.forwardRef(function(e,n){var r,p=D.useState(),m=p[0],x=p[1],c=D.useRef(),i=D.useRef(!1),d=D.useRef(null),h=D.useState({}),s=h[1],l=e.children,a=e.disabled,u=a===void 0?!1:a,v=e.noFocusGuards,f=v===void 0?!1:v,y=e.persistentFocus,b=y===void 0?!1:y,_=e.crossFrame,S=_===void 0?!0:_,T=e.autoFocus,E=T===void 0?!0:T;e.allowTextSelection;var P=e.group,F=e.className,R=e.whiteList,j=e.hasPositiveIndices,H=e.shards,Z=H===void 0?nC:H,Q=e.as,se=Q===void 0?"div":Q,le=e.lockProps,ge=le===void 0?{}:le,X=e.sideCar,ie=e.returnFocus,k=ie===void 0?!1:ie,z=e.focusOptions,N=e.onActivation,W=e.onDeactivation,K=D.useState({}),B=K[0],M=D.useCallback(function(ce){var te=ce.captureFocusRestore;if(!d.current){var ae,_e=(ae=document)==null?void 0:ae.activeElement;d.current=_e,_e!==document.body&&(d.current=te(_e))}c.current&&N&&N(c.current),i.current=!0,s()},[N]),Y=D.useCallback(function(){i.current=!1,W&&W(c.current),s()},[W]),q=D.useCallback(function(ce){var te=d.current;if(te){var ae=(typeof te=="function"?te():te)||document.body,_e=typeof k=="function"?k(ae):k;if(_e){var Pe=typeof _e=="object"?_e:void 0;d.current=null,ce?Promise.resolve().then(function(){return ae.focus(Pe)}):ae.focus(Pe)}}},[k]),re=D.useCallback(function(ce){i.current&&k0.useMedium(ce)},[]),ee=D0.useMedium,he=D.useCallback(function(ce){c.current!==ce&&(c.current=ce,x(ce))},[]),pe=du((r={},r[S0]=u&&"disabled",r[wu]=P,r),ge),ve=f!==!0,ne=ve&&f!=="tail",V=C0([n,he]),fe=D.useMemo(function(){return{observed:c,shards:Z,enabled:!u,active:i.current}},[u,i.current,Z,m]);return D.createElement(D.Fragment,null,ve&&[D.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:u?-1:0,style:Oc}),j?D.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:u?-1:1,style:Oc}):null],!u&&D.createElement(X,{id:B,sideCar:eC,observed:m,disabled:u,persistentFocus:b,crossFrame:S,autoFocus:E,whiteList:R,shards:Z,onActivation:M,onDeactivation:Y,returnFocus:q,focusOptions:z}),D.createElement(se,du({ref:V},pe,{className:F,onBlur:ee,onFocus:re}),D.createElement(tC.Provider,{value:fe},l)),ne&&D.createElement("div",{"data-focus-guard":!0,tabIndex:u?-1:0,style:Oc}))});af.propTypes={};function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,p){return r.__proto__=p,r},Tu(t,e)}function rC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tu(t,e)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function iC(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sC(t){var e=iC(t,"string");return Ks(e)=="symbol"?e:e+""}function oC(t,e,n){return e=sC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aC(t,e){function n(r){return r.displayName||r.name||"Component"}return function(p){var m=[],x;function c(){x=t(m.map(function(d){return d.props})),e(x)}var i=function(d){rC(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return x};var s=h.prototype;return s.componentDidMount=function(){m.push(this),c()},s.componentDidUpdate=function(){c()},s.componentWillUnmount=function(){var a=m.indexOf(this);m.splice(a,1),c()},s.render=function(){return Pt.createElement(p,this.props)},h}(D.PureComponent);return oC(i,"displayName","SideEffect("+n(p)+")"),i}}var tr=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},oi=function(t){return Array.isArray(t)?t:[t]},M0=function(t){return Array.isArray(t)?t[0]:t},lC=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},I0=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},F0=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},cC=function(t){return t.hasAttribute("inert")},uC=function(t,e){return!t||F0(t)||!lC(t)&&!cC(t)&&e(I0(t))},L0=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=uC(e,L0.bind(void 0,t));return t.set(e,r),r},fC=function(t,e){return t&&!F0(t)?pC(t)?e(I0(t)):!1:!0},j0=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=fC(e,j0.bind(void 0,t));return t.set(e,r),r},R0=function(t){return t.dataset},hC=function(t){return t.tagName==="BUTTON"},B0=function(t){return t.tagName==="INPUT"},N0=function(t){return B0(t)&&t.type==="radio"},dC=function(t){return!((B0(t)||hC(t))&&(t.type==="hidden"||t.disabled))},pC=function(t){var e=t.getAttribute(qS);return![!0,"true",""].includes(e)},lf=function(t){var e;return!!(t&&(!((e=R0(t))===null||e===void 0)&&e.focusGuard))},Ou=function(t){return!lf(t)},gC=function(t){return!!t},vC=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),p=n-r,m=t.index-e.index;if(p){if(!n)return 1;if(!r)return-1}return p||m},mC=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},cf=function(t,e,n){return tr(t).map(function(r,p){var m=mC(r);return{node:r,index:p,tabIndex:n&&m===-1?(r.dataset||{}).focusGuard?0:-1:m}}).filter(function(r){return!e||r.tabIndex>=0}).sort(vC)},yC=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],uf=yC.join(","),bC="".concat(uf,", [data-focus-guard]"),z0=function(t,e){return tr((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?bC:uf)?[r]:[],z0(r))},[])},xC=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?ts([t.contentDocument.body],e):[t]},ts=function(t,e){return t.reduce(function(n,r){var p,m=z0(r,e),x=(p=[]).concat.apply(p,m.map(function(c){return xC(c,e)}));return n.concat(x,r.parentNode?tr(r.parentNode.querySelectorAll(uf)).filter(function(c){return c===r}):[])},[])},wC=function(t){var e=t.querySelectorAll("[".concat($S,"]"));return tr(e).map(function(n){return ts([n])}).reduce(function(n,r){return n.concat(r)},[])},ff=function(t,e){return tr(t).filter(function(n){return L0(e,n)}).filter(function(n){return dC(n)})},Ip=function(t,e){return e===void 0&&(e=new Map),tr(t).filter(function(n){return j0(e,n)})},hf=function(t,e,n){return cf(ff(ts(t,n),e),!0,n)},Fa=function(t,e){return cf(ff(ts(t),e),!1)},_C=function(t,e){return ff(wC(t),e)},ri=function(t,e){return t.shadowRoot?ri(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:tr(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var p=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return p?ri(p,e):!1}return ri(n,e)})},SC=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var p=r+1;p<n;p+=1){var m=t[r].compareDocumentPosition(t[p]);(m&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(p),(m&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(x,c){return!e.has(c)})},W0=function(t){return t.parentNode?W0(t.parentNode):t},df=function(t){var e=oi(t);return e.filter(Boolean).reduce(function(n,r){var p=r.getAttribute(wu);return n.push.apply(n,p?SC(tr(W0(r).querySelectorAll("[".concat(wu,'="').concat(p,'"]:not([').concat(S0,'="disabled"])')))):[r]),n},[])},CC=function(t){try{return t()}catch{return}},Js=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Js(e.shadowRoot):e instanceof HTMLIFrameElement&&CC(function(){return e.contentWindow.document})?Js(e.contentWindow.document):e}},TC=function(t,e){return t===e},OC=function(t,e){return!!tr(t.querySelectorAll("iframe")).some(function(n){return TC(n,e)})},H0=function(t,e){return e===void 0&&(e=Js(M0(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:df(t).some(function(n){return ri(n,e)||OC(n,e)})},EC=function(t){t===void 0&&(t=document);var e=Js(t);return e?tr(t.querySelectorAll("[".concat(XS,"]"))).some(function(n){return ri(n,e)}):!1},PC=function(t,e){return e.filter(N0).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},pf=function(t,e){return N0(t)&&t.name?PC(t,e):t},AC=function(t){var e=new Set;return t.forEach(function(n){return e.add(pf(n,t))}),t.filter(function(n){return e.has(n)})},Fp=function(t){return t[0]&&t.length>1?pf(t[0],t):t[0]},Lp=function(t,e){return t.indexOf(pf(e,t))},Eu="NEW_FOCUS",kC=function(t,e,n,r,p){var m=t.length,x=t[0],c=t[m-1],i=lf(r);if(!(r&&t.indexOf(r)>=0)){var d=r!==void 0?n.indexOf(r):-1,h=p?n.indexOf(p):d,s=p?t.indexOf(p):-1;if(d===-1)return s!==-1?s:Eu;if(s===-1)return Eu;var l=d-h,a=n.indexOf(x),u=n.indexOf(c),v=AC(n),f=r!==void 0?v.indexOf(r):-1,y=f-(p?v.indexOf(p):d);if(!l&&s>=0||e.length===0)return s;var b=Lp(t,e[0]),_=Lp(t,e[e.length-1]);if(d<=a&&i&&Math.abs(l)>1)return _;if(d>=u&&i&&Math.abs(l)>1)return b;if(l&&Math.abs(y)>1)return s;if(d<=a)return _;if(d>u)return b;if(l)return Math.abs(l)>1?s:(m+s+l)%m}},DC=function(t){return function(e){var n,r=(n=R0(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},jp=function(t,e,n){var r=t.map(function(m){var x=m.node;return x}),p=Ip(r.filter(DC(n)));return p&&p.length?Fp(p):Fp(Ip(e))},Pu=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&Pu(t.parentNode.host||t.parentNode,e),e},Ec=function(t,e){for(var n=Pu(t),r=Pu(e),p=0;p<n.length;p+=1){var m=n[p];if(r.indexOf(m)>=0)return m}return!1},U0=function(t,e,n){var r=oi(t),p=oi(e),m=r[0],x=!1;return p.filter(Boolean).forEach(function(c){x=Ec(x||c,c)||x,n.filter(Boolean).forEach(function(i){var d=Ec(m,i);d&&(!x||ri(d,x)?x=d:x=Ec(d,x))})}),x},Rp=function(t,e){return t.reduce(function(n,r){return n.concat(_C(r,e))},[])},MC=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(gC)},IC=function(t,e){var n=Js(oi(t).length>0?document:M0(t).ownerDocument),r=df(t).filter(Ou),p=U0(n||t,t,r),m=new Map,x=Fa(r,m),c=x.filter(function(u){var v=u.node;return Ou(v)});if(c[0]){var i=Fa([p],m).map(function(u){var v=u.node;return v}),d=MC(i,c),h=d.map(function(u){var v=u.node;return v}),s=d.filter(function(u){var v=u.tabIndex;return v>=0}).map(function(u){var v=u.node;return v}),l=kC(h,s,i,n,e);if(l===Eu){var a=jp(x,s,Rp(r,m))||jp(x,h,Rp(r,m));if(a)return{node:a};console.warn("focus-lock: cannot find any node to move focus into");return}return l===void 0?l:d[l]}},FC=function(t){var e=df(t).filter(Ou),n=U0(t,t,e),r=cf(ts([n],!0),!0,!0),p=ts(e,!1);return r.map(function(m){var x=m.node,c=m.index;return{node:x,index:c,lockItem:p.indexOf(x)>=0,guard:lf(x)}})},gf=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Pc=0,Ac=!1,V0=function(t,e,n){n===void 0&&(n={});var r=IC(t,e);if(!Ac&&r){if(Pc>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Ac=!0,setTimeout(function(){Ac=!1},1);return}Pc++,gf(r.node,n.focusOptions),Pc--}};function Ls(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var LC=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:Ls(n),parent:Ls(n.parentElement),left:Ls(n.previousElementSibling),right:Ls(n.nextElementSibling)}),n=n.parentElement;return{element:Ls(t),stack:e,ownerDocument:t.ownerDocument}},jC=function(t){var e,n,r,p,m;if(t)for(var x=t.stack,c=t.ownerDocument,i=new Map,d=0,h=x;d<h.length;d++){var s=h[d],l=(e=s.parent)===null||e===void 0?void 0:e.call(s);if(l&&c.contains(l)){for(var a=(n=s.left)===null||n===void 0?void 0:n.call(s),u=s.current(),v=l.contains(u)?u:void 0,f=(r=s.right)===null||r===void 0?void 0:r.call(s),y=hf([l],i),b=(m=(p=v??(a==null?void 0:a.nextElementSibling))!==null&&p!==void 0?p:f)!==null&&m!==void 0?m:a;b;){for(var _=0,S=y;_<S.length;_++){var T=S[_];if(b!=null&&b.contains(T.node))return T.node}b=b.nextElementSibling}if(y.length)return y[0].node}}},RC=function(t){var e=LC(t);return function(){return jC(e)}},BC=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=oi(e);if(r.every(function(x){return!ri(x,t)}))return console.error("Active element is not contained in the scope"),{};var p=n?hf(r,new Map):Fa(r,new Map),m=p.findIndex(function(x){var c=x.node;return c===t});if(m!==-1)return{prev:p[m-1],next:p[m+1],first:p[0],last:p[p.length-1]}},NC=function(t,e){var n=e?hf(oi(t),new Map):Fa(oi(t),new Map);return{first:n[0],last:n[n.length-1]}},zC=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},G0=function(t,e,n){e===void 0&&(e={});var r=zC(e),p=BC(t,r.scope,r.onlyTabbable);if(p){var m=n(p,r.cycle);m&&gf(m.node,r.focusOptions)}},WC=function(t,e){e===void 0&&(e={}),G0(t,e,function(n,r){var p=n.next,m=n.first;return p||r&&m})},HC=function(t,e){e===void 0&&(e={}),G0(t,e,function(n,r){var p=n.prev,m=n.last;return p||r&&m})},Y0=function(t,e,n){var r,p=NC(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),m=p[n];m&&gf(m.node,e.focusOptions)},UC=function(t,e){e===void 0&&(e={}),Y0(t,e,"first")},VC=function(t,e){e===void 0&&(e={}),Y0(t,e,"last")};function vf(t){setTimeout(t,1)}var GC=function(e){return e&&"current"in e?e.current:e},YC=function(){return document&&document.activeElement===document.body},XC=function(){return YC()||EC()},Ki=null,zi=null,Ji=null,Zs=!1,$C=function(){return!0},qC=function(e){return(Ki.whiteList||$C)(e)},KC=function(e,n){Ji={observerNode:e,portaledElement:n}},JC=function(e){return Ji&&Ji.portaledElement===e};function Bp(t,e,n,r){var p=null,m=t;do{var x=r[m];if(x.guard)x.node.dataset.focusAutoGuard&&(p=x);else if(x.lockItem){if(m!==t)return;p=null}else break}while((m+=n)!==e);p&&(p.node.tabIndex=0)}var ZC=function(e){return e?!!Zs:Zs==="meanwhile"},QC=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},eT=function(e,n){return n.some(function(r){return QC(e,r,r)})},La=function(){var e=!1;if(Ki){var n=Ki,r=n.observed,p=n.persistentFocus,m=n.autoFocus,x=n.shards,c=n.crossFrame,i=n.focusOptions,d=r||Ji&&Ji.portaledElement,h=document&&document.activeElement;if(d){var s=[d].concat(x.map(GC).filter(Boolean));if((!h||qC(h))&&(p||ZC(c)||!XC()||!zi&&m)&&(d&&!(H0(s)||h&&eT(h,s)||JC(h))&&(document&&!zi&&h&&!m?(h.blur&&h.blur(),document.body.focus()):(e=V0(s,zi,{focusOptions:i}),Ji={})),Zs=!1,zi=document&&document.activeElement),document&&h!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var l=document&&document.activeElement,a=FC(s),u=a.map(function(v){var f=v.node;return f}).indexOf(l);u>-1&&(a.filter(function(v){var f=v.guard,y=v.node;return f&&y.dataset.focusAutoGuard}).forEach(function(v){var f=v.node;return f.removeAttribute("tabIndex")}),Bp(u,a.length,1,a),Bp(u,-1,-1,a))}}}return e},X0=function(e){La()&&e&&(e.stopPropagation(),e.preventDefault())},mf=function(){return vf(La)},tT=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||KC(r,n)},nT=function(){return null},$0=function(){Zs="just",vf(function(){Zs="meanwhile"})},rT=function(){document.addEventListener("focusin",X0),document.addEventListener("focusout",mf),window.addEventListener("blur",$0)},iT=function(){document.removeEventListener("focusin",X0),document.removeEventListener("focusout",mf),window.removeEventListener("blur",$0)};function sT(t){return t.filter(function(e){var n=e.disabled;return!n})}var q0={moveFocusInside:V0,focusInside:H0,focusNextElement:WC,focusPrevElement:HC,focusFirstElement:UC,focusLastElement:VC,captureFocusRestore:RC};function oT(t){var e=t.slice(-1)[0];e&&!Ki&&rT();var n=Ki,r=n&&e&&e.id===n.id;Ki=e,n&&!r&&(n.onDeactivation(),t.filter(function(p){var m=p.id;return m===n.id}).length||n.returnFocus(!e)),e?(zi=null,(!r||n.observed!==e.observed)&&e.onActivation(q0),La(),vf(La)):(iT(),zi=null)}k0.assignSyncMedium(tT);D0.assignMedium(mf);QS.assignMedium(function(t){return t(q0)});const aT=aC(sT,oT)(nT);var Au=D.forwardRef(function(e,n){return D.createElement(af,du({sideCar:aT,ref:n},e))}),K0=af.propTypes||{};K0.sideCar;HS(K0,["sideCar"]);Au.propTypes={};function J0(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function yf(t){var e;if(!J0(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function lT(t){var e,n;return(n=(e=Z0(t))==null?void 0:e.defaultView)!=null?n:window}function Z0(t){return J0(t)?t.ownerDocument:document}function cT(t){return Z0(t).activeElement}function uT(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:p}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+p+r)}function fT(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function Q0(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:yf(t)&&uT(t)?t:Q0(fT(t))}var ev=t=>t.hasAttribute("tabindex"),hT=t=>ev(t)&&t.tabIndex===-1;function dT(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function tv(t){return t.parentElement&&tv(t.parentElement)?!0:t.hidden}function pT(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function nv(t){if(!yf(t)||tv(t)||dT(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():pT(t)?!0:ev(t)}function gT(t){return t?yf(t)&&nv(t)&&!hT(t):!1}var vT=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],mT=vT.join(),yT=t=>t.offsetWidth>0&&t.offsetHeight>0;function bT(t){const e=Array.from(t.querySelectorAll(mT));return e.unshift(t),e.filter(n=>nv(n)&&yT(n))}var Np,xT=(Np=Au.default)!=null?Np:Au,rv=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:p,children:m,isDisabled:x,autoFocus:c,persistentFocus:i,lockFocusAcrossFrames:d}=t,h=D.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&bT(r.current).length===0&&requestAnimationFrame(()=>{var u;(u=r.current)==null||u.focus()})},[e,r]),s=D.useCallback(()=>{var a;(a=n==null?void 0:n.current)==null||a.focus()},[n]),l=p&&!n;return C.jsx(xT,{crossFrame:d,persistentFocus:i,autoFocus:c,disabled:x,onActivation:h,onDeactivation:s,returnFocus:l,children:m})};rv.displayName="FocusLock";var wT=rS?D.useLayoutEffect:D.useEffect;function zp(t,e=[]){const n=D.useRef(t);return wT(()=>{n.current=t}),D.useCallback((...r)=>{var p;return(p=n.current)==null?void 0:p.call(n,...r)},e)}function _T(t,e){const n=D.useId();return D.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function ST(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function cs(t={}){const{onClose:e,onOpen:n,isOpen:r,id:p}=t,m=zp(n),x=zp(e),[c,i]=D.useState(t.defaultIsOpen||!1),[d,h]=ST(r,c),s=_T(p,"disclosure"),l=D.useCallback(()=>{d||i(!1),x==null||x()},[d,x]),a=D.useCallback(()=>{d||i(!0),m==null||m()},[d,m]),u=D.useCallback(()=>{(h?l:a)()},[h,a,l]);return{isOpen:!!h,onOpen:a,onClose:l,onToggle:u,isControlled:d,getButtonProps:(v={})=>({...v,"aria-expanded":h,"aria-controls":s,onClick:q_(v.onClick,u)}),getDisclosureProps:(v={})=>({...v,hidden:!h,id:s})}}var[CT,TT]=zt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Dt=je(function(e,n){const r=_r("Input",e),{children:p,className:m,...x}=bn(e),c=et("chakra-input__group",m),i={},d=p0(p),h=r.field;d.forEach(l=>{var a,u;r&&(h&&l.type.id==="InputLeftElement"&&(i.paddingStart=(a=h.height)!=null?a:h.h),h&&l.type.id==="InputRightElement"&&(i.paddingEnd=(u=h.height)!=null?u:h.h),l.type.id==="InputRightAddon"&&(i.borderEndRadius=0),l.type.id==="InputLeftAddon"&&(i.borderStartRadius=0))});const s=d.map(l=>{var a,u;const v=l0({size:((a=l.props)==null?void 0:a.size)||e.size,variant:((u=l.props)==null?void 0:u.variant)||e.variant});return l.type.id!=="Input"?D.cloneElement(l,v):D.cloneElement(l,Object.assign(v,i,l.props))});return C.jsx(Me.div,{className:c,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...x,children:C.jsx(CT,{value:r,children:s})})});Dt.displayName="InputGroup";var OT={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},ET=Me("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),bf=je(function(e,n){var r;const{placement:p="left",...m}=e,x=(r=OT[p])!=null?r:{},c=TT();return C.jsx(ET,{ref:n,...m,__css:{...c.addon,...x}})});bf.displayName="InputAddon";var Et=je(function(e,n){return C.jsx(bf,{ref:n,placement:"left",...e,className:et("chakra-input__left-addon",e.className)})});Et.displayName="InputLeftAddon";Et.id="InputLeftAddon";var iv=je(function(e,n){return C.jsx(bf,{ref:n,placement:"right",...e,className:et("chakra-input__right-addon",e.className)})});iv.displayName="InputRightAddon";iv.id="InputRightAddon";var Vt=je(function(e,n){const{htmlSize:r,...p}=e,m=_r("Input",p),x=bn(p),c=v0(x),i=et("chakra-input",e.className);return C.jsx(Me.input,{size:r,...c,__css:m.field,ref:n,className:i})});Vt.displayName="Input";Vt.id="Input";var sv=je(function(e,n){const r=io("Link",e),{className:p,isExternal:m,...x}=bn(e);return C.jsx(Me.a,{target:m?"_blank":void 0,rel:m?"noopener":void 0,ref:n,className:et("chakra-link",p),...x,__css:r})});sv.displayName="Link";var ov=Me("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});ov.displayName="Spacer";var Fe=je(function(e,n){const r=io("Text",e),{className:p,align:m,decoration:x,casing:c,...i}=bn(e),d=l0({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return C.jsx(Me.p,{ref:n,className:et("chakra-text",e.className),...d,...i,__css:r})});Fe.displayName="Text";var mr=Me("div");mr.displayName="Box";var av=je(function(e,n){const{size:r,centerContent:p=!0,...m}=e,x=p?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return C.jsx(mr,{ref:n,boxSize:r,__css:{...x,flexShrink:0,flexGrow:0},...m})});av.displayName="Square";var PT=je(function(e,n){const{size:r,...p}=e;return C.jsx(av,{size:r,ref:n,borderRadius:"9999px",...p})});PT.displayName="Circle";var Mn=Me("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Mn.displayName="Center";var AT={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};je(function(e,n){const{axis:r="both",...p}=e;return C.jsx(Me.div,{ref:n,__css:AT[r],...p,position:"absolute"})});var De=je(function(e,n){const{direction:r,align:p,justify:m,wrap:x,basis:c,grow:i,shrink:d,...h}=e,s={display:"flex",flexDirection:r,alignItems:p,justifyContent:m,flexWrap:x,flexBasis:c,flexGrow:i,flexShrink:d};return C.jsx(Me.div,{ref:n,__css:s,...h})});De.displayName="Flex";function kT(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function DT(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,p]=D.useState([]),m=D.useRef(),x=()=>{m.current&&(clearTimeout(m.current),m.current=null)},c=()=>{x(),m.current=setTimeout(()=>{p([]),m.current=null},e)};D.useEffect(()=>x,[]);function i(d){return h=>{if(h.key==="Backspace"){const s=[...r];s.pop(),p(s);return}if(kT(h)){const s=r.concat(h.key);n(h)&&(h.preventDefault(),h.stopPropagation()),p(s),d(s.join("")),c()}}}return i}function MT(t,e,n,r){if(e==null)return r;if(!r)return t.find(x=>n(x).toLowerCase().startsWith(e.toLowerCase()));const p=t.filter(m=>n(m).toLowerCase().startsWith(e.toLowerCase()));if(p.length>0){let m;return p.includes(r)?(m=p.indexOf(r)+1,m===p.length&&(m=0),p[m]):(m=t.indexOf(p[0]),t[m])}return r}function IT(){const t=D.useRef(new Map),e=t.current,n=D.useCallback((p,m,x,c)=>{t.current.set(x,{type:m,el:p,options:c}),p.addEventListener(m,x,c)},[]),r=D.useCallback((p,m,x,c)=>{p.removeEventListener(m,x,c),t.current.delete(x)},[]);return D.useEffect(()=>()=>{e.forEach((p,m)=>{r(p.el,p.type,m,p.options)})},[r,e]),{add:n,remove:r}}function kc(t){const e=t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function lv(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:p=!0,clickOnSpace:m=!0,onMouseDown:x,onMouseUp:c,onClick:i,onKeyDown:d,onKeyUp:h,tabIndex:s,onMouseOver:l,onMouseLeave:a,...u}=t,[v,f]=D.useState(!0),[y,b]=D.useState(!1),_=IT(),S=X=>{X&&X.tagName!=="BUTTON"&&f(!1)},T=v?s:s||0,E=n&&!r,P=D.useCallback(X=>{if(n){X.stopPropagation(),X.preventDefault();return}X.currentTarget.focus(),i==null||i(X)},[n,i]),F=D.useCallback(X=>{y&&kc(X)&&(X.preventDefault(),X.stopPropagation(),b(!1),_.remove(document,"keyup",F,!1))},[y,_]),R=D.useCallback(X=>{if(d==null||d(X),n||X.defaultPrevented||X.metaKey||!kc(X.nativeEvent)||v)return;const ie=p&&X.key==="Enter";m&&X.key===" "&&(X.preventDefault(),b(!0)),ie&&(X.preventDefault(),X.currentTarget.click()),_.add(document,"keyup",F,!1)},[n,v,d,p,m,_,F]),j=D.useCallback(X=>{if(h==null||h(X),n||X.defaultPrevented||X.metaKey||!kc(X.nativeEvent)||v)return;m&&X.key===" "&&(X.preventDefault(),b(!1),X.currentTarget.click())},[m,v,n,h]),H=D.useCallback(X=>{X.button===0&&(b(!1),_.remove(document,"mouseup",H,!1))},[_]),Z=D.useCallback(X=>{if(X.button!==0)return;if(n){X.stopPropagation(),X.preventDefault();return}v||b(!0),X.currentTarget.focus({preventScroll:!0}),_.add(document,"mouseup",H,!1),x==null||x(X)},[n,v,x,_,H]),Q=D.useCallback(X=>{X.button===0&&(v||b(!1),c==null||c(X))},[c,v]),se=D.useCallback(X=>{if(n){X.preventDefault();return}l==null||l(X)},[n,l]),le=D.useCallback(X=>{y&&(X.preventDefault(),b(!1)),a==null||a(X)},[y,a]),ge=It(e,S);return v?{...u,ref:ge,type:"button","aria-disabled":E?void 0:n,disabled:E,onClick:P,onMouseDown:x,onMouseUp:c,onKeyUp:h,onKeyDown:d,onMouseOver:l,onMouseLeave:a}:{...u,ref:ge,role:"button","data-active":Dn(y),"aria-disabled":n?"true":void 0,tabIndex:E?void 0:T,onClick:P,onMouseDown:Z,onMouseUp:Q,onKeyUp:j,onKeyDown:R,onMouseOver:se,onMouseLeave:le}}function FT(t){const e=t.current;if(!e)return!1;const n=cT(e);return!n||e.contains(n)?!1:!!gT(n)}function LT(t,e){const{shouldFocus:n,visible:r,focusRef:p}=e,m=n&&!r;so(()=>{if(!m||FT(t))return;const x=(p==null?void 0:p.current)||t.current;let c;if(x)return c=requestAnimationFrame(()=>{x.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(c)}},[m,t,p])}var ki=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),Rt={arrowShadowColor:ki("--popper-arrow-shadow-color"),arrowSize:ki("--popper-arrow-size","8px"),arrowSizeHalf:ki("--popper-arrow-size-half"),arrowBg:ki("--popper-arrow-bg"),transformOrigin:ki("--popper-transform-origin"),arrowOffset:ki("--popper-arrow-offset")};function jT(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var RT={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},BT=t=>RT[t],Wp={scroll:!0,resize:!0};function NT(t){let e;return typeof t=="object"?e={enabled:!0,options:{...Wp,...t}}:e={enabled:t,options:Wp},e}var zT={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},WT={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{Hp(t)},effect:({state:t})=>()=>{Hp(t)}},Hp=t=>{t.elements.popper.style.setProperty(Rt.transformOrigin.var,BT(t.placement))},HT={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{UT(t)}},UT=t=>{var e;if(!t.placement)return;const n=VT(t.placement);if((e=t.elements)!=null&&e.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:Rt.arrowSize.varRef,height:Rt.arrowSize.varRef,zIndex:-1});const r={[Rt.arrowSizeHalf.var]:`calc(${Rt.arrowSize.varRef} / 2 - 1px)`,[Rt.arrowOffset.var]:`calc(${Rt.arrowSizeHalf.varRef} * -1)`};for(const p in r)t.elements.arrow.style.setProperty(p,r[p])}},VT=t=>{if(t.startsWith("top"))return{property:"bottom",value:Rt.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Rt.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Rt.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Rt.arrowOffset.varRef}},GT={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{Up(t)},effect:({state:t})=>()=>{Up(t)}},Up=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=jT(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:Rt.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},YT={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},XT={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function $T(t,e="ltr"){var n,r;const p=((n=YT[t])==null?void 0:n[e])||t;return e==="ltr"?p:(r=XT[t])!=null?r:p}var sn="top",jn="bottom",Rn="right",on="left",xf="auto",lo=[sn,jn,Rn,on],ns="start",Qs="end",qT="clippingParents",cv="viewport",js="popper",KT="reference",Vp=lo.reduce(function(t,e){return t.concat([e+"-"+ns,e+"-"+Qs])},[]),uv=[].concat(lo,[xf]).reduce(function(t,e){return t.concat([e,e+"-"+ns,e+"-"+Qs])},[]),JT="beforeRead",ZT="read",QT="afterRead",eO="beforeMain",tO="main",nO="afterMain",rO="beforeWrite",iO="write",sO="afterWrite",oO=[JT,ZT,QT,eO,tO,nO,rO,iO,sO];function er(t){return t?(t.nodeName||"").toLowerCase():null}function yn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ai(t){var e=yn(t).Element;return t instanceof e||t instanceof Element}function In(t){var e=yn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function wf(t){if(typeof ShadowRoot>"u")return!1;var e=yn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function aO(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},p=e.attributes[n]||{},m=e.elements[n];!In(m)||!er(m)||(Object.assign(m.style,r),Object.keys(p).forEach(function(x){var c=p[x];c===!1?m.removeAttribute(x):m.setAttribute(x,c===!0?"":c)}))})}function lO(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var p=e.elements[r],m=e.attributes[r]||{},x=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=x.reduce(function(i,d){return i[d]="",i},{});!In(p)||!er(p)||(Object.assign(p.style,c),Object.keys(m).forEach(function(i){p.removeAttribute(i)}))})}}const cO={name:"applyStyles",enabled:!0,phase:"write",fn:aO,effect:lO,requires:["computeStyles"]};function Qn(t){return t.split("-")[0]}var ii=Math.max,ja=Math.min,rs=Math.round;function ku(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fv(){return!/^((?!chrome|android).)*safari/i.test(ku())}function is(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),p=1,m=1;e&&In(t)&&(p=t.offsetWidth>0&&rs(r.width)/t.offsetWidth||1,m=t.offsetHeight>0&&rs(r.height)/t.offsetHeight||1);var x=ai(t)?yn(t):window,c=x.visualViewport,i=!fv()&&n,d=(r.left+(i&&c?c.offsetLeft:0))/p,h=(r.top+(i&&c?c.offsetTop:0))/m,s=r.width/p,l=r.height/m;return{width:s,height:l,top:h,right:d+s,bottom:h+l,left:d,x:d,y:h}}function _f(t){var e=is(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function hv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&wf(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xr(t){return yn(t).getComputedStyle(t)}function uO(t){return["table","td","th"].indexOf(er(t))>=0}function Wr(t){return((ai(t)?t.ownerDocument:t.document)||window.document).documentElement}function Va(t){return er(t)==="html"?t:t.assignedSlot||t.parentNode||(wf(t)?t.host:null)||Wr(t)}function Gp(t){return!In(t)||xr(t).position==="fixed"?null:t.offsetParent}function fO(t){var e=/firefox/i.test(ku()),n=/Trident/i.test(ku());if(n&&In(t)){var r=xr(t);if(r.position==="fixed")return null}var p=Va(t);for(wf(p)&&(p=p.host);In(p)&&["html","body"].indexOf(er(p))<0;){var m=xr(p);if(m.transform!=="none"||m.perspective!=="none"||m.contain==="paint"||["transform","perspective"].indexOf(m.willChange)!==-1||e&&m.willChange==="filter"||e&&m.filter&&m.filter!=="none")return p;p=p.parentNode}return null}function co(t){for(var e=yn(t),n=Gp(t);n&&uO(n)&&xr(n).position==="static";)n=Gp(n);return n&&(er(n)==="html"||er(n)==="body"&&xr(n).position==="static")?e:n||fO(t)||e}function Sf(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ys(t,e,n){return ii(t,ja(e,n))}function hO(t,e,n){var r=Ys(t,e,n);return r>n?n:r}function dv(){return{top:0,right:0,bottom:0,left:0}}function pv(t){return Object.assign({},dv(),t)}function gv(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var dO=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,pv(typeof e!="number"?e:gv(e,lo))};function pO(t){var e,n=t.state,r=t.name,p=t.options,m=n.elements.arrow,x=n.modifiersData.popperOffsets,c=Qn(n.placement),i=Sf(c),d=[on,Rn].indexOf(c)>=0,h=d?"height":"width";if(!(!m||!x)){var s=dO(p.padding,n),l=_f(m),a=i==="y"?sn:on,u=i==="y"?jn:Rn,v=n.rects.reference[h]+n.rects.reference[i]-x[i]-n.rects.popper[h],f=x[i]-n.rects.reference[i],y=co(m),b=y?i==="y"?y.clientHeight||0:y.clientWidth||0:0,_=v/2-f/2,S=s[a],T=b-l[h]-s[u],E=b/2-l[h]/2+_,P=Ys(S,E,T),F=i;n.modifiersData[r]=(e={},e[F]=P,e.centerOffset=P-E,e)}}function gO(t){var e=t.state,n=t.options,r=n.element,p=r===void 0?"[data-popper-arrow]":r;p!=null&&(typeof p=="string"&&(p=e.elements.popper.querySelector(p),!p)||hv(e.elements.popper,p)&&(e.elements.arrow=p))}const vO={name:"arrow",enabled:!0,phase:"main",fn:pO,effect:gO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ss(t){return t.split("-")[1]}var mO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yO(t,e){var n=t.x,r=t.y,p=e.devicePixelRatio||1;return{x:rs(n*p)/p||0,y:rs(r*p)/p||0}}function Yp(t){var e,n=t.popper,r=t.popperRect,p=t.placement,m=t.variation,x=t.offsets,c=t.position,i=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,s=t.isFixed,l=x.x,a=l===void 0?0:l,u=x.y,v=u===void 0?0:u,f=typeof h=="function"?h({x:a,y:v}):{x:a,y:v};a=f.x,v=f.y;var y=x.hasOwnProperty("x"),b=x.hasOwnProperty("y"),_=on,S=sn,T=window;if(d){var E=co(n),P="clientHeight",F="clientWidth";if(E===yn(n)&&(E=Wr(n),xr(E).position!=="static"&&c==="absolute"&&(P="scrollHeight",F="scrollWidth")),E=E,p===sn||(p===on||p===Rn)&&m===Qs){S=jn;var R=s&&E===T&&T.visualViewport?T.visualViewport.height:E[P];v-=R-r.height,v*=i?1:-1}if(p===on||(p===sn||p===jn)&&m===Qs){_=Rn;var j=s&&E===T&&T.visualViewport?T.visualViewport.width:E[F];a-=j-r.width,a*=i?1:-1}}var H=Object.assign({position:c},d&&mO),Z=h===!0?yO({x:a,y:v},yn(n)):{x:a,y:v};if(a=Z.x,v=Z.y,i){var Q;return Object.assign({},H,(Q={},Q[S]=b?"0":"",Q[_]=y?"0":"",Q.transform=(T.devicePixelRatio||1)<=1?"translate("+a+"px, "+v+"px)":"translate3d("+a+"px, "+v+"px, 0)",Q))}return Object.assign({},H,(e={},e[S]=b?v+"px":"",e[_]=y?a+"px":"",e.transform="",e))}function bO(t){var e=t.state,n=t.options,r=n.gpuAcceleration,p=r===void 0?!0:r,m=n.adaptive,x=m===void 0?!0:m,c=n.roundOffsets,i=c===void 0?!0:c,d={placement:Qn(e.placement),variation:ss(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:p,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yp(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:x,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yp(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bO,data:{}};var sa={passive:!0};function wO(t){var e=t.state,n=t.instance,r=t.options,p=r.scroll,m=p===void 0?!0:p,x=r.resize,c=x===void 0?!0:x,i=yn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return m&&d.forEach(function(h){h.addEventListener("scroll",n.update,sa)}),c&&i.addEventListener("resize",n.update,sa),function(){m&&d.forEach(function(h){h.removeEventListener("scroll",n.update,sa)}),c&&i.removeEventListener("resize",n.update,sa)}}const _O={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wO,data:{}};var SO={left:"right",right:"left",bottom:"top",top:"bottom"};function xa(t){return t.replace(/left|right|bottom|top/g,function(e){return SO[e]})}var CO={start:"end",end:"start"};function Xp(t){return t.replace(/start|end/g,function(e){return CO[e]})}function Cf(t){var e=yn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Tf(t){return is(Wr(t)).left+Cf(t).scrollLeft}function TO(t,e){var n=yn(t),r=Wr(t),p=n.visualViewport,m=r.clientWidth,x=r.clientHeight,c=0,i=0;if(p){m=p.width,x=p.height;var d=fv();(d||!d&&e==="fixed")&&(c=p.offsetLeft,i=p.offsetTop)}return{width:m,height:x,x:c+Tf(t),y:i}}function OO(t){var e,n=Wr(t),r=Cf(t),p=(e=t.ownerDocument)==null?void 0:e.body,m=ii(n.scrollWidth,n.clientWidth,p?p.scrollWidth:0,p?p.clientWidth:0),x=ii(n.scrollHeight,n.clientHeight,p?p.scrollHeight:0,p?p.clientHeight:0),c=-r.scrollLeft+Tf(t),i=-r.scrollTop;return xr(p||n).direction==="rtl"&&(c+=ii(n.clientWidth,p?p.clientWidth:0)-m),{width:m,height:x,x:c,y:i}}function Of(t){var e=xr(t),n=e.overflow,r=e.overflowX,p=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+p+r)}function vv(t){return["html","body","#document"].indexOf(er(t))>=0?t.ownerDocument.body:In(t)&&Of(t)?t:vv(Va(t))}function Xs(t,e){var n;e===void 0&&(e=[]);var r=vv(t),p=r===((n=t.ownerDocument)==null?void 0:n.body),m=yn(r),x=p?[m].concat(m.visualViewport||[],Of(r)?r:[]):r,c=e.concat(x);return p?c:c.concat(Xs(Va(x)))}function Du(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function EO(t,e){var n=is(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $p(t,e,n){return e===cv?Du(TO(t,n)):ai(e)?EO(e,n):Du(OO(Wr(t)))}function PO(t){var e=Xs(Va(t)),n=["absolute","fixed"].indexOf(xr(t).position)>=0,r=n&&In(t)?co(t):t;return ai(r)?e.filter(function(p){return ai(p)&&hv(p,r)&&er(p)!=="body"}):[]}function AO(t,e,n,r){var p=e==="clippingParents"?PO(t):[].concat(e),m=[].concat(p,[n]),x=m[0],c=m.reduce(function(i,d){var h=$p(t,d,r);return i.top=ii(h.top,i.top),i.right=ja(h.right,i.right),i.bottom=ja(h.bottom,i.bottom),i.left=ii(h.left,i.left),i},$p(t,x,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mv(t){var e=t.reference,n=t.element,r=t.placement,p=r?Qn(r):null,m=r?ss(r):null,x=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,i;switch(p){case sn:i={x,y:e.y-n.height};break;case jn:i={x,y:e.y+e.height};break;case Rn:i={x:e.x+e.width,y:c};break;case on:i={x:e.x-n.width,y:c};break;default:i={x:e.x,y:e.y}}var d=p?Sf(p):null;if(d!=null){var h=d==="y"?"height":"width";switch(m){case ns:i[d]=i[d]-(e[h]/2-n[h]/2);break;case Qs:i[d]=i[d]+(e[h]/2-n[h]/2);break}}return i}function eo(t,e){e===void 0&&(e={});var n=e,r=n.placement,p=r===void 0?t.placement:r,m=n.strategy,x=m===void 0?t.strategy:m,c=n.boundary,i=c===void 0?qT:c,d=n.rootBoundary,h=d===void 0?cv:d,s=n.elementContext,l=s===void 0?js:s,a=n.altBoundary,u=a===void 0?!1:a,v=n.padding,f=v===void 0?0:v,y=pv(typeof f!="number"?f:gv(f,lo)),b=l===js?KT:js,_=t.rects.popper,S=t.elements[u?b:l],T=AO(ai(S)?S:S.contextElement||Wr(t.elements.popper),i,h,x),E=is(t.elements.reference),P=mv({reference:E,element:_,strategy:"absolute",placement:p}),F=Du(Object.assign({},_,P)),R=l===js?F:E,j={top:T.top-R.top+y.top,bottom:R.bottom-T.bottom+y.bottom,left:T.left-R.left+y.left,right:R.right-T.right+y.right},H=t.modifiersData.offset;if(l===js&&H){var Z=H[p];Object.keys(j).forEach(function(Q){var se=[Rn,jn].indexOf(Q)>=0?1:-1,le=[sn,jn].indexOf(Q)>=0?"y":"x";j[Q]+=Z[le]*se})}return j}function kO(t,e){e===void 0&&(e={});var n=e,r=n.placement,p=n.boundary,m=n.rootBoundary,x=n.padding,c=n.flipVariations,i=n.allowedAutoPlacements,d=i===void 0?uv:i,h=ss(r),s=h?c?Vp:Vp.filter(function(u){return ss(u)===h}):lo,l=s.filter(function(u){return d.indexOf(u)>=0});l.length===0&&(l=s);var a=l.reduce(function(u,v){return u[v]=eo(t,{placement:v,boundary:p,rootBoundary:m,padding:x})[Qn(v)],u},{});return Object.keys(a).sort(function(u,v){return a[u]-a[v]})}function DO(t){if(Qn(t)===xf)return[];var e=xa(t);return[Xp(t),e,Xp(e)]}function MO(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var p=n.mainAxis,m=p===void 0?!0:p,x=n.altAxis,c=x===void 0?!0:x,i=n.fallbackPlacements,d=n.padding,h=n.boundary,s=n.rootBoundary,l=n.altBoundary,a=n.flipVariations,u=a===void 0?!0:a,v=n.allowedAutoPlacements,f=e.options.placement,y=Qn(f),b=y===f,_=i||(b||!u?[xa(f)]:DO(f)),S=[f].concat(_).reduce(function(B,M){return B.concat(Qn(M)===xf?kO(e,{placement:M,boundary:h,rootBoundary:s,padding:d,flipVariations:u,allowedAutoPlacements:v}):M)},[]),T=e.rects.reference,E=e.rects.popper,P=new Map,F=!0,R=S[0],j=0;j<S.length;j++){var H=S[j],Z=Qn(H),Q=ss(H)===ns,se=[sn,jn].indexOf(Z)>=0,le=se?"width":"height",ge=eo(e,{placement:H,boundary:h,rootBoundary:s,altBoundary:l,padding:d}),X=se?Q?Rn:on:Q?jn:sn;T[le]>E[le]&&(X=xa(X));var ie=xa(X),k=[];if(m&&k.push(ge[Z]<=0),c&&k.push(ge[X]<=0,ge[ie]<=0),k.every(function(B){return B})){R=H,F=!1;break}P.set(H,k)}if(F)for(var z=u?3:1,N=function(M){var Y=S.find(function(q){var re=P.get(q);if(re)return re.slice(0,M).every(function(ee){return ee})});if(Y)return R=Y,"break"},W=z;W>0;W--){var K=N(W);if(K==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const IO={name:"flip",enabled:!0,phase:"main",fn:MO,requiresIfExists:["offset"],data:{_skip:!1}};function qp(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Kp(t){return[sn,Rn,jn,on].some(function(e){return t[e]>=0})}function FO(t){var e=t.state,n=t.name,r=e.rects.reference,p=e.rects.popper,m=e.modifiersData.preventOverflow,x=eo(e,{elementContext:"reference"}),c=eo(e,{altBoundary:!0}),i=qp(x,r),d=qp(c,p,m),h=Kp(i),s=Kp(d);e.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:s},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":s})}const LO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FO};function jO(t,e,n){var r=Qn(t),p=[on,sn].indexOf(r)>=0?-1:1,m=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,x=m[0],c=m[1];return x=x||0,c=(c||0)*p,[on,Rn].indexOf(r)>=0?{x:c,y:x}:{x,y:c}}function RO(t){var e=t.state,n=t.options,r=t.name,p=n.offset,m=p===void 0?[0,0]:p,x=uv.reduce(function(h,s){return h[s]=jO(s,e.rects,m),h},{}),c=x[e.placement],i=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=x}const BO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RO};function NO(t){var e=t.state,n=t.name;e.modifiersData[n]=mv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const zO={name:"popperOffsets",enabled:!0,phase:"read",fn:NO,data:{}};function WO(t){return t==="x"?"y":"x"}function HO(t){var e=t.state,n=t.options,r=t.name,p=n.mainAxis,m=p===void 0?!0:p,x=n.altAxis,c=x===void 0?!1:x,i=n.boundary,d=n.rootBoundary,h=n.altBoundary,s=n.padding,l=n.tether,a=l===void 0?!0:l,u=n.tetherOffset,v=u===void 0?0:u,f=eo(e,{boundary:i,rootBoundary:d,padding:s,altBoundary:h}),y=Qn(e.placement),b=ss(e.placement),_=!b,S=Sf(y),T=WO(S),E=e.modifiersData.popperOffsets,P=e.rects.reference,F=e.rects.popper,R=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,j=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Z={x:0,y:0};if(E){if(m){var Q,se=S==="y"?sn:on,le=S==="y"?jn:Rn,ge=S==="y"?"height":"width",X=E[S],ie=X+f[se],k=X-f[le],z=a?-F[ge]/2:0,N=b===ns?P[ge]:F[ge],W=b===ns?-F[ge]:-P[ge],K=e.elements.arrow,B=a&&K?_f(K):{width:0,height:0},M=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dv(),Y=M[se],q=M[le],re=Ys(0,P[ge],B[ge]),ee=_?P[ge]/2-z-re-Y-j.mainAxis:N-re-Y-j.mainAxis,he=_?-P[ge]/2+z+re+q+j.mainAxis:W+re+q+j.mainAxis,pe=e.elements.arrow&&co(e.elements.arrow),ve=pe?S==="y"?pe.clientTop||0:pe.clientLeft||0:0,ne=(Q=H==null?void 0:H[S])!=null?Q:0,V=X+ee-ne-ve,fe=X+he-ne,ce=Ys(a?ja(ie,V):ie,X,a?ii(k,fe):k);E[S]=ce,Z[S]=ce-X}if(c){var te,ae=S==="x"?sn:on,_e=S==="x"?jn:Rn,Pe=E[T],Se=T==="y"?"height":"width",ue=Pe+f[ae],Ee=Pe-f[_e],Le=[sn,on].indexOf(y)!==-1,We=(te=H==null?void 0:H[T])!=null?te:0,rt=Le?ue:Pe-P[Se]-F[Se]-We+j.altAxis,Ve=Le?Pe+P[Se]+F[Se]-We-j.altAxis:Ee,we=a&&Le?hO(rt,Pe,Ve):Ys(a?rt:ue,Pe,a?Ve:Ee);E[T]=we,Z[T]=we-Pe}e.modifiersData[r]=Z}}const UO={name:"preventOverflow",enabled:!0,phase:"main",fn:HO,requiresIfExists:["offset"]};function VO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function GO(t){return t===yn(t)||!In(t)?Cf(t):VO(t)}function YO(t){var e=t.getBoundingClientRect(),n=rs(e.width)/t.offsetWidth||1,r=rs(e.height)/t.offsetHeight||1;return n!==1||r!==1}function XO(t,e,n){n===void 0&&(n=!1);var r=In(e),p=In(e)&&YO(e),m=Wr(e),x=is(t,p,n),c={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(r||!r&&!n)&&((er(e)!=="body"||Of(m))&&(c=GO(e)),In(e)?(i=is(e,!0),i.x+=e.clientLeft,i.y+=e.clientTop):m&&(i.x=Tf(m))),{x:x.left+c.scrollLeft-i.x,y:x.top+c.scrollTop-i.y,width:x.width,height:x.height}}function $O(t){var e=new Map,n=new Set,r=[];t.forEach(function(m){e.set(m.name,m)});function p(m){n.add(m.name);var x=[].concat(m.requires||[],m.requiresIfExists||[]);x.forEach(function(c){if(!n.has(c)){var i=e.get(c);i&&p(i)}}),r.push(m)}return t.forEach(function(m){n.has(m.name)||p(m)}),r}function qO(t){var e=$O(t);return oO.reduce(function(n,r){return n.concat(e.filter(function(p){return p.phase===r}))},[])}function KO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function JO(t){var e=t.reduce(function(n,r){var p=n[r.name];return n[r.name]=p?Object.assign({},p,r,{options:Object.assign({},p.options,r.options),data:Object.assign({},p.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Jp={placement:"bottom",modifiers:[],strategy:"absolute"};function Zp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ZO(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,p=e.defaultOptions,m=p===void 0?Jp:p;return function(c,i,d){d===void 0&&(d=m);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jp,m),modifiersData:{},elements:{reference:c,popper:i},attributes:{},styles:{}},s=[],l=!1,a={state:h,setOptions:function(y){var b=typeof y=="function"?y(h.options):y;v(),h.options=Object.assign({},m,h.options,b),h.scrollParents={reference:ai(c)?Xs(c):c.contextElement?Xs(c.contextElement):[],popper:Xs(i)};var _=qO(JO([].concat(r,h.options.modifiers)));return h.orderedModifiers=_.filter(function(S){return S.enabled}),u(),a.update()},forceUpdate:function(){if(!l){var y=h.elements,b=y.reference,_=y.popper;if(Zp(b,_)){h.rects={reference:XO(b,co(_),h.options.strategy==="fixed"),popper:_f(_)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(j){return h.modifiersData[j.name]=Object.assign({},j.data)});for(var S=0;S<h.orderedModifiers.length;S++){if(h.reset===!0){h.reset=!1,S=-1;continue}var T=h.orderedModifiers[S],E=T.fn,P=T.options,F=P===void 0?{}:P,R=T.name;typeof E=="function"&&(h=E({state:h,options:F,name:R,instance:a})||h)}}}},update:KO(function(){return new Promise(function(f){a.forceUpdate(),f(h)})}),destroy:function(){v(),l=!0}};if(!Zp(c,i))return a;a.setOptions(d).then(function(f){!l&&d.onFirstUpdate&&d.onFirstUpdate(f)});function u(){h.orderedModifiers.forEach(function(f){var y=f.name,b=f.options,_=b===void 0?{}:b,S=f.effect;if(typeof S=="function"){var T=S({state:h,name:y,instance:a,options:_}),E=function(){};s.push(T||E)}})}function v(){s.forEach(function(f){return f()}),s=[]}return a}}var QO=[_O,zO,xO,cO,BO,IO,UO,vO,LO],eE=ZO({defaultModifiers:QO});function yv(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:p="absolute",arrowPadding:m=8,eventListeners:x=!0,offset:c,gutter:i=8,flip:d=!0,boundary:h="clippingParents",preventOverflow:s=!0,matchWidth:l,direction:a="ltr"}=t,u=D.useRef(null),v=D.useRef(null),f=D.useRef(null),y=$T(r,a),b=D.useRef(()=>{}),_=D.useCallback(()=>{var j;!e||!u.current||!v.current||((j=b.current)==null||j.call(b),f.current=eE(u.current,v.current,{placement:y,modifiers:[GT,HT,WT,{...zT,enabled:!!l},{name:"eventListeners",...NT(x)},{name:"arrow",options:{padding:m}},{name:"offset",options:{offset:c??[0,i]}},{name:"flip",enabled:!!d,options:{padding:8}},{name:"preventOverflow",enabled:!!s,options:{boundary:h}},...n??[]],strategy:p}),f.current.forceUpdate(),b.current=f.current.destroy)},[y,e,n,l,x,m,c,i,d,s,h,p]);D.useEffect(()=>()=>{var j;!u.current&&!v.current&&((j=f.current)==null||j.destroy(),f.current=null)},[]);const S=D.useCallback(j=>{u.current=j,_()},[_]),T=D.useCallback((j={},H=null)=>({...j,ref:It(S,H)}),[S]),E=D.useCallback(j=>{v.current=j,_()},[_]),P=D.useCallback((j={},H=null)=>({...j,ref:It(E,H),style:{...j.style,position:p,minWidth:l?void 0:"max-content",inset:"0 auto auto 0"}}),[p,E,l]),F=D.useCallback((j={},H=null)=>{const{size:Z,shadowColor:Q,bg:se,style:le,...ge}=j;return{...ge,ref:H,"data-popper-arrow":"",style:tE(j)}},[]),R=D.useCallback((j={},H=null)=>({...j,ref:H,"data-popper-arrow-inner":""}),[]);return{update(){var j;(j=f.current)==null||j.update()},forceUpdate(){var j;(j=f.current)==null||j.forceUpdate()},transformOrigin:Rt.transformOrigin.varRef,referenceRef:S,popperRef:E,getPopperProps:P,getArrowProps:F,getArrowInnerProps:R,getReferenceProps:T}}function tE(t){const{size:e,shadowColor:n,bg:r,style:p}=t,m={...p,position:"absolute"};return e&&(m["--popper-arrow-size"]=e),n&&(m["--popper-arrow-shadow-color"]=n),r&&(m["--popper-arrow-bg"]=r),m}function bv(t={}){const{onClose:e,onOpen:n,isOpen:r,id:p}=t,m=Bt(n),x=Bt(e),[c,i]=D.useState(t.defaultIsOpen||!1),d=r!==void 0?r:c,h=r!==void 0,s=D.useId(),l=p??`disclosure-${s}`,a=D.useCallback(()=>{h||i(!1),x==null||x()},[h,x]),u=D.useCallback(()=>{h||i(!0),m==null||m()},[h,m]),v=D.useCallback(()=>{d?a():u()},[d,u,a]);function f(b={}){return{...b,"aria-expanded":d,"aria-controls":l,onClick(_){var S;(S=b.onClick)==null||S.call(b,_),v()}}}function y(b={}){return{...b,hidden:!d,id:l}}return{isOpen:d,onOpen:u,onClose:a,onToggle:v,isControlled:h,getButtonProps:f,getDisclosureProps:y}}function nE(t){const{ref:e,handler:n,enabled:r=!0}=t,p=Bt(n),x=D.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;D.useEffect(()=>{if(!r)return;const c=s=>{Dc(s,e)&&(x.isPointerDown=!0)},i=s=>{if(x.ignoreEmulatedMouseEvents){x.ignoreEmulatedMouseEvents=!1;return}x.isPointerDown&&n&&Dc(s,e)&&(x.isPointerDown=!1,p(s))},d=s=>{x.ignoreEmulatedMouseEvents=!0,n&&x.isPointerDown&&Dc(s,e)&&(x.isPointerDown=!1,p(s))},h=xv(e.current);return h.addEventListener("mousedown",c,!0),h.addEventListener("mouseup",i,!0),h.addEventListener("touchstart",c,!0),h.addEventListener("touchend",d,!0),()=>{h.removeEventListener("mousedown",c,!0),h.removeEventListener("mouseup",i,!0),h.removeEventListener("touchstart",c,!0),h.removeEventListener("touchend",d,!0)}},[n,e,p,x,r])}function Dc(t,e){var n;const r=t.target;return r&&!xv(r).contains(r)?!1:!((n=e.current)!=null&&n.contains(r))}function xv(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function rE(t){const{isOpen:e,ref:n}=t,[r,p]=D.useState(e),[m,x]=D.useState(!1);return D.useEffect(()=>{m||(p(e),x(!0))},[e,m,r]),Gs(()=>n.current,"animationend",()=>{p(e)}),{present:!(e?!1:!r),onComplete(){var i;const d=lT(n.current),h=new d.CustomEvent("animationend",{bubbles:!0});(i=n.current)==null||i.dispatchEvent(h)}}}function wv(t){const{wasSelected:e,enabled:n,isSelected:r,mode:p="unmount"}=t;return!!(!n||r||p==="keepMounted"&&e)}var[iE,sE,oE,aE]=u0(),[lE,uo]=zt({strict:!1,name:"MenuContext"});function cE(t,...e){const n=D.useId(),r=t||n;return D.useMemo(()=>e.map(p=>`${p}-${r}`),[r,e])}function _v(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function Qp(t){return _v(t).activeElement===t}function uE(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:p,autoSelect:m=!0,isLazy:x,isOpen:c,defaultIsOpen:i,onClose:d,onOpen:h,placement:s="bottom-start",lazyBehavior:l="unmount",direction:a,computePositionOnMount:u=!1,...v}=t,f=D.useRef(null),y=D.useRef(null),b=oE(),_=D.useCallback(()=>{requestAnimationFrame(()=>{var K;(K=f.current)==null||K.focus({preventScroll:!1})})},[]),S=D.useCallback(()=>{const K=setTimeout(()=>{var B;if(p)(B=p.current)==null||B.focus();else{const M=b.firstEnabled();M&&Q(M.index)}});ie.current.add(K)},[b,p]),T=D.useCallback(()=>{const K=setTimeout(()=>{const B=b.lastEnabled();B&&Q(B.index)});ie.current.add(K)},[b]),E=D.useCallback(()=>{h==null||h(),m?S():_()},[m,S,_,h]),{isOpen:P,onOpen:F,onClose:R,onToggle:j}=bv({isOpen:c,defaultIsOpen:i,onClose:d,onOpen:E});nE({enabled:P&&r,ref:f,handler:K=>{var B;(B=y.current)!=null&&B.contains(K.target)||R()}});const H=yv({...v,enabled:P||u,placement:s,direction:a}),[Z,Q]=D.useState(-1);so(()=>{P||Q(-1)},[P]),LT(f,{focusRef:y,visible:P,shouldFocus:!0});const se=rE({isOpen:P,ref:f}),[le,ge]=cE(e,"menu-button","menu-list"),X=D.useCallback(()=>{F(),_()},[F,_]),ie=D.useRef(new Set([]));D.useEffect(()=>{const K=ie.current;return()=>{K.forEach(B=>clearTimeout(B)),K.clear()}},[]);const k=D.useCallback(()=>{F(),S()},[S,F]),z=D.useCallback(()=>{F(),T()},[F,T]),N=D.useCallback(()=>{var K,B;const M=_v(f.current),Y=(K=f.current)==null?void 0:K.contains(M.activeElement);if(!(P&&!Y))return;const re=(B=b.item(Z))==null?void 0:B.node;re==null||re.focus({preventScroll:!0})},[P,Z,b]),W=D.useRef(null);return{openAndFocusMenu:X,openAndFocusFirstItem:k,openAndFocusLastItem:z,onTransitionEnd:N,unstable__animationState:se,descendants:b,popper:H,buttonId:le,menuId:ge,forceUpdate:H.forceUpdate,orientation:"vertical",isOpen:P,onToggle:j,onOpen:F,onClose:R,menuRef:f,buttonRef:y,focusedIndex:Z,closeOnSelect:n,closeOnBlur:r,autoSelect:m,setFocusedIndex:Q,isLazy:x,lazyBehavior:l,initialFocusRef:p,rafId:W}}function fE(t={},e=null){const n=uo(),{onToggle:r,popper:p,openAndFocusFirstItem:m,openAndFocusLastItem:x}=n,c=D.useCallback(i=>{const d=i.key,s={Enter:m,ArrowDown:m,ArrowUp:x}[d];s&&(i.preventDefault(),i.stopPropagation(),s(i))},[m,x]);return{...t,ref:It(n.buttonRef,e,p.referenceRef),id:n.buttonId,"data-active":Dn(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:ct(t.onClick,r),onKeyDown:ct(t.onKeyDown,c)}}function Mu(t){var e;return gE(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function hE(t={},e=null){const n=uo();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:p,menuRef:m,isOpen:x,onClose:c,menuId:i,isLazy:d,lazyBehavior:h,unstable__animationState:s}=n,l=sE(),a=DT({preventDefault:y=>y.key!==" "&&Mu(y.target)}),u=D.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const b=y.key,S={Tab:E=>E.preventDefault(),Escape:c,ArrowDown:()=>{const E=l.nextEnabled(r);E&&p(E.index)},ArrowUp:()=>{const E=l.prevEnabled(r);E&&p(E.index)}}[b];if(S){y.preventDefault(),S(y);return}const T=a(E=>{const P=MT(l.values(),E,F=>{var R,j;return(j=(R=F==null?void 0:F.node)==null?void 0:R.textContent)!=null?j:""},l.item(r));if(P){const F=l.indexOf(P.node);p(F)}});Mu(y.target)&&T(y)},[l,r,a,c,p]),v=D.useRef(!1);x&&(v.current=!0);const f=wv({wasSelected:v.current,enabled:d,mode:h,isSelected:s.present});return{...t,ref:It(m,e),children:f?t.children:null,tabIndex:-1,role:"menu",id:i,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:ct(t.onKeyDown,u)}}function dE(t={}){const{popper:e,isOpen:n}=uo();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function pE(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:p,onClick:m,onFocus:x,isDisabled:c,isFocusable:i,closeOnSelect:d,type:h,...s}=t,l=uo(),{setFocusedIndex:a,focusedIndex:u,closeOnSelect:v,onClose:f,menuRef:y,isOpen:b,menuId:_,rafId:S}=l,T=D.useRef(null),E=`${_}-menuitem-${D.useId()}`,{index:P,register:F}=aE({disabled:c&&!i}),R=D.useCallback(X=>{n==null||n(X),!c&&a(P)},[a,P,c,n]),j=D.useCallback(X=>{r==null||r(X),T.current&&!Qp(T.current)&&R(X)},[R,r]),H=D.useCallback(X=>{p==null||p(X),!c&&a(-1)},[a,c,p]),Z=D.useCallback(X=>{m==null||m(X),Mu(X.currentTarget)&&(d??v)&&f()},[f,m,v,d]),Q=D.useCallback(X=>{x==null||x(X),a(P)},[a,x,P]),se=P===u,le=c&&!i;so(()=>{if(b)return se&&!le&&T.current?(S.current&&cancelAnimationFrame(S.current),S.current=requestAnimationFrame(()=>{var X;(X=T.current)==null||X.focus({preventScroll:!0}),S.current=null})):y.current&&!Qp(y.current)&&y.current.focus({preventScroll:!0}),()=>{S.current&&cancelAnimationFrame(S.current)}},[se,le,y,b]);const ge=lv({onClick:Z,onFocus:Q,onMouseEnter:R,onMouseMove:j,onMouseLeave:H,ref:It(F,T,e),isDisabled:c,isFocusable:i});return{...s,...ge,type:h??ge.type,id:E,role:"menuitem",tabIndex:se?0:-1}}function gE(t){var e;if(!vE(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function vE(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}var[mE,fo]=zt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Ef=t=>{const{children:e}=t,n=_r("Menu",t),r=bn(t),{direction:p}=nf(),{descendants:m,...x}=uE({...r,direction:p}),c=D.useMemo(()=>x,[x]),{isOpen:i,onClose:d,forceUpdate:h}=c;return C.jsx(iE,{value:m,children:C.jsx(lE,{value:c,children:C.jsx(mE,{value:n,children:K_(e,{isOpen:i,onClose:d,forceUpdate:h})})})})};Ef.displayName="Menu";var Sv=je((t,e)=>{const n=fo();return C.jsx(Me.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});Sv.displayName="MenuCommand";var yE=je((t,e)=>{const{type:n,...r}=t,p=fo(),m=r.as||n?n??void 0:"button",x=D.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...p.item}),[p.item]);return C.jsx(Me.button,{ref:e,type:m,...r,__css:x})}),Cv=t=>{const{className:e,children:n,...r}=t,p=fo(),m=D.Children.only(n),x=D.isValidElement(m)?D.cloneElement(m,{focusable:"false","aria-hidden":!0,className:et("chakra-menu__icon",m.props.className)}):null,c=et("chakra-menu__icon-wrapper",e);return C.jsx(Me.span,{className:c,...r,__css:p.icon,children:x})};Cv.displayName="MenuIcon";var Gt=je((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:p,commandSpacing:m="0.75rem",children:x,...c}=t,i=pE(c,e),h=n||p?C.jsx("span",{style:{pointerEvents:"none",flex:1},children:x}):x;return C.jsxs(yE,{...i,className:et("chakra-menu__menuitem",i.className),children:[n&&C.jsx(Cv,{fontSize:"0.8em",marginEnd:r,children:n}),h,p&&C.jsx(Sv,{marginStart:m,children:p})]})});Gt.displayName="MenuItem";var bE={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},xE=Me(ui.div),Pf=je(function(e,n){var r,p;const{rootProps:m,motionProps:x,...c}=e,{isOpen:i,onTransitionEnd:d,unstable__animationState:h}=uo(),s=hE(c,n),l=dE(m),a=fo();return C.jsx(Me.div,{...l,__css:{zIndex:(p=e.zIndex)!=null?p:(r=a.list)==null?void 0:r.zIndex},children:C.jsx(xE,{variants:bE,initial:!1,animate:i?"enter":"exit",__css:{outline:0,...a.list},...x,className:et("chakra-menu__menu-list",s.className),...s,onUpdate:d,onAnimationComplete:J_(h.onComplete,s.onAnimationComplete)})})});Pf.displayName="MenuList";var wE=je((t,e)=>{const n=fo();return C.jsx(Me.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),Tv=je((t,e)=>{const{children:n,as:r,...p}=t,m=fE(p,e),x=r||wE;return C.jsx(x,{...m,className:et("chakra-menu__menu-button",t.className),children:C.jsx(Me.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});Tv.displayName="MenuButton";var _E={slideInBottom:{...Hs,custom:{offsetY:16,reverse:!0}},slideInRight:{...Hs,custom:{offsetX:16,reverse:!0}},slideInTop:{...Hs,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Hs,custom:{offsetX:-16,reverse:!0}},scale:{...d0,custom:{initialScale:.95,reverse:!0}},none:{}},SE=Me(ui.section),CE=t=>_E[t||"none"],Ov=D.forwardRef((t,e)=>{const{preset:n,motionProps:r=CE(n),...p}=t;return C.jsx(SE,{ref:e,...r,...p})});Ov.displayName="ModalTransition";var TE=Object.defineProperty,OE=(t,e,n)=>e in t?TE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EE=(t,e,n)=>(OE(t,e+"",n),n),PE=class{constructor(){EE(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},Iu=new PE;function Ev(t,e){const[n,r]=D.useState(0);return D.useEffect(()=>{const p=t.current;if(p){if(e){const m=Iu.add(p);r(m)}return()=>{Iu.remove(p),r(0)}}},[e,t]),n}var AE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Di=new WeakMap,oa=new WeakMap,aa={},Mc=0,Pv=function(t){return t&&(t.host||Pv(t.parentNode))},kE=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Pv(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},DE=function(t,e,n,r){var p=kE(e,Array.isArray(t)?t:[t]);aa[n]||(aa[n]=new WeakMap);var m=aa[n],x=[],c=new Set,i=new Set(p),d=function(s){!s||c.has(s)||(c.add(s),d(s.parentNode))};p.forEach(d);var h=function(s){!s||i.has(s)||Array.prototype.forEach.call(s.children,function(l){if(c.has(l))h(l);else try{var a=l.getAttribute(r),u=a!==null&&a!=="false",v=(Di.get(l)||0)+1,f=(m.get(l)||0)+1;Di.set(l,v),m.set(l,f),x.push(l),v===1&&u&&oa.set(l,!0),f===1&&l.setAttribute(n,"true"),u||l.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",l,y)}})};return h(e),c.clear(),Mc++,function(){x.forEach(function(s){var l=Di.get(s)-1,a=m.get(s)-1;Di.set(s,l),m.set(s,a),l||(oa.has(s)||s.removeAttribute(r),oa.delete(s)),a||s.removeAttribute(n)}),Mc--,Mc||(Di=new WeakMap,Di=new WeakMap,oa=new WeakMap,aa={})}},ME=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),p=AE(t);return p?(r.push.apply(r,Array.from(p.querySelectorAll("[aria-live]"))),DE(r,p,n,"aria-hidden")):function(){return null}};function IE(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:p=!0,closeOnEsc:m=!0,useInert:x=!0,onOverlayClick:c,onEsc:i}=t,d=D.useRef(null),h=D.useRef(null),[s,l,a]=LE(r,"chakra-modal","chakra-modal--header","chakra-modal--body");FE(d,e&&x);const u=Ev(d,e),v=D.useRef(null),f=D.useCallback(R=>{v.current=R.target},[]),y=D.useCallback(R=>{R.key==="Escape"&&(R.stopPropagation(),m&&(n==null||n()),i==null||i())},[m,n,i]),[b,_]=D.useState(!1),[S,T]=D.useState(!1),E=D.useCallback((R={},j=null)=>({role:"dialog",...R,ref:It(j,d),id:s,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?l:void 0,"aria-describedby":S?a:void 0,onClick:ct(R.onClick,H=>H.stopPropagation())}),[a,S,s,l,b]),P=D.useCallback(R=>{R.stopPropagation(),v.current===R.target&&Iu.isTopModal(d.current)&&(p&&(n==null||n()),c==null||c())},[n,p,c]),F=D.useCallback((R={},j=null)=>({...R,ref:It(j,h),onClick:ct(R.onClick,P),onKeyDown:ct(R.onKeyDown,y),onMouseDown:ct(R.onMouseDown,f)}),[y,f,P]);return{isOpen:e,onClose:n,headerId:l,bodyId:a,setBodyMounted:T,setHeaderMounted:_,dialogRef:d,overlayRef:h,getDialogProps:E,getDialogContainerProps:F,index:u}}function FE(t,e){const n=t.current;D.useEffect(()=>{if(!(!t.current||!e))return ME(t.current)},[e,t,n])}function LE(t,...e){const n=D.useId(),r=t||n;return D.useMemo(()=>e.map(p=>`${p}-${r}`),[r,e])}var[jE,us]=zt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[RE,li]=zt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),fi=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:p,trapFocus:m,initialFocusRef:x,finalFocusRef:c,returnFocusOnClose:i,blockScrollOnMount:d,allowPinchZoom:h,preserveScrollBarGap:s,motionPreset:l,lockFocusAcrossFrames:a,onCloseComplete:u}=e,v=_r("Modal",e),y={...IE(e),autoFocus:p,trapFocus:m,initialFocusRef:x,finalFocusRef:c,returnFocusOnClose:i,blockScrollOnMount:d,allowPinchZoom:h,preserveScrollBarGap:s,motionPreset:l,lockFocusAcrossFrames:a};return C.jsx(RE,{value:y,children:C.jsx(jE,{value:v,children:C.jsx(ro,{onExitComplete:u,children:y.isOpen&&C.jsx(r0,{...n,children:r})})})})};fi.displayName="Modal";var wa="right-scroll-bar-position",_a="width-before-scroll-bar",BE="with-scroll-bars-hidden",NE="--removed-body-scroll-bar-size",Av=P0(),Ic=function(){},Ga=D.forwardRef(function(t,e){var n=D.useRef(null),r=D.useState({onScrollCapture:Ic,onWheelCapture:Ic,onTouchMoveCapture:Ic}),p=r[0],m=r[1],x=t.forwardProps,c=t.children,i=t.className,d=t.removeScrollBar,h=t.enabled,s=t.shards,l=t.sideCar,a=t.noIsolation,u=t.inert,v=t.allowPinchZoom,f=t.as,y=f===void 0?"div":f,b=t.gapMode,_=T0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=l,T=C0([n,e]),E=Jn(Jn({},_),p);return D.createElement(D.Fragment,null,h&&D.createElement(S,{sideCar:Av,removeScrollBar:d,shards:s,noIsolation:a,inert:u,setCallbacks:m,allowPinchZoom:!!v,lockRef:n,gapMode:b}),x?D.cloneElement(D.Children.only(c),Jn(Jn({},E),{ref:T})):D.createElement(y,Jn({},E,{className:i,ref:T}),c))});Ga.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ga.classNames={fullWidth:_a,zeroRight:wa};var zE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zE();return e&&t.setAttribute("nonce",e),t}function HE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function UE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VE=function(){var t=0,e=null;return{add:function(n){t==0&&(e=WE())&&(HE(e,n),UE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},GE=function(){var t=VE();return function(e,n){D.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kv=function(){var t=GE(),e=function(n){var r=n.styles,p=n.dynamic;return t(r,p),null};return e},YE={left:0,top:0,right:0,gap:0},Fc=function(t){return parseInt(t||"",10)||0},XE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],p=e[t==="padding"?"paddingRight":"marginRight"];return[Fc(n),Fc(r),Fc(p)]},$E=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YE;var e=XE(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qE=kv(),Zi="data-scroll-locked",KE=function(t,e,n,r){var p=t.left,m=t.top,x=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(BE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Zi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(p,`px;
    padding-top: `).concat(m,`px;
    padding-right: `).concat(x,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wa,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(_a,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wa," .").concat(wa,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_a," .").concat(_a,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zi,`] {
    `).concat(NE,": ").concat(c,`px;
  }
`)},eg=function(){var t=parseInt(document.body.getAttribute(Zi)||"0",10);return isFinite(t)?t:0},JE=function(){D.useEffect(function(){return document.body.setAttribute(Zi,(eg()+1).toString()),function(){var t=eg()-1;t<=0?document.body.removeAttribute(Zi):document.body.setAttribute(Zi,t.toString())}},[])},ZE=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,p=r===void 0?"margin":r;JE();var m=D.useMemo(function(){return $E(p)},[p]);return D.createElement(qE,{styles:KE(m,!e,p,n?"":"!important")})},Fu=!1;if(typeof window<"u")try{var la=Object.defineProperty({},"passive",{get:function(){return Fu=!0,!0}});window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Fu=!1}var Mi=Fu?{passive:!1}:!1,QE=function(t){return t.tagName==="TEXTAREA"},Dv=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!QE(t)&&n[e]==="visible")},e6=function(t){return Dv(t,"overflowY")},t6=function(t){return Dv(t,"overflowX")},tg=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var p=Mv(t,r);if(p){var m=Iv(t,r),x=m[1],c=m[2];if(x>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},n6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},r6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Mv=function(t,e){return t==="v"?e6(e):t6(e)},Iv=function(t,e){return t==="v"?n6(e):r6(e)},i6=function(t,e){return t==="h"&&e==="rtl"?-1:1},s6=function(t,e,n,r,p){var m=i6(t,window.getComputedStyle(e).direction),x=m*r,c=n.target,i=e.contains(c),d=!1,h=x>0,s=0,l=0;do{var a=Iv(t,c),u=a[0],v=a[1],f=a[2],y=v-f-m*u;(u||y)&&Mv(t,c)&&(s+=y,l+=u),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!i&&c!==document.body||i&&(e.contains(c)||e===c));return(h&&(Math.abs(s)<1||!p)||!h&&(Math.abs(l)<1||!p))&&(d=!0),d},ca=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ng=function(t){return[t.deltaX,t.deltaY]},rg=function(t){return t&&"current"in t?t.current:t},o6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},l6=0,Ii=[];function c6(t){var e=D.useRef([]),n=D.useRef([0,0]),r=D.useRef(),p=D.useState(l6++)[0],m=D.useState(kv)[0],x=D.useRef(t);D.useEffect(function(){x.current=t},[t]),D.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(p));var v=Ia([t.lockRef.current],(t.shards||[]).map(rg),!0).filter(Boolean);return v.forEach(function(f){return f.classList.add("allow-interactivity-".concat(p))}),function(){document.body.classList.remove("block-interactivity-".concat(p)),v.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(p))})}}},[t.inert,t.lockRef.current,t.shards]);var c=D.useCallback(function(v,f){if("touches"in v&&v.touches.length===2)return!x.current.allowPinchZoom;var y=ca(v),b=n.current,_="deltaX"in v?v.deltaX:b[0]-y[0],S="deltaY"in v?v.deltaY:b[1]-y[1],T,E=v.target,P=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in v&&P==="h"&&E.type==="range")return!1;var F=tg(P,E);if(!F)return!0;if(F?T=P:(T=P==="v"?"h":"v",F=tg(P,E)),!F)return!1;if(!r.current&&"changedTouches"in v&&(_||S)&&(r.current=T),!T)return!0;var R=r.current||T;return s6(R,f,v,R==="h"?_:S,!0)},[]),i=D.useCallback(function(v){var f=v;if(!(!Ii.length||Ii[Ii.length-1]!==m)){var y="deltaY"in f?ng(f):ca(f),b=e.current.filter(function(T){return T.name===f.type&&(T.target===f.target||f.target===T.shadowParent)&&o6(T.delta,y)})[0];if(b&&b.should){f.cancelable&&f.preventDefault();return}if(!b){var _=(x.current.shards||[]).map(rg).filter(Boolean).filter(function(T){return T.contains(f.target)}),S=_.length>0?c(f,_[0]):!x.current.noIsolation;S&&f.cancelable&&f.preventDefault()}}},[]),d=D.useCallback(function(v,f,y,b){var _={name:v,delta:f,target:y,should:b,shadowParent:u6(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),h=D.useCallback(function(v){n.current=ca(v),r.current=void 0},[]),s=D.useCallback(function(v){d(v.type,ng(v),v.target,c(v,t.lockRef.current))},[]),l=D.useCallback(function(v){d(v.type,ca(v),v.target,c(v,t.lockRef.current))},[]);D.useEffect(function(){return Ii.push(m),t.setCallbacks({onScrollCapture:s,onWheelCapture:s,onTouchMoveCapture:l}),document.addEventListener("wheel",i,Mi),document.addEventListener("touchmove",i,Mi),document.addEventListener("touchstart",h,Mi),function(){Ii=Ii.filter(function(v){return v!==m}),document.removeEventListener("wheel",i,Mi),document.removeEventListener("touchmove",i,Mi),document.removeEventListener("touchstart",h,Mi)}},[]);var a=t.removeScrollBar,u=t.inert;return D.createElement(D.Fragment,null,u?D.createElement(m,{styles:a6(p)}):null,a?D.createElement(ZE,{gapMode:t.gapMode}):null)}function u6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const f6=ZS(Av,c6);var Fv=D.forwardRef(function(t,e){return D.createElement(Ga,Jn({},t,{ref:e,sideCar:f6}))});Fv.classNames=Ga.classNames;function h6(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:p,blockScrollOnMount:m,allowPinchZoom:x,finalFocusRef:c,returnFocusOnClose:i,preserveScrollBarGap:d,lockFocusAcrossFrames:h,isOpen:s}=li(),[l,a]=Z_();D.useEffect(()=>{!l&&a&&setTimeout(a)},[l,a]);const u=Ev(r,s);return C.jsx(rv,{autoFocus:e,isDisabled:!n,initialFocusRef:p,finalFocusRef:c,restoreFocus:i,contentRef:r,lockFocusAcrossFrames:h,children:C.jsx(Fv,{removeScrollBar:!d,allowPinchZoom:x,enabled:u===1&&m,forwardProps:!0,children:t.children})})}var hi=je((t,e)=>{const{className:n,children:r,containerProps:p,motionProps:m,...x}=t,{getDialogProps:c,getDialogContainerProps:i}=li(),d=c(x,e),h=i(p),s=et("chakra-modal__content",n),l=us(),a={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...l.dialog},u={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...l.dialogContainer},{motionPreset:v}=li();return C.jsx(h6,{children:C.jsx(Me.div,{...h,className:"chakra-modal__content-container",tabIndex:-1,__css:u,children:C.jsx(Ov,{preset:v,motionProps:m,className:s,...d,__css:a,children:r})})})});hi.displayName="ModalContent";var Lv=je((t,e)=>{const{className:n,...r}=t,p=et("chakra-modal__footer",n),x={display:"flex",alignItems:"center",justifyContent:"flex-end",...us().footer};return C.jsx(Me.footer,{ref:e,...r,__css:x,className:p})});Lv.displayName="ModalFooter";var fs=je((t,e)=>{const{className:n,...r}=t,{headerId:p,setHeaderMounted:m}=li();D.useEffect(()=>(m(!0),()=>m(!1)),[m]);const x=et("chakra-modal__header",n),i={flex:0,...us().header};return C.jsx(Me.header,{ref:e,className:x,id:p,...r,__css:i})});fs.displayName="ModalHeader";var d6=Me(ui.div),hs=je((t,e)=>{const{className:n,transition:r,motionProps:p,...m}=t,x=et("chakra-modal__overlay",n),i={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...us().overlay},{motionPreset:d}=li(),s=p||(d==="none"?{}:h0);return C.jsx(d6,{...s,__css:i,ref:e,className:x,...m})});hs.displayName="ModalOverlay";var di=je((t,e)=>{const{className:n,...r}=t,{bodyId:p,setBodyMounted:m}=li();D.useEffect(()=>(m(!0),()=>m(!1)),[m]);const x=et("chakra-modal__body",n),c=us();return C.jsx(Me.div,{ref:e,className:x,id:p,...r,__css:c.body})});di.displayName="ModalBody";var pi=je((t,e)=>{const{onClick:n,className:r,...p}=t,{onClose:m}=li(),x=et("chakra-modal__close-btn",r),c=us();return C.jsx(Q_,{ref:e,__css:c.closeButton,className:x,onClick:ct(n,i=>{i.stopPropagation(),m()}),...p})});pi.displayName="ModalCloseButton";var p6=t=>C.jsx(i0,{viewBox:"0 0 24 24",...t,children:C.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),g6=t=>C.jsx(i0,{viewBox:"0 0 24 24",...t,children:C.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function ig(t,e,n,r){D.useEffect(()=>{var p;if(!t.current||!r)return;const m=(p=t.current.ownerDocument.defaultView)!=null?p:window,x=Array.isArray(e)?e:[e],c=new m.MutationObserver(i=>{for(const d of i)d.type==="attributes"&&d.attributeName&&x.includes(d.attributeName)&&n(d)});return c.observe(t.current,{attributes:!0,attributeFilter:x}),()=>c.disconnect()})}function v6(t,e){const n=Bt(t);D.useEffect(()=>{let r=null;const p=()=>n();return e!==null&&(r=window.setInterval(p,e)),()=>{r&&window.clearInterval(r)}},[e,n])}var m6=50,sg=300;function y6(t,e){const[n,r]=D.useState(!1),[p,m]=D.useState(null),[x,c]=D.useState(!0),i=D.useRef(null),d=()=>clearTimeout(i.current);v6(()=>{p==="increment"&&t(),p==="decrement"&&e()},n?m6:null);const h=D.useCallback(()=>{x&&t(),i.current=setTimeout(()=>{c(!1),r(!0),m("increment")},sg)},[t,x]),s=D.useCallback(()=>{x&&e(),i.current=setTimeout(()=>{c(!1),r(!0),m("decrement")},sg)},[e,x]),l=D.useCallback(()=>{c(!0),r(!1),d()},[]);return D.useEffect(()=>()=>d(),[]),{up:h,down:s,stop:l,isSpinning:n}}var b6=/^[Ee0-9+\-.]$/;function x6(t){return b6.test(t)}function w6(t,e){if(t.key==null)return!0;const n=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||n?!0:e(t.key)}function _6(t={}){const{focusInputOnChange:e=!0,clampValueOnBlur:n=!0,keepWithinRange:r=!0,min:p=Number.MIN_SAFE_INTEGER,max:m=Number.MAX_SAFE_INTEGER,step:x=1,isReadOnly:c,isDisabled:i,isRequired:d,isInvalid:h,pattern:s="[0-9]*(.[0-9]+)?",inputMode:l="decimal",allowMouseWheel:a,id:u,onChange:v,precision:f,name:y,"aria-describedby":b,"aria-label":_,"aria-labelledby":S,onFocus:T,onBlur:E,onInvalid:P,getAriaValueText:F,isValidCharacter:R,format:j,parse:H,...Z}=t,Q=Bt(T),se=Bt(E),le=Bt(P),ge=Bt(R??x6),X=Bt(F),ie=WS(t),{update:k,increment:z,decrement:N}=ie,[W,K]=D.useState(!1),B=!(c||i),M=D.useRef(null),Y=D.useRef(null),q=D.useRef(null),re=D.useRef(null),ee=D.useCallback(we=>we.split("").filter(ge).join(""),[ge]),he=D.useCallback(we=>{var Ie;return(Ie=H==null?void 0:H(we))!=null?Ie:we},[H]),pe=D.useCallback(we=>{var Ie;return((Ie=j==null?void 0:j(we))!=null?Ie:we).toString()},[j]);so(()=>{(ie.valueAsNumber>m||ie.valueAsNumber<p)&&(le==null||le("rangeOverflow",pe(ie.value),ie.valueAsNumber))},[ie.valueAsNumber,ie.value,pe,le]),t0(()=>{if(!M.current)return;if(M.current.value!=ie.value){const Ie=he(M.current.value);ie.setValue(ee(Ie))}},[he,ee]);const ve=D.useCallback((we=x)=>{B&&z(we)},[z,B,x]),ne=D.useCallback((we=x)=>{B&&N(we)},[N,B,x]),V=y6(ve,ne);ig(q,"disabled",V.stop,V.isSpinning),ig(re,"disabled",V.stop,V.isSpinning);const fe=D.useCallback(we=>{if(we.nativeEvent.isComposing)return;const tt=he(we.currentTarget.value);k(ee(tt)),Y.current={start:we.currentTarget.selectionStart,end:we.currentTarget.selectionEnd}},[k,ee,he]),ce=D.useCallback(we=>{var Ie,tt,dt;Q==null||Q(we),Y.current&&(we.target.selectionStart=(tt=Y.current.start)!=null?tt:(Ie=we.currentTarget.value)==null?void 0:Ie.length,we.currentTarget.selectionEnd=(dt=Y.current.end)!=null?dt:we.currentTarget.selectionStart)},[Q]),te=D.useCallback(we=>{if(we.nativeEvent.isComposing)return;w6(we,ge)||we.preventDefault();const Ie=ae(we)*x,tt=we.key,gt={ArrowUp:()=>ve(Ie),ArrowDown:()=>ne(Ie),Home:()=>k(p),End:()=>k(m)}[tt];gt&&(we.preventDefault(),gt(we))},[ge,x,ve,ne,k,p,m]),ae=we=>{let Ie=1;return(we.metaKey||we.ctrlKey)&&(Ie=.1),we.shiftKey&&(Ie=10),Ie},_e=D.useMemo(()=>{const we=X==null?void 0:X(ie.value);if(we!=null)return we;const Ie=ie.value.toString();return Ie||void 0},[ie.value,X]),Pe=D.useCallback(()=>{let we=ie.value;if(ie.value==="")return;/^[eE]/.test(ie.value.toString())?ie.setValue(""):(ie.valueAsNumber<p&&(we=p),ie.valueAsNumber>m&&(we=m),ie.cast(we))},[ie,m,p]),Se=D.useCallback(()=>{K(!1),n&&Pe()},[n,K,Pe]),ue=D.useCallback(()=>{e&&requestAnimationFrame(()=>{var we;(we=M.current)==null||we.focus()})},[e]),Ee=D.useCallback(we=>{we.preventDefault(),V.up(),ue()},[ue,V]),Le=D.useCallback(we=>{we.preventDefault(),V.down(),ue()},[ue,V]);Gs(()=>M.current,"wheel",we=>{var Ie,tt;const gt=((tt=(Ie=M.current)==null?void 0:Ie.ownerDocument)!=null?tt:document).activeElement===M.current;if(!a||!gt)return;we.preventDefault();const ln=ae(we)*x,Vn=Math.sign(we.deltaY);Vn===-1?ve(ln):Vn===1&&ne(ln)},{passive:!1});const We=D.useCallback((we={},Ie=null)=>{const tt=i||r&&ie.isAtMax;return{...we,ref:It(Ie,q),role:"button",tabIndex:-1,onPointerDown:ct(we.onPointerDown,dt=>{dt.button!==0||tt||Ee(dt)}),onPointerLeave:ct(we.onPointerLeave,V.stop),onPointerUp:ct(we.onPointerUp,V.stop),disabled:tt,"aria-disabled":Xi(tt)}},[ie.isAtMax,r,Ee,V.stop,i]),rt=D.useCallback((we={},Ie=null)=>{const tt=i||r&&ie.isAtMin;return{...we,ref:It(Ie,re),role:"button",tabIndex:-1,onPointerDown:ct(we.onPointerDown,dt=>{dt.button!==0||tt||Le(dt)}),onPointerLeave:ct(we.onPointerLeave,V.stop),onPointerUp:ct(we.onPointerUp,V.stop),disabled:tt,"aria-disabled":Xi(tt)}},[ie.isAtMin,r,Le,V.stop,i]),Ve=D.useCallback((we={},Ie=null)=>{var tt,dt,gt,ln;return{name:y,inputMode:l,type:"text",pattern:s,"aria-labelledby":S,"aria-label":_,"aria-describedby":b,id:u,disabled:i,...we,readOnly:(tt=we.readOnly)!=null?tt:c,"aria-readonly":(dt=we.readOnly)!=null?dt:c,"aria-required":(gt=we.required)!=null?gt:d,required:(ln=we.required)!=null?ln:d,ref:It(M,Ie),value:pe(ie.value),role:"spinbutton","aria-valuemin":p,"aria-valuemax":m,"aria-valuenow":Number.isNaN(ie.valueAsNumber)?void 0:ie.valueAsNumber,"aria-invalid":Xi(h??ie.isOutOfRange),"aria-valuetext":_e,autoComplete:"off",autoCorrect:"off",onChange:ct(we.onChange,fe),onKeyDown:ct(we.onKeyDown,te),onFocus:ct(we.onFocus,ce,()=>K(!0)),onBlur:ct(we.onBlur,se,Se)}},[y,l,s,S,_,pe,b,u,i,d,c,h,ie.value,ie.valueAsNumber,ie.isOutOfRange,p,m,_e,fe,te,ce,se,Se]);return{value:pe(ie.value),valueAsNumber:ie.valueAsNumber,isFocused:W,isDisabled:i,isReadOnly:c,getIncrementButtonProps:We,getDecrementButtonProps:rt,getInputProps:Ve,htmlProps:Z}}var[S6,Ya]=zt({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[C6,Af]=zt({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Wi=je(function(e,n){const r=_r("NumberInput",e),p=bn(e),m=m0(p),{htmlProps:x,...c}=_6(m),i=D.useMemo(()=>c,[c]);return C.jsx(C6,{value:i,children:C.jsx(S6,{value:r,children:C.jsx(Me.div,{...x,ref:n,className:et("chakra-numberinput",e.className),__css:{position:"relative",zIndex:0,...r.root}})})})});Wi.displayName="NumberInput";var Hi=je(function(e,n){const r=Ya();return C.jsx(Me.div,{"aria-hidden":!0,ref:n,...e,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...r.stepperGroup}})});Hi.displayName="NumberInputStepper";var Ui=je(function(e,n){const{getInputProps:r}=Af(),p=r(e,n),m=Ya();return C.jsx(Me.input,{...p,className:et("chakra-numberinput__field",e.className),__css:{width:"100%",...m.field}})});Ui.displayName="NumberInputField";var jv=Me("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),Vi=je(function(e,n){var r;const p=Ya(),{getDecrementButtonProps:m}=Af(),x=m(e,n);return C.jsx(jv,{...x,__css:p.stepper,children:(r=e.children)!=null?r:C.jsx(p6,{})})});Vi.displayName="NumberDecrementStepper";var Gi=je(function(e,n){var r;const{getIncrementButtonProps:p}=Af(),m=p(e,n),x=Ya();return C.jsx(jv,{...m,__css:x.stepper,children:(r=e.children)!=null?r:C.jsx(g6,{})})});Gi.displayName="NumberIncrementStepper";var Fi=t=>t?"":void 0,Lc=t=>t?!0:void 0,kf=(...t)=>t.filter(Boolean).join(" ");function jc(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function T6(t){return{root:`slider-root-${t}`,getThumb:e=>`slider-thumb-${t}-${e}`,getInput:e=>`slider-input-${t}-${e}`,track:`slider-track-${t}`,innerTrack:`slider-filled-track-${t}`,getMarker:e=>`slider-marker-${t}-${e}`,output:`slider-output-${t}`}}function Us(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}var Sa={width:0,height:0},ua=t=>t||Sa;function O6(t){const{orientation:e,thumbPercents:n,thumbRects:r,isReversed:p}=t,m=v=>{var f;const y=(f=r[v])!=null?f:Sa;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...Us({orientation:e,vertical:{bottom:`calc(${n[v]}% - ${y.height/2}px)`},horizontal:{left:`calc(${n[v]}% - ${y.width/2}px)`}})}},x=e==="vertical"?r.reduce((v,f)=>ua(v).height>ua(f).height?v:f,Sa):r.reduce((v,f)=>ua(v).width>ua(f).width?v:f,Sa),c={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...Us({orientation:e,vertical:x?{paddingLeft:x.width/2,paddingRight:x.width/2}:{},horizontal:x?{paddingTop:x.height/2,paddingBottom:x.height/2}:{}})},i={position:"absolute",...Us({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},d=n.length===1,h=[0,p?100-n[0]:n[0]],s=d?h:n;let l=s[0];!d&&p&&(l=100-l);const a=Math.abs(s[s.length-1]-s[0]),u={...i,...Us({orientation:e,vertical:p?{height:`${a}%`,top:`${l}%`}:{height:`${a}%`,bottom:`${l}%`},horizontal:p?{width:`${a}%`,right:`${l}%`}:{width:`${a}%`,left:`${l}%`}})};return{trackStyle:i,innerTrackStyle:u,rootStyle:c,getThumbStyle:m}}function E6(t){const{isReversed:e,direction:n,orientation:r}=t;return n==="ltr"||r==="vertical"?e:!e}function P6(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function A6(t){const e=D6(t);return typeof e.PointerEvent<"u"&&t instanceof e.PointerEvent?t.pointerType==="mouse":t instanceof e.MouseEvent}function Rv(t){return!!t.touches}function k6(t){return Rv(t)&&t.touches.length>1}function D6(t){var e;return(e=t.view)!=null?e:window}function M6(t,e="page"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function I6(t,e="page"){return{x:t[`${e}X`],y:t[`${e}Y`]}}function Bv(t,e="page"){return Rv(t)?M6(t,e):I6(t,e)}function F6(t){return e=>{const n=A6(e);(!n||n&&e.button===0)&&t(e)}}function L6(t,e=!1){function n(p){t(p,{point:Bv(p)})}return e?F6(n):n}function Ca(t,e,n,r){return P6(t,e,L6(n,e==="pointerdown"),r)}var j6=Object.defineProperty,R6=(t,e,n)=>e in t?j6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hn=(t,e,n)=>(R6(t,typeof e!="symbol"?e+"":e,n),n),B6=class{constructor(t,e,n){Hn(this,"history",[]),Hn(this,"startEvent",null),Hn(this,"lastEvent",null),Hn(this,"lastEventInfo",null),Hn(this,"handlers",{}),Hn(this,"removeListeners",()=>{}),Hn(this,"threshold",3),Hn(this,"win"),Hn(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const c=Rc(this.lastEventInfo,this.history),i=this.startEvent!==null,d=H6(c.offset,{x:0,y:0})>=this.threshold;if(!i&&!d)return;const{timestamp:h}=Tp();this.history.push({...c.point,timestamp:h});const{onStart:s,onMove:l}=this.handlers;i||(s==null||s(this.lastEvent,c),this.startEvent=this.lastEvent),l==null||l(this.lastEvent,c)}),Hn(this,"onPointerMove",(c,i)=>{this.lastEvent=c,this.lastEventInfo=i,aS.update(this.updatePoint,!0)}),Hn(this,"onPointerUp",(c,i)=>{const d=Rc(i,this.history),{onEnd:h,onSessionEnd:s}=this.handlers;s==null||s(c,d),this.end(),!(!h||!this.startEvent)&&(h==null||h(c,d))});var r;if(this.win=(r=t.view)!=null?r:window,k6(t))return;this.handlers=e,n&&(this.threshold=n),t.stopPropagation(),t.preventDefault();const p={point:Bv(t)},{timestamp:m}=Tp();this.history=[{...p.point,timestamp:m}];const{onSessionStart:x}=e;x==null||x(t,Rc(p,this.history)),this.removeListeners=W6(Ca(this.win,"pointermove",this.onPointerMove),Ca(this.win,"pointerup",this.onPointerUp),Ca(this.win,"pointercancel",this.onPointerUp))}updateHandlers(t){this.handlers=t}end(){var t;(t=this.removeListeners)==null||t.call(this),lS.update(this.updatePoint)}};function og(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rc(t,e){return{point:t.point,delta:og(t.point,e[e.length-1]),offset:og(t.point,e[0]),velocity:z6(e,.1)}}var N6=t=>t*1e3;function z6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const p=t[t.length-1];for(;n>=0&&(r=t[n],!(p.timestamp-r.timestamp>N6(e)));)n--;if(!r)return{x:0,y:0};const m=(p.timestamp-r.timestamp)/1e3;if(m===0)return{x:0,y:0};const x={x:(p.x-r.x)/m,y:(p.y-r.y)/m};return x.x===1/0&&(x.x=0),x.y===1/0&&(x.y=0),x}function W6(...t){return e=>t.reduce((n,r)=>r(n),e)}function Bc(t,e){return Math.abs(t-e)}function ag(t){return"x"in t&&"y"in t}function H6(t,e){if(typeof t=="number"&&typeof e=="number")return Bc(t,e);if(ag(t)&&ag(e)){const n=Bc(t.x,e.x),r=Bc(t.y,e.y);return Math.sqrt(n**2+r**2)}return 0}function U6(t){const e=D.useRef(null);return e.current=t,e}function V6(t,e){const{onPan:n,onPanStart:r,onPanEnd:p,onPanSessionStart:m,onPanSessionEnd:x,threshold:c}=e,i=!!(n||r||p||m||x),d=D.useRef(null),h=U6({onSessionStart:m,onSessionEnd:x,onStart:r,onMove:n,onEnd(s,l){d.current=null,p==null||p(s,l)}});D.useEffect(()=>{var s;(s=d.current)==null||s.updateHandlers(h.current)}),D.useEffect(()=>{const s=t.current;if(!s||!i)return;function l(a){d.current=new B6(a,h.current,c)}return Ca(s,"pointerdown",l)},[t,i,h,c]),D.useEffect(()=>()=>{var s;(s=d.current)==null||s.end(),d.current=null},[])}function G6(t,e){if(!t){e(void 0);return}e({width:t.offsetWidth,height:t.offsetHeight});const n=t.ownerDocument.defaultView??window,r=new n.ResizeObserver(p=>{if(!Array.isArray(p)||!p.length)return;const[m]=p;let x,c;if("borderBoxSize"in m){const i=m.borderBoxSize,d=Array.isArray(i)?i[0]:i;x=d.inlineSize,c=d.blockSize}else x=t.offsetWidth,c=t.offsetHeight;e({width:x,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}var Y6=globalThis!=null&&globalThis.document?D.useLayoutEffect:D.useEffect;function X6(t,e){var n,r;if(!t||!t.parentElement)return;const p=(r=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?r:window,m=new p.MutationObserver(()=>{e()});return m.observe(t.parentElement,{childList:!0}),()=>{m.disconnect()}}function $6({getNodes:t,observeMutation:e=!0}){const[n,r]=D.useState([]),[p,m]=D.useState(0);return Y6(()=>{const x=t(),c=x.map((i,d)=>G6(i,h=>{r(s=>[...s.slice(0,d),h,...s.slice(d+1)])}));if(e){const i=x[0];c.push(X6(i,()=>{m(d=>d+1)}))}return()=>{c.forEach(i=>{i==null||i()})}},[p]),n}function q6(t){const{min:e=0,max:n=100,onChange:r,value:p,defaultValue:m,isReversed:x,direction:c="ltr",orientation:i="horizontal",id:d,isDisabled:h,isReadOnly:s,onChangeStart:l,onChangeEnd:a,step:u=1,getAriaValueText:v,"aria-valuetext":f,"aria-label":y,"aria-labelledby":b,name:_,focusThumbOnChange:S=!0,minStepsBetweenThumbs:T=0,...E}=t,P=Bt(l),F=Bt(a),R=Bt(v),j=E6({isReversed:x,direction:c,orientation:i}),[H,Z]=f0({value:p,defaultValue:m??[25,75],onChange:r});if(!Array.isArray(H))throw new TypeError(`[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof H}\``);const[Q,se]=D.useState(!1),[le,ge]=D.useState(!1),[X,ie]=D.useState(-1),k=!(h||s),z=D.useRef(H),N=H.map(Te=>xu(Te,e,n)),W=T*u,K=K6(N,e,n,W),B=D.useRef({eventSource:null,value:[],valueBounds:[]});B.current.value=N,B.current.valueBounds=K;const M=N.map(Te=>n-Te+e),q=(j?M:N).map(Te=>Dp(Te,e,n)),re=i==="vertical",ee=D.useRef(null),he=D.useRef(null),pe=$6({getNodes(){const Te=he.current,ze=Te==null?void 0:Te.querySelectorAll("[role=slider]");return ze?Array.from(ze):[]}}),ve=D.useId(),V=T6(d??ve),fe=D.useCallback(Te=>{var ze,Xe;if(!ee.current)return;B.current.eventSource="pointer";const $e=ee.current.getBoundingClientRect(),{clientX:St,clientY:wn}=(Xe=(ze=Te.touches)==null?void 0:ze[0])!=null?Xe:Te,Kt=re?$e.bottom-wn:St-$e.left,Gn=re?$e.height:$e.width;let bs=Kt/Gn;return j&&(bs=1-bs),NS(bs,e,n)},[re,j,n,e]),ce=(n-e)/10,te=u||(n-e)/100,ae=D.useMemo(()=>({setValueAtIndex(Te,ze){if(!k)return;const Xe=B.current.valueBounds[Te];ze=parseFloat(zS(ze,Xe.min,te)),ze=xu(ze,Xe.min,Xe.max);const $e=[...B.current.value];$e[Te]=ze,Z($e)},setActiveIndex:ie,stepUp(Te,ze=te){const Xe=B.current.value[Te],$e=j?Xe-ze:Xe+ze;ae.setValueAtIndex(Te,$e)},stepDown(Te,ze=te){const Xe=B.current.value[Te],$e=j?Xe+ze:Xe-ze;ae.setValueAtIndex(Te,$e)},reset(){Z(z.current)}}),[te,j,Z,k]),_e=D.useCallback(Te=>{const ze=Te.key,$e={ArrowRight:()=>ae.stepUp(X),ArrowUp:()=>ae.stepUp(X),ArrowLeft:()=>ae.stepDown(X),ArrowDown:()=>ae.stepDown(X),PageUp:()=>ae.stepUp(X,ce),PageDown:()=>ae.stepDown(X,ce),Home:()=>{const{min:St}=K[X];ae.setValueAtIndex(X,St)},End:()=>{const{max:St}=K[X];ae.setValueAtIndex(X,St)}}[ze];$e&&(Te.preventDefault(),Te.stopPropagation(),$e(Te),B.current.eventSource="keyboard")},[ae,X,ce,K]),{getThumbStyle:Pe,rootStyle:Se,trackStyle:ue,innerTrackStyle:Ee}=D.useMemo(()=>O6({isReversed:j,orientation:i,thumbRects:pe,thumbPercents:q}),[j,i,q,pe]),Le=D.useCallback(Te=>{var ze;const Xe=Te??X;if(Xe!==-1&&S){const $e=V.getThumb(Xe),St=(ze=he.current)==null?void 0:ze.ownerDocument.getElementById($e);St&&setTimeout(()=>St.focus())}},[S,X,V]);so(()=>{B.current.eventSource==="keyboard"&&(F==null||F(B.current.value))},[N,F]);const We=Te=>{const ze=fe(Te)||0,Xe=B.current.value.map(Gn=>Math.abs(Gn-ze)),$e=Math.min(...Xe);let St=Xe.indexOf($e);const wn=Xe.filter(Gn=>Gn===$e);wn.length>1&&ze>B.current.value[St]&&(St=St+wn.length-1),ie(St),ae.setValueAtIndex(St,ze),Le(St)},rt=Te=>{if(X==-1)return;const ze=fe(Te)||0;ie(X),ae.setValueAtIndex(X,ze),Le(X)};V6(he,{onPanSessionStart(Te){k&&(se(!0),We(Te),P==null||P(B.current.value))},onPanSessionEnd(){k&&(se(!1),F==null||F(B.current.value))},onPan(Te){k&&rt(Te)}});const Ve=D.useCallback((Te={},ze=null)=>({...Te,...E,id:V.root,ref:It(ze,he),tabIndex:-1,"aria-disabled":Lc(h),"data-focused":Fi(le),style:{...Te.style,...Se}}),[E,h,le,Se,V]),we=D.useCallback((Te={},ze=null)=>({...Te,ref:It(ze,ee),id:V.track,"data-disabled":Fi(h),style:{...Te.style,...ue}}),[h,ue,V]),Ie=D.useCallback((Te={},ze=null)=>({...Te,ref:ze,id:V.innerTrack,style:{...Te.style,...Ee}}),[Ee,V]),tt=D.useCallback((Te,ze=null)=>{var Xe;const{index:$e,...St}=Te,wn=N[$e];if(wn==null)throw new TypeError(`[range-slider > thumb] Cannot find value at index \`${$e}\`. The \`value\` or \`defaultValue\` length is : ${N.length}`);const Kt=K[$e];return{...St,ref:ze,role:"slider",tabIndex:k?0:void 0,id:V.getThumb($e),"data-active":Fi(Q&&X===$e),"aria-valuetext":(Xe=R==null?void 0:R(wn))!=null?Xe:f==null?void 0:f[$e],"aria-valuemin":Kt.min,"aria-valuemax":Kt.max,"aria-valuenow":wn,"aria-orientation":i,"aria-disabled":Lc(h),"aria-readonly":Lc(s),"aria-label":y==null?void 0:y[$e],"aria-labelledby":y!=null&&y[$e]||b==null?void 0:b[$e],style:{...Te.style,...Pe($e)},onKeyDown:jc(Te.onKeyDown,_e),onFocus:jc(Te.onFocus,()=>{ge(!0),ie($e)}),onBlur:jc(Te.onBlur,()=>{ge(!1),ie(-1)})}},[V,N,K,k,Q,X,R,f,i,h,s,y,b,Pe,_e,ge]),dt=D.useCallback((Te={},ze=null)=>({...Te,ref:ze,id:V.output,htmlFor:N.map((Xe,$e)=>V.getThumb($e)).join(" "),"aria-live":"off"}),[V,N]),gt=D.useCallback((Te,ze=null)=>{const{value:Xe,...$e}=Te,St=!(Xe<e||Xe>n),wn=Xe>=N[0]&&Xe<=N[N.length-1];let Kt=Dp(Xe,e,n);Kt=j?100-Kt:Kt;const Gn={position:"absolute",pointerEvents:"none",...Us({orientation:i,vertical:{bottom:`${Kt}%`},horizontal:{left:`${Kt}%`}})};return{...$e,ref:ze,id:V.getMarker(Te.value),role:"presentation","aria-hidden":!0,"data-disabled":Fi(h),"data-invalid":Fi(!St),"data-highlighted":Fi(wn),style:{...Te.style,...Gn}}},[h,j,n,e,i,N,V]),ln=D.useCallback((Te,ze=null)=>{const{index:Xe,...$e}=Te;return{...$e,ref:ze,id:V.getInput(Xe),type:"hidden",value:N[Xe],name:Array.isArray(_)?_[Xe]:`${_}-${Xe}`}},[_,N,V]);return{state:{value:N,isFocused:le,isDragging:Q,getThumbPercent:Te=>q[Te],getThumbMinValue:Te=>K[Te].min,getThumbMaxValue:Te=>K[Te].max},actions:ae,getRootProps:Ve,getTrackProps:we,getInnerTrackProps:Ie,getThumbProps:tt,getMarkerProps:gt,getInputProps:ln,getOutputProps:dt}}function K6(t,e,n,r){return t.map((p,m)=>{const x=m===0?e:t[m-1]+r,c=m===t.length-1?n:t[m+1]-r;return{min:x,max:c}})}var[J6,Xa]=zt({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[Z6,$a]=zt({name:"RangeSliderStylesContext",errorMessage:`useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `}),Lu=je(function(e,n){const r={orientation:"horizontal",...e},p=_r("Slider",r),m=bn(r),{direction:x}=nf();m.direction=x;const{getRootProps:c,...i}=q6(m),d=D.useMemo(()=>({...i,name:r.name}),[i,r.name]);return C.jsx(J6,{value:d,children:C.jsx(Z6,{value:p,children:C.jsx(Me.div,{...c({},n),className:"chakra-slider",__css:p.container,children:r.children})})})});Lu.displayName="RangeSlider";var ju=je(function(e,n){const{getThumbProps:r,getInputProps:p,name:m}=Xa(),x=$a(),c=r(e,n);return C.jsxs(Me.div,{...c,className:kf("chakra-slider__thumb",e.className),__css:x.thumb,children:[c.children,m&&C.jsx("input",{...p({index:e.index})})]})});ju.displayName="RangeSliderThumb";var Ru=je(function(e,n){const{getTrackProps:r}=Xa(),p=$a(),m=r(e,n);return C.jsx(Me.div,{...m,className:kf("chakra-slider__track",e.className),__css:p.track,"data-testid":"chakra-range-slider-track"})});Ru.displayName="RangeSliderTrack";var Bu=je(function(e,n){const{getInnerTrackProps:r}=Xa(),p=$a(),m=r(e,n);return C.jsx(Me.div,{...m,className:"chakra-slider__filled-track",__css:p.filledTrack})});Bu.displayName="RangeSliderFilledTrack";var Q6=je(function(e,n){const{getMarkerProps:r}=Xa(),p=$a(),m=r(e,n);return C.jsx(Me.div,{...m,className:kf("chakra-slider__marker",e.className),__css:p.mark})});Q6.displayName="RangeSliderMark";var[eP,ho]=zt({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Nv=je((t,e)=>{const n=_r("Table",t),{className:r,layout:p,...m}=bn(t);return C.jsx(eP,{value:n,children:C.jsx(Me.table,{ref:e,__css:{tableLayout:p,...n.table},className:et("chakra-table",r),...m})})});Nv.displayName="Table";var tP=je((t,e)=>{const n=ho();return C.jsx(Me.thead,{...t,ref:e,__css:n.thead})}),lg=je((t,e)=>{const n=ho();return C.jsx(Me.tr,{...t,ref:e,__css:n.tr})}),nP=je((t,e)=>{var n;const{overflow:r,overflowX:p,className:m,...x}=t;return C.jsx(Me.div,{ref:e,className:et("chakra-table__container",m),...x,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:(n=r??p)!=null?n:"auto",overflowY:"hidden",maxWidth:"100%"}})}),rP=je((t,e)=>{const n=ho();return C.jsx(Me.tbody,{...t,ref:e,__css:n.tbody})}),Nc=je(({isNumeric:t,...e},n)=>{const r=ho();return C.jsx(Me.td,{...e,ref:n,__css:r.td,"data-is-numeric":t})}),zc=je(({isNumeric:t,...e},n)=>{const r=ho();return C.jsx(Me.th,{...e,ref:n,__css:r.th,"data-is-numeric":t})}),[iP,sP,oP,aP]=u0();function lP(t){var e;const{defaultIndex:n,onChange:r,index:p,isManual:m,isLazy:x,lazyBehavior:c="unmount",orientation:i="horizontal",direction:d="ltr",...h}=t,[s,l]=D.useState(n??0),[a,u]=f0({defaultValue:n??0,value:p,onChange:r});D.useEffect(()=>{p!=null&&l(p)},[p]);const v=oP(),f=D.useId();return{id:`tabs-${(e=t.id)!=null?e:f}`,selectedIndex:a,focusedIndex:s,setSelectedIndex:u,setFocusedIndex:l,isManual:m,isLazy:x,lazyBehavior:c,orientation:i,descendants:v,direction:d,htmlProps:h}}var[cP,qa]=zt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function uP(t){const{focusedIndex:e,orientation:n,direction:r}=qa(),p=sP(),m=D.useCallback(x=>{const c=()=>{var b;const _=p.nextEnabled(e);_&&((b=_.node)==null||b.focus())},i=()=>{var b;const _=p.prevEnabled(e);_&&((b=_.node)==null||b.focus())},d=()=>{var b;const _=p.firstEnabled();_&&((b=_.node)==null||b.focus())},h=()=>{var b;const _=p.lastEnabled();_&&((b=_.node)==null||b.focus())},s=n==="horizontal",l=n==="vertical",a=x.key,u=r==="ltr"?"ArrowLeft":"ArrowRight",v=r==="ltr"?"ArrowRight":"ArrowLeft",y={[u]:()=>s&&i(),[v]:()=>s&&c(),ArrowDown:()=>l&&c(),ArrowUp:()=>l&&i(),Home:d,End:h}[a];y&&(x.preventDefault(),y(x))},[p,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:ct(t.onKeyDown,m)}}function fP(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:p,isManual:m,id:x,setFocusedIndex:c,selectedIndex:i}=qa(),{index:d,register:h}=aP({disabled:e&&!n}),s=d===i,l=()=>{p(d)},a=()=>{c(d),!m&&!(e&&n)&&p(d)};return{...lv({...r,ref:It(h,t.ref),isDisabled:e,isFocusable:n,onClick:ct(t.onClick,l)}),id:zv(x,d),role:"tab",tabIndex:s?0:-1,type:"button","aria-selected":s,"aria-controls":Wv(x,d),onFocus:e?void 0:ct(t.onFocus,a)}}var[hP,dP]=zt({});function pP(t){const e=qa(),{id:n,selectedIndex:r}=e,m=p0(t.children).map((x,c)=>D.createElement(hP,{key:c,value:{isSelected:c===r,id:Wv(n,c),tabId:zv(n,c),selectedIndex:r}},x));return{...t,children:m}}function gP(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:p}=qa(),{isSelected:m,id:x,tabId:c}=dP(),i=D.useRef(!1);m&&(i.current=!0);const d=wv({wasSelected:i.current,isSelected:m,enabled:r,mode:p});return{tabIndex:0,...n,children:d?e:null,role:"tabpanel","aria-labelledby":c,hidden:!m,id:x}}function zv(t,e){return`${t}--tab-${e}`}function Wv(t,e){return`${t}--tabpanel-${e}`}var[vP,Ka]=zt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),ds=je(function(e,n){const r=_r("Tabs",e),{children:p,className:m,...x}=bn(e),{htmlProps:c,descendants:i,...d}=lP(x),h=D.useMemo(()=>d,[d]),{isFitted:s,...l}=c,a={position:"relative",...r.root};return C.jsx(iP,{value:i,children:C.jsx(cP,{value:h,children:C.jsx(vP,{value:r,children:C.jsx(Me.div,{className:et("chakra-tabs",m),ref:n,...l,__css:a,children:p})})})})});ds.displayName="Tabs";var ps=je(function(e,n){const r=uP({...e,ref:n}),m={display:"flex",...Ka().tablist};return C.jsx(Me.div,{...r,className:et("chakra-tabs__tablist",e.className),__css:m})});ps.displayName="TabList";var nn=je(function(e,n){const r=gP({...e,ref:n}),p=Ka();return C.jsx(Me.div,{outline:"0",...r,className:et("chakra-tabs__tab-panel",e.className),__css:p.tabpanel})});nn.displayName="TabPanel";var gs=je(function(e,n){const r=pP(e),p=Ka();return C.jsx(Me.div,{...r,width:"100%",ref:n,className:et("chakra-tabs__tab-panels",e.className),__css:p.tabpanels})});gs.displayName="TabPanels";var rn=je(function(e,n){const r=Ka(),p=fP({...e,ref:n}),m={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return C.jsx(Me.button,{...p,className:et("chakra-tabs__tab",e.className),__css:m})});rn.displayName="Tab";function mP(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var yP=["h","minH","height","minHeight"],Hv=je((t,e)=>{const n=io("Textarea",t),{className:r,rows:p,...m}=bn(t),x=v0(m),c=p?mP(n,yP):n;return C.jsx(Me.textarea,{ref:e,rows:p,...x,className:et("chakra-textarea",r),__css:c})});Hv.displayName="Textarea";var bP={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},Nu=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},Ta=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function xP(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:p,closeOnScroll:m,closeOnPointerDown:x=p,closeOnEsc:c=!0,onOpen:i,onClose:d,placement:h,id:s,isOpen:l,defaultIsOpen:a,arrowSize:u=10,arrowShadowColor:v,arrowPadding:f,modifiers:y,isDisabled:b,gutter:_,offset:S,direction:T,...E}=t,{isOpen:P,onOpen:F,onClose:R}=bv({isOpen:l,defaultIsOpen:a,onOpen:i,onClose:d}),{referenceRef:j,getPopperProps:H,getArrowInnerProps:Z,getArrowProps:Q}=yv({enabled:P,placement:h,arrowPadding:f,modifiers:y,gutter:_,offset:S,direction:T}),se=D.useId(),ge=`tooltip-${s??se}`,X=D.useRef(null),ie=D.useRef(),k=D.useCallback(()=>{ie.current&&(clearTimeout(ie.current),ie.current=void 0)},[]),z=D.useRef(),N=D.useCallback(()=>{z.current&&(clearTimeout(z.current),z.current=void 0)},[]),W=D.useCallback(()=>{N(),R()},[R,N]),K=wP(X,W),B=D.useCallback(()=>{if(!b&&!ie.current){P&&K();const ve=Ta(X);ie.current=ve.setTimeout(F,e)}},[K,b,P,F,e]),M=D.useCallback(()=>{k();const ve=Ta(X);z.current=ve.setTimeout(W,n)},[n,W,k]),Y=D.useCallback(()=>{P&&r&&M()},[r,M,P]),q=D.useCallback(()=>{P&&x&&M()},[x,M,P]),re=D.useCallback(ve=>{P&&ve.key==="Escape"&&M()},[P,M]);Gs(()=>Nu(X),"keydown",c?re:void 0),Gs(()=>{if(!m)return null;const ve=X.current;if(!ve)return null;const ne=Q0(ve);return ne.localName==="body"?Ta(X):ne},"scroll",()=>{P&&m&&W()},{passive:!0,capture:!0}),D.useEffect(()=>{b&&(k(),P&&R())},[b,P,R,k]),D.useEffect(()=>()=>{k(),N()},[k,N]),Gs(()=>X.current,"pointerleave",M);const ee=D.useCallback((ve={},ne=null)=>({...ve,ref:It(X,ne,j),onPointerEnter:ct(ve.onPointerEnter,fe=>{fe.pointerType!=="touch"&&B()}),onClick:ct(ve.onClick,Y),onPointerDown:ct(ve.onPointerDown,q),onFocus:ct(ve.onFocus,B),onBlur:ct(ve.onBlur,M),"aria-describedby":P?ge:void 0}),[B,M,q,P,ge,Y,j]),he=D.useCallback((ve={},ne=null)=>H({...ve,style:{...ve.style,[Rt.arrowSize.var]:u?`${u}px`:void 0,[Rt.arrowShadowColor.var]:v}},ne),[H,u,v]),pe=D.useCallback((ve={},ne=null)=>{const V={...ve.style,position:"relative",transformOrigin:Rt.transformOrigin.varRef};return{ref:ne,...E,...ve,id:ge,role:"tooltip",style:V}},[E,ge]);return{isOpen:P,show:B,hide:M,getTriggerProps:ee,getTooltipProps:pe,getTooltipPositionerProps:he,getArrowProps:Q,getArrowInnerProps:Z}}var Wc="chakra-ui:close-tooltip";function wP(t,e){return D.useEffect(()=>{const n=Nu(t);return n.addEventListener(Wc,e),()=>n.removeEventListener(Wc,e)},[e,t]),()=>{const n=Nu(t),r=Ta(t);n.dispatchEvent(new r.CustomEvent(Wc))}}function _P(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function SP(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var CP=Me(ui.div),Mt=je((t,e)=>{var n,r;const p=io("Tooltip",t),m=bn(t),x=nf(),{children:c,label:i,shouldWrapChildren:d,"aria-label":h,hasArrow:s,bg:l,portalProps:a,background:u,backgroundColor:v,bgColor:f,motionProps:y,...b}=m,_=(r=(n=u??v)!=null?n:l)!=null?r:f;if(_){p.bg=_;const H=eS(x,"colors",_);p[Rt.arrowBg.var]=H}const S=xP({...b,direction:x.direction}),T=typeof c=="string"||d;let E;if(T)E=C.jsx(Me.span,{display:"inline-block",tabIndex:0,...S.getTriggerProps(),children:c});else{const H=D.Children.only(c);E=D.cloneElement(H,S.getTriggerProps(H.props,H.ref))}const P=!!h,F=S.getTooltipProps({},e),R=P?_P(F,["role","id"]):F,j=SP(F,["role","id"]);return i?C.jsxs(C.Fragment,{children:[E,C.jsx(ro,{children:S.isOpen&&C.jsx(r0,{...a,children:C.jsx(Me.div,{...S.getTooltipPositionerProps(),__css:{zIndex:p.zIndex,pointerEvents:"none"},children:C.jsxs(CP,{variants:bP,initial:"exit",animate:"enter",exit:"exit",...y,...R,__css:p,children:[i,P&&C.jsx(Me.span,{srOnly:!0,...j,children:h}),s&&C.jsx(Me.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:C.jsx(Me.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:p.bg}})})]})})})})]}):C.jsx(C.Fragment,{children:c})});Mt.displayName="Tooltip";function yr(t){return typeof t=="function"}function Uv(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hc=Uv(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,p){return p+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function zu(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ja=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,p,m;if(!this.closed){this.closed=!0;var x=this._parentage;if(x)if(this._parentage=null,Array.isArray(x))try{for(var c=Su(x),i=c.next();!i.done;i=c.next()){var d=i.value;d.remove(this)}}catch(v){e={error:v}}finally{try{i&&!i.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else x.remove(this);var h=this.initialTeardown;if(yr(h))try{h()}catch(v){m=v instanceof Hc?v.errors:[v]}var s=this._finalizers;if(s){this._finalizers=null;try{for(var l=Su(s),a=l.next();!a.done;a=l.next()){var u=a.value;try{cg(u)}catch(v){m=m??[],v instanceof Hc?m=Ia(Ia([],Cu(m)),Cu(v.errors)):m.push(v)}}}catch(v){r={error:v}}finally{try{a&&!a.done&&(p=l.return)&&p.call(l)}finally{if(r)throw r.error}}}if(m)throw new Hc(m)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)cg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&zu(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&zu(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Vv=Ja.EMPTY;function Gv(t){return t instanceof Ja||t&&"closed"in t&&yr(t.remove)&&yr(t.add)&&yr(t.unsubscribe)}function cg(t){yr(t)?t():t.unsubscribe()}var Yv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xv={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ia([t,e],Cu(n)))},clearTimeout:function(t){var e=Xv.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function TP(t){Xv.setTimeout(function(){throw t})}function ug(){}function Oa(t){t()}var $v=function(t){ao(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Gv(n)&&n.add(r)):r.destination=AP,r}return e.create=function(n,r,p){return new Wu(n,r,p)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ja),OP=Function.prototype.bind;function Uc(t,e){return OP.call(t,e)}var EP=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){fa(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){fa(r)}else fa(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){fa(n)}},t}(),Wu=function(t){ao(e,t);function e(n,r,p){var m=t.call(this)||this,x;if(yr(n)||!n)x={next:n??void 0,error:r??void 0,complete:p??void 0};else{var c;m&&Yv.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=function(){return m.unsubscribe()},x={next:n.next&&Uc(n.next,c),error:n.error&&Uc(n.error,c),complete:n.complete&&Uc(n.complete,c)}):x=n}return m.destination=new EP(x),m}return e}($v);function fa(t){TP(t)}function PP(t){throw t}var AP={closed:!0,next:ug,error:PP,complete:ug},kP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function DP(t){return t}function MP(t){return t.length===0?DP:t.length===1?t[0]:function(n){return t.reduce(function(r,p){return p(r)},n)}}var fg=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var p=this,m=FP(e)?e:new Wu(e,n,r);return Oa(function(){var x=p,c=x.operator,i=x.source;m.add(c?c.call(m,i):i?p._subscribe(m):p._trySubscribe(m))}),m},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=hg(n),new n(function(p,m){var x=new Wu({next:function(c){try{e(c)}catch(i){m(i),x.unsubscribe()}},error:m,complete:p});r.subscribe(x)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[kP]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return MP(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=hg(e),new e(function(r,p){var m;n.subscribe(function(x){return m=x},function(x){return p(x)},function(){return r(m)})})},t.create=function(e){return new t(e)},t}();function hg(t){var e;return(e=t??Yv.Promise)!==null&&e!==void 0?e:Promise}function IP(t){return t&&yr(t.next)&&yr(t.error)&&yr(t.complete)}function FP(t){return t&&t instanceof $v||IP(t)&&Gv(t)}var LP=Uv(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),qv=function(t){ao(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new dg(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new LP},e.prototype.next=function(n){var r=this;Oa(function(){var p,m;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var x=Su(r.currentObservers),c=x.next();!c.done;c=x.next()){var i=c.value;i.next(n)}}catch(d){p={error:d}}finally{try{c&&!c.done&&(m=x.return)&&m.call(x)}finally{if(p)throw p.error}}}})},e.prototype.error=function(n){var r=this;Oa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var p=r.observers;p.length;)p.shift().error(n)}})},e.prototype.complete=function(){var n=this;Oa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,p=this,m=p.hasError,x=p.isStopped,c=p.observers;return m||x?Vv:(this.currentObservers=null,c.push(n),new Ja(function(){r.currentObservers=null,zu(c,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,p=r.hasError,m=r.thrownError,x=r.isStopped;p?n.error(m):x&&n.complete()},e.prototype.asObservable=function(){var n=new fg;return n.source=this,n},e.create=function(n,r){return new dg(n,r)},e}(fg),dg=function(t){ao(e,t);function e(n,r){var p=t.call(this)||this;return p.destination=n,p.source=r,p}return e.prototype.next=function(n){var r,p;(p=(r=this.destination)===null||r===void 0?void 0:r.next)===null||p===void 0||p.call(r,n)},e.prototype.error=function(n){var r,p;(p=(r=this.destination)===null||r===void 0?void 0:r.error)===null||p===void 0||p.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,p;return(p=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&p!==void 0?p:Vv},e}(qv),Kv={now:function(){return(Kv.delegate||Date).now()},delegate:void 0},jP=function(t){ao(e,t);function e(n,r,p){n===void 0&&(n=1/0),r===void 0&&(r=1/0),p===void 0&&(p=Kv);var m=t.call(this)||this;return m._bufferSize=n,m._windowTime=r,m._timestampProvider=p,m._buffer=[],m._infiniteTimeWindow=!0,m._infiniteTimeWindow=r===1/0,m._bufferSize=Math.max(1,n),m._windowTime=Math.max(1,r),m}return e.prototype.next=function(n){var r=this,p=r.isStopped,m=r._buffer,x=r._infiniteTimeWindow,c=r._timestampProvider,i=r._windowTime;p||(m.push(n),!x&&m.push(c.now()+i)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),p=this,m=p._infiniteTimeWindow,x=p._buffer,c=x.slice(),i=0;i<c.length&&!n.closed;i+=m?1:2)n.next(c[i]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,p=n._timestampProvider,m=n._buffer,x=n._infiniteTimeWindow,c=(x?1:2)*r;if(r<1/0&&c<m.length&&m.splice(0,m.length-c),!x){for(var i=p.now(),d=0,h=1;h<m.length&&m[h]<=i;h+=2)d=h;d&&m.splice(0,d+1)}},e}(qv);const kn=new jP;var Ra={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ra.exports;(function(t,e){(function(){var n,r="4.17.21",p=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",c="Invalid `variable` option passed into `_.template`",i="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",s=1,l=2,a=4,u=1,v=2,f=1,y=2,b=4,_=8,S=16,T=32,E=64,P=128,F=256,R=512,j=30,H="...",Z=800,Q=16,se=1,le=2,ge=3,X=1/0,ie=9007199254740991,k=17976931348623157e292,z=NaN,N=4294967295,W=N-1,K=N>>>1,B=[["ary",P],["bind",f],["bindKey",y],["curry",_],["curryRight",S],["flip",R],["partial",T],["partialRight",E],["rearg",F]],M="[object Arguments]",Y="[object Array]",q="[object AsyncFunction]",re="[object Boolean]",ee="[object Date]",he="[object DOMException]",pe="[object Error]",ve="[object Function]",ne="[object GeneratorFunction]",V="[object Map]",fe="[object Number]",ce="[object Null]",te="[object Object]",ae="[object Promise]",_e="[object Proxy]",Pe="[object RegExp]",Se="[object Set]",ue="[object String]",Ee="[object Symbol]",Le="[object Undefined]",We="[object WeakMap]",rt="[object WeakSet]",Ve="[object ArrayBuffer]",we="[object DataView]",Ie="[object Float32Array]",tt="[object Float64Array]",dt="[object Int8Array]",gt="[object Int16Array]",ln="[object Int32Array]",Vn="[object Uint8Array]",Te="[object Uint8ClampedArray]",ze="[object Uint16Array]",Xe="[object Uint32Array]",$e=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,wn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kt=/&(?:amp|lt|gt|quot|#39);/g,Gn=/[&<>"']/g,bs=RegExp(Kt.source),ty=RegExp(Gn.source),ny=/<%-([\s\S]+?)%>/g,ry=/<%([\s\S]+?)%>/g,Kf=/<%=([\s\S]+?)%>/g,iy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sy=/^\w*$/,oy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hl=/[\\^$.*+?()[\]{}|]/g,ay=RegExp(hl.source),dl=/^\s+/,ly=/\s/,cy=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uy=/\{\n\/\* \[wrapped with (.+)\] \*/,fy=/,? & /,hy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dy=/[()=,{}\[\]\/\s]/,py=/\\(\\)?/g,gy=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jf=/\w*$/,vy=/^[-+]0x[0-9a-f]+$/i,my=/^0b[01]+$/i,yy=/^\[object .+?Constructor\]$/,by=/^0o[0-7]+$/i,xy=/^(?:0|[1-9]\d*)$/,wy=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mo=/($^)/,_y=/['\n\r\u2028\u2029\\]/g,yo="\\ud800-\\udfff",Sy="\\u0300-\\u036f",Cy="\\ufe20-\\ufe2f",Ty="\\u20d0-\\u20ff",Zf=Sy+Cy+Ty,Qf="\\u2700-\\u27bf",eh="a-z\\xdf-\\xf6\\xf8-\\xff",Oy="\\xac\\xb1\\xd7\\xf7",Ey="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Py="\\u2000-\\u206f",Ay=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",th="A-Z\\xc0-\\xd6\\xd8-\\xde",nh="\\ufe0e\\ufe0f",rh=Oy+Ey+Py+Ay,pl="[']",ky="["+yo+"]",ih="["+rh+"]",bo="["+Zf+"]",sh="\\d+",Dy="["+Qf+"]",oh="["+eh+"]",ah="[^"+yo+rh+sh+Qf+eh+th+"]",gl="\\ud83c[\\udffb-\\udfff]",My="(?:"+bo+"|"+gl+")",lh="[^"+yo+"]",vl="(?:\\ud83c[\\udde6-\\uddff]){2}",ml="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="["+th+"]",ch="\\u200d",uh="(?:"+oh+"|"+ah+")",Iy="(?:"+vi+"|"+ah+")",fh="(?:"+pl+"(?:d|ll|m|re|s|t|ve))?",hh="(?:"+pl+"(?:D|LL|M|RE|S|T|VE))?",dh=My+"?",ph="["+nh+"]?",Fy="(?:"+ch+"(?:"+[lh,vl,ml].join("|")+")"+ph+dh+")*",Ly="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gh=ph+dh+Fy,Ry="(?:"+[Dy,vl,ml].join("|")+")"+gh,By="(?:"+[lh+bo+"?",bo,vl,ml,ky].join("|")+")",Ny=RegExp(pl,"g"),zy=RegExp(bo,"g"),yl=RegExp(gl+"(?="+gl+")|"+By+gh,"g"),Wy=RegExp([vi+"?"+oh+"+"+fh+"(?="+[ih,vi,"$"].join("|")+")",Iy+"+"+hh+"(?="+[ih,vi+uh,"$"].join("|")+")",vi+"?"+uh+"+"+fh,vi+"+"+hh,jy,Ly,sh,Ry].join("|"),"g"),Hy=RegExp("["+ch+yo+Zf+nh+"]"),Uy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gy=-1,pt={};pt[Ie]=pt[tt]=pt[dt]=pt[gt]=pt[ln]=pt[Vn]=pt[Te]=pt[ze]=pt[Xe]=!0,pt[M]=pt[Y]=pt[Ve]=pt[re]=pt[we]=pt[ee]=pt[pe]=pt[ve]=pt[V]=pt[fe]=pt[te]=pt[Pe]=pt[Se]=pt[ue]=pt[We]=!1;var ht={};ht[M]=ht[Y]=ht[Ve]=ht[we]=ht[re]=ht[ee]=ht[Ie]=ht[tt]=ht[dt]=ht[gt]=ht[ln]=ht[V]=ht[fe]=ht[te]=ht[Pe]=ht[Se]=ht[ue]=ht[Ee]=ht[Vn]=ht[Te]=ht[ze]=ht[Xe]=!0,ht[pe]=ht[ve]=ht[We]=!1;var Yy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Xy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$y={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ky=parseFloat,Jy=parseInt,vh=typeof ot=="object"&&ot&&ot.Object===Object&&ot,Zy=typeof self=="object"&&self&&self.Object===Object&&self,Lt=vh||Zy||Function("return this")(),bl=e&&!e.nodeType&&e,Ur=bl&&!0&&t&&!t.nodeType&&t,mh=Ur&&Ur.exports===bl,xl=mh&&vh.process,_n=function(){try{var $=Ur&&Ur.require&&Ur.require("util").types;return $||xl&&xl.binding&&xl.binding("util")}catch{}}(),yh=_n&&_n.isArrayBuffer,bh=_n&&_n.isDate,xh=_n&&_n.isMap,wh=_n&&_n.isRegExp,_h=_n&&_n.isSet,Sh=_n&&_n.isTypedArray;function cn($,de,oe){switch(oe.length){case 0:return $.call(de);case 1:return $.call(de,oe[0]);case 2:return $.call(de,oe[0],oe[1]);case 3:return $.call(de,oe[0],oe[1],oe[2])}return $.apply(de,oe)}function Qy($,de,oe,Ae){for(var He=-1,it=$==null?0:$.length;++He<it;){var At=$[He];de(Ae,At,oe(At),$)}return Ae}function Sn($,de){for(var oe=-1,Ae=$==null?0:$.length;++oe<Ae&&de($[oe],oe,$)!==!1;);return $}function eb($,de){for(var oe=$==null?0:$.length;oe--&&de($[oe],oe,$)!==!1;);return $}function Ch($,de){for(var oe=-1,Ae=$==null?0:$.length;++oe<Ae;)if(!de($[oe],oe,$))return!1;return!0}function Sr($,de){for(var oe=-1,Ae=$==null?0:$.length,He=0,it=[];++oe<Ae;){var At=$[oe];de(At,oe,$)&&(it[He++]=At)}return it}function xo($,de){var oe=$==null?0:$.length;return!!oe&&mi($,de,0)>-1}function wl($,de,oe){for(var Ae=-1,He=$==null?0:$.length;++Ae<He;)if(oe(de,$[Ae]))return!0;return!1}function vt($,de){for(var oe=-1,Ae=$==null?0:$.length,He=Array(Ae);++oe<Ae;)He[oe]=de($[oe],oe,$);return He}function Cr($,de){for(var oe=-1,Ae=de.length,He=$.length;++oe<Ae;)$[He+oe]=de[oe];return $}function _l($,de,oe,Ae){var He=-1,it=$==null?0:$.length;for(Ae&&it&&(oe=$[++He]);++He<it;)oe=de(oe,$[He],He,$);return oe}function tb($,de,oe,Ae){var He=$==null?0:$.length;for(Ae&&He&&(oe=$[--He]);He--;)oe=de(oe,$[He],He,$);return oe}function Sl($,de){for(var oe=-1,Ae=$==null?0:$.length;++oe<Ae;)if(de($[oe],oe,$))return!0;return!1}var nb=Cl("length");function rb($){return $.split("")}function ib($){return $.match(hy)||[]}function Th($,de,oe){var Ae;return oe($,function(He,it,At){if(de(He,it,At))return Ae=it,!1}),Ae}function wo($,de,oe,Ae){for(var He=$.length,it=oe+(Ae?1:-1);Ae?it--:++it<He;)if(de($[it],it,$))return it;return-1}function mi($,de,oe){return de===de?vb($,de,oe):wo($,Oh,oe)}function sb($,de,oe,Ae){for(var He=oe-1,it=$.length;++He<it;)if(Ae($[He],de))return He;return-1}function Oh($){return $!==$}function Eh($,de){var oe=$==null?0:$.length;return oe?Ol($,de)/oe:z}function Cl($){return function(de){return de==null?n:de[$]}}function Tl($){return function(de){return $==null?n:$[de]}}function Ph($,de,oe,Ae,He){return He($,function(it,At,ut){oe=Ae?(Ae=!1,it):de(oe,it,At,ut)}),oe}function ob($,de){var oe=$.length;for($.sort(de);oe--;)$[oe]=$[oe].value;return $}function Ol($,de){for(var oe,Ae=-1,He=$.length;++Ae<He;){var it=de($[Ae]);it!==n&&(oe=oe===n?it:oe+it)}return oe}function El($,de){for(var oe=-1,Ae=Array($);++oe<$;)Ae[oe]=de(oe);return Ae}function ab($,de){return vt(de,function(oe){return[oe,$[oe]]})}function Ah($){return $&&$.slice(0,Ih($)+1).replace(dl,"")}function un($){return function(de){return $(de)}}function Pl($,de){return vt(de,function(oe){return $[oe]})}function xs($,de){return $.has(de)}function kh($,de){for(var oe=-1,Ae=$.length;++oe<Ae&&mi(de,$[oe],0)>-1;);return oe}function Dh($,de){for(var oe=$.length;oe--&&mi(de,$[oe],0)>-1;);return oe}function lb($,de){for(var oe=$.length,Ae=0;oe--;)$[oe]===de&&++Ae;return Ae}var cb=Tl(Yy),ub=Tl(Xy);function fb($){return"\\"+qy[$]}function hb($,de){return $==null?n:$[de]}function yi($){return Hy.test($)}function db($){return Uy.test($)}function pb($){for(var de,oe=[];!(de=$.next()).done;)oe.push(de.value);return oe}function Al($){var de=-1,oe=Array($.size);return $.forEach(function(Ae,He){oe[++de]=[He,Ae]}),oe}function Mh($,de){return function(oe){return $(de(oe))}}function Tr($,de){for(var oe=-1,Ae=$.length,He=0,it=[];++oe<Ae;){var At=$[oe];(At===de||At===h)&&($[oe]=h,it[He++]=oe)}return it}function _o($){var de=-1,oe=Array($.size);return $.forEach(function(Ae){oe[++de]=Ae}),oe}function gb($){var de=-1,oe=Array($.size);return $.forEach(function(Ae){oe[++de]=[Ae,Ae]}),oe}function vb($,de,oe){for(var Ae=oe-1,He=$.length;++Ae<He;)if($[Ae]===de)return Ae;return-1}function mb($,de,oe){for(var Ae=oe+1;Ae--;)if($[Ae]===de)return Ae;return Ae}function bi($){return yi($)?bb($):nb($)}function Bn($){return yi($)?xb($):rb($)}function Ih($){for(var de=$.length;de--&&ly.test($.charAt(de)););return de}var yb=Tl($y);function bb($){for(var de=yl.lastIndex=0;yl.test($);)++de;return de}function xb($){return $.match(yl)||[]}function wb($){return $.match(Wy)||[]}var _b=function $(de){de=de==null?Lt:xi.defaults(Lt.Object(),de,xi.pick(Lt,Vy));var oe=de.Array,Ae=de.Date,He=de.Error,it=de.Function,At=de.Math,ut=de.Object,kl=de.RegExp,Sb=de.String,Cn=de.TypeError,So=oe.prototype,Cb=it.prototype,wi=ut.prototype,Co=de["__core-js_shared__"],To=Cb.toString,lt=wi.hasOwnProperty,Tb=0,Fh=function(){var o=/[^.]+$/.exec(Co&&Co.keys&&Co.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Oo=wi.toString,Ob=To.call(ut),Eb=Lt._,Pb=kl("^"+To.call(lt).replace(hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Eo=mh?de.Buffer:n,Or=de.Symbol,Po=de.Uint8Array,Lh=Eo?Eo.allocUnsafe:n,Ao=Mh(ut.getPrototypeOf,ut),jh=ut.create,Rh=wi.propertyIsEnumerable,ko=So.splice,Bh=Or?Or.isConcatSpreadable:n,ws=Or?Or.iterator:n,Vr=Or?Or.toStringTag:n,Do=function(){try{var o=qr(ut,"defineProperty");return o({},"",{}),o}catch{}}(),Ab=de.clearTimeout!==Lt.clearTimeout&&de.clearTimeout,kb=Ae&&Ae.now!==Lt.Date.now&&Ae.now,Db=de.setTimeout!==Lt.setTimeout&&de.setTimeout,Mo=At.ceil,Io=At.floor,Dl=ut.getOwnPropertySymbols,Mb=Eo?Eo.isBuffer:n,Nh=de.isFinite,Ib=So.join,Fb=Mh(ut.keys,ut),kt=At.max,Wt=At.min,Lb=Ae.now,jb=de.parseInt,zh=At.random,Rb=So.reverse,Ml=qr(de,"DataView"),_s=qr(de,"Map"),Il=qr(de,"Promise"),_i=qr(de,"Set"),Ss=qr(de,"WeakMap"),Cs=qr(ut,"create"),Fo=Ss&&new Ss,Si={},Bb=Kr(Ml),Nb=Kr(_s),zb=Kr(Il),Wb=Kr(_i),Hb=Kr(Ss),Lo=Or?Or.prototype:n,Ts=Lo?Lo.valueOf:n,Wh=Lo?Lo.toString:n;function I(o){if(xt(o)&&!Ue(o)&&!(o instanceof Ze)){if(o instanceof Tn)return o;if(lt.call(o,"__wrapped__"))return Hd(o)}return new Tn(o)}var Ci=function(){function o(){}return function(g){if(!mt(g))return{};if(jh)return jh(g);o.prototype=g;var w=new o;return o.prototype=n,w}}();function jo(){}function Tn(o,g){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}I.templateSettings={escape:ny,evaluate:ry,interpolate:Kf,variable:"",imports:{_:I}},I.prototype=jo.prototype,I.prototype.constructor=I,Tn.prototype=Ci(jo.prototype),Tn.prototype.constructor=Tn;function Ze(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function Ub(){var o=new Ze(this.__wrapped__);return o.__actions__=Jt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Jt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Jt(this.__views__),o}function Vb(){if(this.__filtered__){var o=new Ze(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Gb(){var o=this.__wrapped__.value(),g=this.__dir__,w=Ue(o),O=g<0,A=w?o.length:0,L=r1(0,A,this.__views__),U=L.start,G=L.end,J=G-U,me=O?G:U-1,ye=this.__iteratees__,xe=ye.length,Ce=0,ke=Wt(J,this.__takeCount__);if(!w||!O&&A==J&&ke==J)return fd(o,this.__actions__);var Be=[];e:for(;J--&&Ce<ke;){me+=g;for(var Ye=-1,Ne=o[me];++Ye<xe;){var Ke=ye[Ye],Qe=Ke.iteratee,dn=Ke.type,$t=Qe(Ne);if(dn==le)Ne=$t;else if(!$t){if(dn==se)continue e;break e}}Be[Ce++]=Ne}return Be}Ze.prototype=Ci(jo.prototype),Ze.prototype.constructor=Ze;function Gr(o){var g=-1,w=o==null?0:o.length;for(this.clear();++g<w;){var O=o[g];this.set(O[0],O[1])}}function Yb(){this.__data__=Cs?Cs(null):{},this.size=0}function Xb(o){var g=this.has(o)&&delete this.__data__[o];return this.size-=g?1:0,g}function $b(o){var g=this.__data__;if(Cs){var w=g[o];return w===i?n:w}return lt.call(g,o)?g[o]:n}function qb(o){var g=this.__data__;return Cs?g[o]!==n:lt.call(g,o)}function Kb(o,g){var w=this.__data__;return this.size+=this.has(o)?0:1,w[o]=Cs&&g===n?i:g,this}Gr.prototype.clear=Yb,Gr.prototype.delete=Xb,Gr.prototype.get=$b,Gr.prototype.has=qb,Gr.prototype.set=Kb;function sr(o){var g=-1,w=o==null?0:o.length;for(this.clear();++g<w;){var O=o[g];this.set(O[0],O[1])}}function Jb(){this.__data__=[],this.size=0}function Zb(o){var g=this.__data__,w=Ro(g,o);if(w<0)return!1;var O=g.length-1;return w==O?g.pop():ko.call(g,w,1),--this.size,!0}function Qb(o){var g=this.__data__,w=Ro(g,o);return w<0?n:g[w][1]}function e2(o){return Ro(this.__data__,o)>-1}function t2(o,g){var w=this.__data__,O=Ro(w,o);return O<0?(++this.size,w.push([o,g])):w[O][1]=g,this}sr.prototype.clear=Jb,sr.prototype.delete=Zb,sr.prototype.get=Qb,sr.prototype.has=e2,sr.prototype.set=t2;function or(o){var g=-1,w=o==null?0:o.length;for(this.clear();++g<w;){var O=o[g];this.set(O[0],O[1])}}function n2(){this.size=0,this.__data__={hash:new Gr,map:new(_s||sr),string:new Gr}}function r2(o){var g=qo(this,o).delete(o);return this.size-=g?1:0,g}function i2(o){return qo(this,o).get(o)}function s2(o){return qo(this,o).has(o)}function o2(o,g){var w=qo(this,o),O=w.size;return w.set(o,g),this.size+=w.size==O?0:1,this}or.prototype.clear=n2,or.prototype.delete=r2,or.prototype.get=i2,or.prototype.has=s2,or.prototype.set=o2;function Yr(o){var g=-1,w=o==null?0:o.length;for(this.__data__=new or;++g<w;)this.add(o[g])}function a2(o){return this.__data__.set(o,i),this}function l2(o){return this.__data__.has(o)}Yr.prototype.add=Yr.prototype.push=a2,Yr.prototype.has=l2;function Nn(o){var g=this.__data__=new sr(o);this.size=g.size}function c2(){this.__data__=new sr,this.size=0}function u2(o){var g=this.__data__,w=g.delete(o);return this.size=g.size,w}function f2(o){return this.__data__.get(o)}function h2(o){return this.__data__.has(o)}function d2(o,g){var w=this.__data__;if(w instanceof sr){var O=w.__data__;if(!_s||O.length<p-1)return O.push([o,g]),this.size=++w.size,this;w=this.__data__=new or(O)}return w.set(o,g),this.size=w.size,this}Nn.prototype.clear=c2,Nn.prototype.delete=u2,Nn.prototype.get=f2,Nn.prototype.has=h2,Nn.prototype.set=d2;function Hh(o,g){var w=Ue(o),O=!w&&Jr(o),A=!w&&!O&&Dr(o),L=!w&&!O&&!A&&Pi(o),U=w||O||A||L,G=U?El(o.length,Sb):[],J=G.length;for(var me in o)(g||lt.call(o,me))&&!(U&&(me=="length"||A&&(me=="offset"||me=="parent")||L&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||ur(me,J)))&&G.push(me);return G}function Uh(o){var g=o.length;return g?o[Vl(0,g-1)]:n}function p2(o,g){return Ko(Jt(o),Xr(g,0,o.length))}function g2(o){return Ko(Jt(o))}function Fl(o,g,w){(w!==n&&!zn(o[g],w)||w===n&&!(g in o))&&ar(o,g,w)}function Os(o,g,w){var O=o[g];(!(lt.call(o,g)&&zn(O,w))||w===n&&!(g in o))&&ar(o,g,w)}function Ro(o,g){for(var w=o.length;w--;)if(zn(o[w][0],g))return w;return-1}function v2(o,g,w,O){return Er(o,function(A,L,U){g(O,A,w(A),U)}),O}function Vh(o,g){return o&&Xn(g,Ft(g),o)}function m2(o,g){return o&&Xn(g,Qt(g),o)}function ar(o,g,w){g=="__proto__"&&Do?Do(o,g,{configurable:!0,enumerable:!0,value:w,writable:!0}):o[g]=w}function Ll(o,g){for(var w=-1,O=g.length,A=oe(O),L=o==null;++w<O;)A[w]=L?n:gc(o,g[w]);return A}function Xr(o,g,w){return o===o&&(w!==n&&(o=o<=w?o:w),g!==n&&(o=o>=g?o:g)),o}function On(o,g,w,O,A,L){var U,G=g&s,J=g&l,me=g&a;if(w&&(U=A?w(o,O,A,L):w(o)),U!==n)return U;if(!mt(o))return o;var ye=Ue(o);if(ye){if(U=s1(o),!G)return Jt(o,U)}else{var xe=Ht(o),Ce=xe==ve||xe==ne;if(Dr(o))return pd(o,G);if(xe==te||xe==M||Ce&&!A){if(U=J||Ce?{}:Id(o),!G)return J?$2(o,m2(U,o)):X2(o,Vh(U,o))}else{if(!ht[xe])return A?o:{};U=o1(o,xe,G)}}L||(L=new Nn);var ke=L.get(o);if(ke)return ke;L.set(o,U),lp(o)?o.forEach(function(Ne){U.add(On(Ne,g,w,Ne,o,L))}):op(o)&&o.forEach(function(Ne,Ke){U.set(Ke,On(Ne,g,w,Ke,o,L))});var Be=me?J?tc:ec:J?Qt:Ft,Ye=ye?n:Be(o);return Sn(Ye||o,function(Ne,Ke){Ye&&(Ke=Ne,Ne=o[Ke]),Os(U,Ke,On(Ne,g,w,Ke,o,L))}),U}function y2(o){var g=Ft(o);return function(w){return Gh(w,o,g)}}function Gh(o,g,w){var O=w.length;if(o==null)return!O;for(o=ut(o);O--;){var A=w[O],L=g[A],U=o[A];if(U===n&&!(A in o)||!L(U))return!1}return!0}function Yh(o,g,w){if(typeof o!="function")throw new Cn(x);return Is(function(){o.apply(n,w)},g)}function Es(o,g,w,O){var A=-1,L=xo,U=!0,G=o.length,J=[],me=g.length;if(!G)return J;w&&(g=vt(g,un(w))),O?(L=wl,U=!1):g.length>=p&&(L=xs,U=!1,g=new Yr(g));e:for(;++A<G;){var ye=o[A],xe=w==null?ye:w(ye);if(ye=O||ye!==0?ye:0,U&&xe===xe){for(var Ce=me;Ce--;)if(g[Ce]===xe)continue e;J.push(ye)}else L(g,xe,O)||J.push(ye)}return J}var Er=bd(Yn),Xh=bd(Rl,!0);function b2(o,g){var w=!0;return Er(o,function(O,A,L){return w=!!g(O,A,L),w}),w}function Bo(o,g,w){for(var O=-1,A=o.length;++O<A;){var L=o[O],U=g(L);if(U!=null&&(G===n?U===U&&!hn(U):w(U,G)))var G=U,J=L}return J}function x2(o,g,w,O){var A=o.length;for(w=Ge(w),w<0&&(w=-w>A?0:A+w),O=O===n||O>A?A:Ge(O),O<0&&(O+=A),O=w>O?0:up(O);w<O;)o[w++]=g;return o}function $h(o,g){var w=[];return Er(o,function(O,A,L){g(O,A,L)&&w.push(O)}),w}function jt(o,g,w,O,A){var L=-1,U=o.length;for(w||(w=l1),A||(A=[]);++L<U;){var G=o[L];g>0&&w(G)?g>1?jt(G,g-1,w,O,A):Cr(A,G):O||(A[A.length]=G)}return A}var jl=xd(),qh=xd(!0);function Yn(o,g){return o&&jl(o,g,Ft)}function Rl(o,g){return o&&qh(o,g,Ft)}function No(o,g){return Sr(g,function(w){return fr(o[w])})}function $r(o,g){g=Ar(g,o);for(var w=0,O=g.length;o!=null&&w<O;)o=o[$n(g[w++])];return w&&w==O?o:n}function Kh(o,g,w){var O=g(o);return Ue(o)?O:Cr(O,w(o))}function Yt(o){return o==null?o===n?Le:ce:Vr&&Vr in ut(o)?n1(o):g1(o)}function Bl(o,g){return o>g}function w2(o,g){return o!=null&&lt.call(o,g)}function _2(o,g){return o!=null&&g in ut(o)}function S2(o,g,w){return o>=Wt(g,w)&&o<kt(g,w)}function Nl(o,g,w){for(var O=w?wl:xo,A=o[0].length,L=o.length,U=L,G=oe(L),J=1/0,me=[];U--;){var ye=o[U];U&&g&&(ye=vt(ye,un(g))),J=Wt(ye.length,J),G[U]=!w&&(g||A>=120&&ye.length>=120)?new Yr(U&&ye):n}ye=o[0];var xe=-1,Ce=G[0];e:for(;++xe<A&&me.length<J;){var ke=ye[xe],Be=g?g(ke):ke;if(ke=w||ke!==0?ke:0,!(Ce?xs(Ce,Be):O(me,Be,w))){for(U=L;--U;){var Ye=G[U];if(!(Ye?xs(Ye,Be):O(o[U],Be,w)))continue e}Ce&&Ce.push(Be),me.push(ke)}}return me}function C2(o,g,w,O){return Yn(o,function(A,L,U){g(O,w(A),L,U)}),O}function Ps(o,g,w){g=Ar(g,o),o=Rd(o,g);var O=o==null?o:o[$n(Pn(g))];return O==null?n:cn(O,o,w)}function Jh(o){return xt(o)&&Yt(o)==M}function T2(o){return xt(o)&&Yt(o)==Ve}function O2(o){return xt(o)&&Yt(o)==ee}function As(o,g,w,O,A){return o===g?!0:o==null||g==null||!xt(o)&&!xt(g)?o!==o&&g!==g:E2(o,g,w,O,As,A)}function E2(o,g,w,O,A,L){var U=Ue(o),G=Ue(g),J=U?Y:Ht(o),me=G?Y:Ht(g);J=J==M?te:J,me=me==M?te:me;var ye=J==te,xe=me==te,Ce=J==me;if(Ce&&Dr(o)){if(!Dr(g))return!1;U=!0,ye=!1}if(Ce&&!ye)return L||(L=new Nn),U||Pi(o)?kd(o,g,w,O,A,L):e1(o,g,J,w,O,A,L);if(!(w&u)){var ke=ye&&lt.call(o,"__wrapped__"),Be=xe&&lt.call(g,"__wrapped__");if(ke||Be){var Ye=ke?o.value():o,Ne=Be?g.value():g;return L||(L=new Nn),A(Ye,Ne,w,O,L)}}return Ce?(L||(L=new Nn),t1(o,g,w,O,A,L)):!1}function P2(o){return xt(o)&&Ht(o)==V}function zl(o,g,w,O){var A=w.length,L=A,U=!O;if(o==null)return!L;for(o=ut(o);A--;){var G=w[A];if(U&&G[2]?G[1]!==o[G[0]]:!(G[0]in o))return!1}for(;++A<L;){G=w[A];var J=G[0],me=o[J],ye=G[1];if(U&&G[2]){if(me===n&&!(J in o))return!1}else{var xe=new Nn;if(O)var Ce=O(me,ye,J,o,g,xe);if(!(Ce===n?As(ye,me,u|v,O,xe):Ce))return!1}}return!0}function Zh(o){if(!mt(o)||u1(o))return!1;var g=fr(o)?Pb:yy;return g.test(Kr(o))}function A2(o){return xt(o)&&Yt(o)==Pe}function k2(o){return xt(o)&&Ht(o)==Se}function D2(o){return xt(o)&&na(o.length)&&!!pt[Yt(o)]}function Qh(o){return typeof o=="function"?o:o==null?en:typeof o=="object"?Ue(o)?nd(o[0],o[1]):td(o):wp(o)}function Wl(o){if(!Ms(o))return Fb(o);var g=[];for(var w in ut(o))lt.call(o,w)&&w!="constructor"&&g.push(w);return g}function M2(o){if(!mt(o))return p1(o);var g=Ms(o),w=[];for(var O in o)O=="constructor"&&(g||!lt.call(o,O))||w.push(O);return w}function Hl(o,g){return o<g}function ed(o,g){var w=-1,O=Zt(o)?oe(o.length):[];return Er(o,function(A,L,U){O[++w]=g(A,L,U)}),O}function td(o){var g=rc(o);return g.length==1&&g[0][2]?Ld(g[0][0],g[0][1]):function(w){return w===o||zl(w,o,g)}}function nd(o,g){return sc(o)&&Fd(g)?Ld($n(o),g):function(w){var O=gc(w,o);return O===n&&O===g?vc(w,o):As(g,O,u|v)}}function zo(o,g,w,O,A){o!==g&&jl(g,function(L,U){if(A||(A=new Nn),mt(L))I2(o,g,U,w,zo,O,A);else{var G=O?O(ac(o,U),L,U+"",o,g,A):n;G===n&&(G=L),Fl(o,U,G)}},Qt)}function I2(o,g,w,O,A,L,U){var G=ac(o,w),J=ac(g,w),me=U.get(J);if(me){Fl(o,w,me);return}var ye=L?L(G,J,w+"",o,g,U):n,xe=ye===n;if(xe){var Ce=Ue(J),ke=!Ce&&Dr(J),Be=!Ce&&!ke&&Pi(J);ye=J,Ce||ke||Be?Ue(G)?ye=G:Ct(G)?ye=Jt(G):ke?(xe=!1,ye=pd(J,!0)):Be?(xe=!1,ye=gd(J,!0)):ye=[]:Fs(J)||Jr(J)?(ye=G,Jr(G)?ye=fp(G):(!mt(G)||fr(G))&&(ye=Id(J))):xe=!1}xe&&(U.set(J,ye),A(ye,J,O,L,U),U.delete(J)),Fl(o,w,ye)}function rd(o,g){var w=o.length;if(w)return g+=g<0?w:0,ur(g,w)?o[g]:n}function id(o,g,w){g.length?g=vt(g,function(L){return Ue(L)?function(U){return $r(U,L.length===1?L[0]:L)}:L}):g=[en];var O=-1;g=vt(g,un(Re()));var A=ed(o,function(L,U,G){var J=vt(g,function(me){return me(L)});return{criteria:J,index:++O,value:L}});return ob(A,function(L,U){return Y2(L,U,w)})}function F2(o,g){return sd(o,g,function(w,O){return vc(o,O)})}function sd(o,g,w){for(var O=-1,A=g.length,L={};++O<A;){var U=g[O],G=$r(o,U);w(G,U)&&ks(L,Ar(U,o),G)}return L}function L2(o){return function(g){return $r(g,o)}}function Ul(o,g,w,O){var A=O?sb:mi,L=-1,U=g.length,G=o;for(o===g&&(g=Jt(g)),w&&(G=vt(o,un(w)));++L<U;)for(var J=0,me=g[L],ye=w?w(me):me;(J=A(G,ye,J,O))>-1;)G!==o&&ko.call(G,J,1),ko.call(o,J,1);return o}function od(o,g){for(var w=o?g.length:0,O=w-1;w--;){var A=g[w];if(w==O||A!==L){var L=A;ur(A)?ko.call(o,A,1):Xl(o,A)}}return o}function Vl(o,g){return o+Io(zh()*(g-o+1))}function j2(o,g,w,O){for(var A=-1,L=kt(Mo((g-o)/(w||1)),0),U=oe(L);L--;)U[O?L:++A]=o,o+=w;return U}function Gl(o,g){var w="";if(!o||g<1||g>ie)return w;do g%2&&(w+=o),g=Io(g/2),g&&(o+=o);while(g);return w}function qe(o,g){return lc(jd(o,g,en),o+"")}function R2(o){return Uh(Ai(o))}function B2(o,g){var w=Ai(o);return Ko(w,Xr(g,0,w.length))}function ks(o,g,w,O){if(!mt(o))return o;g=Ar(g,o);for(var A=-1,L=g.length,U=L-1,G=o;G!=null&&++A<L;){var J=$n(g[A]),me=w;if(J==="__proto__"||J==="constructor"||J==="prototype")return o;if(A!=U){var ye=G[J];me=O?O(ye,J,G):n,me===n&&(me=mt(ye)?ye:ur(g[A+1])?[]:{})}Os(G,J,me),G=G[J]}return o}var ad=Fo?function(o,g){return Fo.set(o,g),o}:en,N2=Do?function(o,g){return Do(o,"toString",{configurable:!0,enumerable:!1,value:yc(g),writable:!0})}:en;function z2(o){return Ko(Ai(o))}function En(o,g,w){var O=-1,A=o.length;g<0&&(g=-g>A?0:A+g),w=w>A?A:w,w<0&&(w+=A),A=g>w?0:w-g>>>0,g>>>=0;for(var L=oe(A);++O<A;)L[O]=o[O+g];return L}function W2(o,g){var w;return Er(o,function(O,A,L){return w=g(O,A,L),!w}),!!w}function Wo(o,g,w){var O=0,A=o==null?O:o.length;if(typeof g=="number"&&g===g&&A<=K){for(;O<A;){var L=O+A>>>1,U=o[L];U!==null&&!hn(U)&&(w?U<=g:U<g)?O=L+1:A=L}return A}return Yl(o,g,en,w)}function Yl(o,g,w,O){var A=0,L=o==null?0:o.length;if(L===0)return 0;g=w(g);for(var U=g!==g,G=g===null,J=hn(g),me=g===n;A<L;){var ye=Io((A+L)/2),xe=w(o[ye]),Ce=xe!==n,ke=xe===null,Be=xe===xe,Ye=hn(xe);if(U)var Ne=O||Be;else me?Ne=Be&&(O||Ce):G?Ne=Be&&Ce&&(O||!ke):J?Ne=Be&&Ce&&!ke&&(O||!Ye):ke||Ye?Ne=!1:Ne=O?xe<=g:xe<g;Ne?A=ye+1:L=ye}return Wt(L,W)}function ld(o,g){for(var w=-1,O=o.length,A=0,L=[];++w<O;){var U=o[w],G=g?g(U):U;if(!w||!zn(G,J)){var J=G;L[A++]=U===0?0:U}}return L}function cd(o){return typeof o=="number"?o:hn(o)?z:+o}function fn(o){if(typeof o=="string")return o;if(Ue(o))return vt(o,fn)+"";if(hn(o))return Wh?Wh.call(o):"";var g=o+"";return g=="0"&&1/o==-X?"-0":g}function Pr(o,g,w){var O=-1,A=xo,L=o.length,U=!0,G=[],J=G;if(w)U=!1,A=wl;else if(L>=p){var me=g?null:Z2(o);if(me)return _o(me);U=!1,A=xs,J=new Yr}else J=g?[]:G;e:for(;++O<L;){var ye=o[O],xe=g?g(ye):ye;if(ye=w||ye!==0?ye:0,U&&xe===xe){for(var Ce=J.length;Ce--;)if(J[Ce]===xe)continue e;g&&J.push(xe),G.push(ye)}else A(J,xe,w)||(J!==G&&J.push(xe),G.push(ye))}return G}function Xl(o,g){return g=Ar(g,o),o=Rd(o,g),o==null||delete o[$n(Pn(g))]}function ud(o,g,w,O){return ks(o,g,w($r(o,g)),O)}function Ho(o,g,w,O){for(var A=o.length,L=O?A:-1;(O?L--:++L<A)&&g(o[L],L,o););return w?En(o,O?0:L,O?L+1:A):En(o,O?L+1:0,O?A:L)}function fd(o,g){var w=o;return w instanceof Ze&&(w=w.value()),_l(g,function(O,A){return A.func.apply(A.thisArg,Cr([O],A.args))},w)}function $l(o,g,w){var O=o.length;if(O<2)return O?Pr(o[0]):[];for(var A=-1,L=oe(O);++A<O;)for(var U=o[A],G=-1;++G<O;)G!=A&&(L[A]=Es(L[A]||U,o[G],g,w));return Pr(jt(L,1),g,w)}function hd(o,g,w){for(var O=-1,A=o.length,L=g.length,U={};++O<A;){var G=O<L?g[O]:n;w(U,o[O],G)}return U}function ql(o){return Ct(o)?o:[]}function Kl(o){return typeof o=="function"?o:en}function Ar(o,g){return Ue(o)?o:sc(o,g)?[o]:Wd(at(o))}var H2=qe;function kr(o,g,w){var O=o.length;return w=w===n?O:w,!g&&w>=O?o:En(o,g,w)}var dd=Ab||function(o){return Lt.clearTimeout(o)};function pd(o,g){if(g)return o.slice();var w=o.length,O=Lh?Lh(w):new o.constructor(w);return o.copy(O),O}function Jl(o){var g=new o.constructor(o.byteLength);return new Po(g).set(new Po(o)),g}function U2(o,g){var w=g?Jl(o.buffer):o.buffer;return new o.constructor(w,o.byteOffset,o.byteLength)}function V2(o){var g=new o.constructor(o.source,Jf.exec(o));return g.lastIndex=o.lastIndex,g}function G2(o){return Ts?ut(Ts.call(o)):{}}function gd(o,g){var w=g?Jl(o.buffer):o.buffer;return new o.constructor(w,o.byteOffset,o.length)}function vd(o,g){if(o!==g){var w=o!==n,O=o===null,A=o===o,L=hn(o),U=g!==n,G=g===null,J=g===g,me=hn(g);if(!G&&!me&&!L&&o>g||L&&U&&J&&!G&&!me||O&&U&&J||!w&&J||!A)return 1;if(!O&&!L&&!me&&o<g||me&&w&&A&&!O&&!L||G&&w&&A||!U&&A||!J)return-1}return 0}function Y2(o,g,w){for(var O=-1,A=o.criteria,L=g.criteria,U=A.length,G=w.length;++O<U;){var J=vd(A[O],L[O]);if(J){if(O>=G)return J;var me=w[O];return J*(me=="desc"?-1:1)}}return o.index-g.index}function md(o,g,w,O){for(var A=-1,L=o.length,U=w.length,G=-1,J=g.length,me=kt(L-U,0),ye=oe(J+me),xe=!O;++G<J;)ye[G]=g[G];for(;++A<U;)(xe||A<L)&&(ye[w[A]]=o[A]);for(;me--;)ye[G++]=o[A++];return ye}function yd(o,g,w,O){for(var A=-1,L=o.length,U=-1,G=w.length,J=-1,me=g.length,ye=kt(L-G,0),xe=oe(ye+me),Ce=!O;++A<ye;)xe[A]=o[A];for(var ke=A;++J<me;)xe[ke+J]=g[J];for(;++U<G;)(Ce||A<L)&&(xe[ke+w[U]]=o[A++]);return xe}function Jt(o,g){var w=-1,O=o.length;for(g||(g=oe(O));++w<O;)g[w]=o[w];return g}function Xn(o,g,w,O){var A=!w;w||(w={});for(var L=-1,U=g.length;++L<U;){var G=g[L],J=O?O(w[G],o[G],G,w,o):n;J===n&&(J=o[G]),A?ar(w,G,J):Os(w,G,J)}return w}function X2(o,g){return Xn(o,ic(o),g)}function $2(o,g){return Xn(o,Dd(o),g)}function Uo(o,g){return function(w,O){var A=Ue(w)?Qy:v2,L=g?g():{};return A(w,o,Re(O,2),L)}}function Ti(o){return qe(function(g,w){var O=-1,A=w.length,L=A>1?w[A-1]:n,U=A>2?w[2]:n;for(L=o.length>3&&typeof L=="function"?(A--,L):n,U&&Xt(w[0],w[1],U)&&(L=A<3?n:L,A=1),g=ut(g);++O<A;){var G=w[O];G&&o(g,G,O,L)}return g})}function bd(o,g){return function(w,O){if(w==null)return w;if(!Zt(w))return o(w,O);for(var A=w.length,L=g?A:-1,U=ut(w);(g?L--:++L<A)&&O(U[L],L,U)!==!1;);return w}}function xd(o){return function(g,w,O){for(var A=-1,L=ut(g),U=O(g),G=U.length;G--;){var J=U[o?G:++A];if(w(L[J],J,L)===!1)break}return g}}function q2(o,g,w){var O=g&f,A=Ds(o);function L(){var U=this&&this!==Lt&&this instanceof L?A:o;return U.apply(O?w:this,arguments)}return L}function wd(o){return function(g){g=at(g);var w=yi(g)?Bn(g):n,O=w?w[0]:g.charAt(0),A=w?kr(w,1).join(""):g.slice(1);return O[o]()+A}}function Oi(o){return function(g){return _l(bp(yp(g).replace(Ny,"")),o,"")}}function Ds(o){return function(){var g=arguments;switch(g.length){case 0:return new o;case 1:return new o(g[0]);case 2:return new o(g[0],g[1]);case 3:return new o(g[0],g[1],g[2]);case 4:return new o(g[0],g[1],g[2],g[3]);case 5:return new o(g[0],g[1],g[2],g[3],g[4]);case 6:return new o(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new o(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var w=Ci(o.prototype),O=o.apply(w,g);return mt(O)?O:w}}function K2(o,g,w){var O=Ds(o);function A(){for(var L=arguments.length,U=oe(L),G=L,J=Ei(A);G--;)U[G]=arguments[G];var me=L<3&&U[0]!==J&&U[L-1]!==J?[]:Tr(U,J);if(L-=me.length,L<w)return Od(o,g,Vo,A.placeholder,n,U,me,n,n,w-L);var ye=this&&this!==Lt&&this instanceof A?O:o;return cn(ye,this,U)}return A}function _d(o){return function(g,w,O){var A=ut(g);if(!Zt(g)){var L=Re(w,3);g=Ft(g),w=function(G){return L(A[G],G,A)}}var U=o(g,w,O);return U>-1?A[L?g[U]:U]:n}}function Sd(o){return cr(function(g){var w=g.length,O=w,A=Tn.prototype.thru;for(o&&g.reverse();O--;){var L=g[O];if(typeof L!="function")throw new Cn(x);if(A&&!U&&$o(L)=="wrapper")var U=new Tn([],!0)}for(O=U?O:w;++O<w;){L=g[O];var G=$o(L),J=G=="wrapper"?nc(L):n;J&&oc(J[0])&&J[1]==(P|_|T|F)&&!J[4].length&&J[9]==1?U=U[$o(J[0])].apply(U,J[3]):U=L.length==1&&oc(L)?U[G]():U.thru(L)}return function(){var me=arguments,ye=me[0];if(U&&me.length==1&&Ue(ye))return U.plant(ye).value();for(var xe=0,Ce=w?g[xe].apply(this,me):ye;++xe<w;)Ce=g[xe].call(this,Ce);return Ce}})}function Vo(o,g,w,O,A,L,U,G,J,me){var ye=g&P,xe=g&f,Ce=g&y,ke=g&(_|S),Be=g&R,Ye=Ce?n:Ds(o);function Ne(){for(var Ke=arguments.length,Qe=oe(Ke),dn=Ke;dn--;)Qe[dn]=arguments[dn];if(ke)var $t=Ei(Ne),pn=lb(Qe,$t);if(O&&(Qe=md(Qe,O,A,ke)),L&&(Qe=yd(Qe,L,U,ke)),Ke-=pn,ke&&Ke<me){var Tt=Tr(Qe,$t);return Od(o,g,Vo,Ne.placeholder,w,Qe,Tt,G,J,me-Ke)}var Wn=xe?w:this,dr=Ce?Wn[o]:o;return Ke=Qe.length,G?Qe=v1(Qe,G):Be&&Ke>1&&Qe.reverse(),ye&&J<Ke&&(Qe.length=J),this&&this!==Lt&&this instanceof Ne&&(dr=Ye||Ds(dr)),dr.apply(Wn,Qe)}return Ne}function Cd(o,g){return function(w,O){return C2(w,o,g(O),{})}}function Go(o,g){return function(w,O){var A;if(w===n&&O===n)return g;if(w!==n&&(A=w),O!==n){if(A===n)return O;typeof w=="string"||typeof O=="string"?(w=fn(w),O=fn(O)):(w=cd(w),O=cd(O)),A=o(w,O)}return A}}function Zl(o){return cr(function(g){return g=vt(g,un(Re())),qe(function(w){var O=this;return o(g,function(A){return cn(A,O,w)})})})}function Yo(o,g){g=g===n?" ":fn(g);var w=g.length;if(w<2)return w?Gl(g,o):g;var O=Gl(g,Mo(o/bi(g)));return yi(g)?kr(Bn(O),0,o).join(""):O.slice(0,o)}function J2(o,g,w,O){var A=g&f,L=Ds(o);function U(){for(var G=-1,J=arguments.length,me=-1,ye=O.length,xe=oe(ye+J),Ce=this&&this!==Lt&&this instanceof U?L:o;++me<ye;)xe[me]=O[me];for(;J--;)xe[me++]=arguments[++G];return cn(Ce,A?w:this,xe)}return U}function Td(o){return function(g,w,O){return O&&typeof O!="number"&&Xt(g,w,O)&&(w=O=n),g=hr(g),w===n?(w=g,g=0):w=hr(w),O=O===n?g<w?1:-1:hr(O),j2(g,w,O,o)}}function Xo(o){return function(g,w){return typeof g=="string"&&typeof w=="string"||(g=An(g),w=An(w)),o(g,w)}}function Od(o,g,w,O,A,L,U,G,J,me){var ye=g&_,xe=ye?U:n,Ce=ye?n:U,ke=ye?L:n,Be=ye?n:L;g|=ye?T:E,g&=~(ye?E:T),g&b||(g&=~(f|y));var Ye=[o,g,A,ke,xe,Be,Ce,G,J,me],Ne=w.apply(n,Ye);return oc(o)&&Bd(Ne,Ye),Ne.placeholder=O,Nd(Ne,o,g)}function Ql(o){var g=At[o];return function(w,O){if(w=An(w),O=O==null?0:Wt(Ge(O),292),O&&Nh(w)){var A=(at(w)+"e").split("e"),L=g(A[0]+"e"+(+A[1]+O));return A=(at(L)+"e").split("e"),+(A[0]+"e"+(+A[1]-O))}return g(w)}}var Z2=_i&&1/_o(new _i([,-0]))[1]==X?function(o){return new _i(o)}:wc;function Ed(o){return function(g){var w=Ht(g);return w==V?Al(g):w==Se?gb(g):ab(g,o(g))}}function lr(o,g,w,O,A,L,U,G){var J=g&y;if(!J&&typeof o!="function")throw new Cn(x);var me=O?O.length:0;if(me||(g&=~(T|E),O=A=n),U=U===n?U:kt(Ge(U),0),G=G===n?G:Ge(G),me-=A?A.length:0,g&E){var ye=O,xe=A;O=A=n}var Ce=J?n:nc(o),ke=[o,g,w,O,A,ye,xe,L,U,G];if(Ce&&d1(ke,Ce),o=ke[0],g=ke[1],w=ke[2],O=ke[3],A=ke[4],G=ke[9]=ke[9]===n?J?0:o.length:kt(ke[9]-me,0),!G&&g&(_|S)&&(g&=~(_|S)),!g||g==f)var Be=q2(o,g,w);else g==_||g==S?Be=K2(o,g,G):(g==T||g==(f|T))&&!A.length?Be=J2(o,g,w,O):Be=Vo.apply(n,ke);var Ye=Ce?ad:Bd;return Nd(Ye(Be,ke),o,g)}function Pd(o,g,w,O){return o===n||zn(o,wi[w])&&!lt.call(O,w)?g:o}function Ad(o,g,w,O,A,L){return mt(o)&&mt(g)&&(L.set(g,o),zo(o,g,n,Ad,L),L.delete(g)),o}function Q2(o){return Fs(o)?n:o}function kd(o,g,w,O,A,L){var U=w&u,G=o.length,J=g.length;if(G!=J&&!(U&&J>G))return!1;var me=L.get(o),ye=L.get(g);if(me&&ye)return me==g&&ye==o;var xe=-1,Ce=!0,ke=w&v?new Yr:n;for(L.set(o,g),L.set(g,o);++xe<G;){var Be=o[xe],Ye=g[xe];if(O)var Ne=U?O(Ye,Be,xe,g,o,L):O(Be,Ye,xe,o,g,L);if(Ne!==n){if(Ne)continue;Ce=!1;break}if(ke){if(!Sl(g,function(Ke,Qe){if(!xs(ke,Qe)&&(Be===Ke||A(Be,Ke,w,O,L)))return ke.push(Qe)})){Ce=!1;break}}else if(!(Be===Ye||A(Be,Ye,w,O,L))){Ce=!1;break}}return L.delete(o),L.delete(g),Ce}function e1(o,g,w,O,A,L,U){switch(w){case we:if(o.byteLength!=g.byteLength||o.byteOffset!=g.byteOffset)return!1;o=o.buffer,g=g.buffer;case Ve:return!(o.byteLength!=g.byteLength||!L(new Po(o),new Po(g)));case re:case ee:case fe:return zn(+o,+g);case pe:return o.name==g.name&&o.message==g.message;case Pe:case ue:return o==g+"";case V:var G=Al;case Se:var J=O&u;if(G||(G=_o),o.size!=g.size&&!J)return!1;var me=U.get(o);if(me)return me==g;O|=v,U.set(o,g);var ye=kd(G(o),G(g),O,A,L,U);return U.delete(o),ye;case Ee:if(Ts)return Ts.call(o)==Ts.call(g)}return!1}function t1(o,g,w,O,A,L){var U=w&u,G=ec(o),J=G.length,me=ec(g),ye=me.length;if(J!=ye&&!U)return!1;for(var xe=J;xe--;){var Ce=G[xe];if(!(U?Ce in g:lt.call(g,Ce)))return!1}var ke=L.get(o),Be=L.get(g);if(ke&&Be)return ke==g&&Be==o;var Ye=!0;L.set(o,g),L.set(g,o);for(var Ne=U;++xe<J;){Ce=G[xe];var Ke=o[Ce],Qe=g[Ce];if(O)var dn=U?O(Qe,Ke,Ce,g,o,L):O(Ke,Qe,Ce,o,g,L);if(!(dn===n?Ke===Qe||A(Ke,Qe,w,O,L):dn)){Ye=!1;break}Ne||(Ne=Ce=="constructor")}if(Ye&&!Ne){var $t=o.constructor,pn=g.constructor;$t!=pn&&"constructor"in o&&"constructor"in g&&!(typeof $t=="function"&&$t instanceof $t&&typeof pn=="function"&&pn instanceof pn)&&(Ye=!1)}return L.delete(o),L.delete(g),Ye}function cr(o){return lc(jd(o,n,Gd),o+"")}function ec(o){return Kh(o,Ft,ic)}function tc(o){return Kh(o,Qt,Dd)}var nc=Fo?function(o){return Fo.get(o)}:wc;function $o(o){for(var g=o.name+"",w=Si[g],O=lt.call(Si,g)?w.length:0;O--;){var A=w[O],L=A.func;if(L==null||L==o)return A.name}return g}function Ei(o){var g=lt.call(I,"placeholder")?I:o;return g.placeholder}function Re(){var o=I.iteratee||bc;return o=o===bc?Qh:o,arguments.length?o(arguments[0],arguments[1]):o}function qo(o,g){var w=o.__data__;return c1(g)?w[typeof g=="string"?"string":"hash"]:w.map}function rc(o){for(var g=Ft(o),w=g.length;w--;){var O=g[w],A=o[O];g[w]=[O,A,Fd(A)]}return g}function qr(o,g){var w=hb(o,g);return Zh(w)?w:n}function n1(o){var g=lt.call(o,Vr),w=o[Vr];try{o[Vr]=n;var O=!0}catch{}var A=Oo.call(o);return O&&(g?o[Vr]=w:delete o[Vr]),A}var ic=Dl?function(o){return o==null?[]:(o=ut(o),Sr(Dl(o),function(g){return Rh.call(o,g)}))}:_c,Dd=Dl?function(o){for(var g=[];o;)Cr(g,ic(o)),o=Ao(o);return g}:_c,Ht=Yt;(Ml&&Ht(new Ml(new ArrayBuffer(1)))!=we||_s&&Ht(new _s)!=V||Il&&Ht(Il.resolve())!=ae||_i&&Ht(new _i)!=Se||Ss&&Ht(new Ss)!=We)&&(Ht=function(o){var g=Yt(o),w=g==te?o.constructor:n,O=w?Kr(w):"";if(O)switch(O){case Bb:return we;case Nb:return V;case zb:return ae;case Wb:return Se;case Hb:return We}return g});function r1(o,g,w){for(var O=-1,A=w.length;++O<A;){var L=w[O],U=L.size;switch(L.type){case"drop":o+=U;break;case"dropRight":g-=U;break;case"take":g=Wt(g,o+U);break;case"takeRight":o=kt(o,g-U);break}}return{start:o,end:g}}function i1(o){var g=o.match(uy);return g?g[1].split(fy):[]}function Md(o,g,w){g=Ar(g,o);for(var O=-1,A=g.length,L=!1;++O<A;){var U=$n(g[O]);if(!(L=o!=null&&w(o,U)))break;o=o[U]}return L||++O!=A?L:(A=o==null?0:o.length,!!A&&na(A)&&ur(U,A)&&(Ue(o)||Jr(o)))}function s1(o){var g=o.length,w=new o.constructor(g);return g&&typeof o[0]=="string"&&lt.call(o,"index")&&(w.index=o.index,w.input=o.input),w}function Id(o){return typeof o.constructor=="function"&&!Ms(o)?Ci(Ao(o)):{}}function o1(o,g,w){var O=o.constructor;switch(g){case Ve:return Jl(o);case re:case ee:return new O(+o);case we:return U2(o,w);case Ie:case tt:case dt:case gt:case ln:case Vn:case Te:case ze:case Xe:return gd(o,w);case V:return new O;case fe:case ue:return new O(o);case Pe:return V2(o);case Se:return new O;case Ee:return G2(o)}}function a1(o,g){var w=g.length;if(!w)return o;var O=w-1;return g[O]=(w>1?"& ":"")+g[O],g=g.join(w>2?", ":" "),o.replace(cy,`{
/* [wrapped with `+g+`] */
`)}function l1(o){return Ue(o)||Jr(o)||!!(Bh&&o&&o[Bh])}function ur(o,g){var w=typeof o;return g=g??ie,!!g&&(w=="number"||w!="symbol"&&xy.test(o))&&o>-1&&o%1==0&&o<g}function Xt(o,g,w){if(!mt(w))return!1;var O=typeof g;return(O=="number"?Zt(w)&&ur(g,w.length):O=="string"&&g in w)?zn(w[g],o):!1}function sc(o,g){if(Ue(o))return!1;var w=typeof o;return w=="number"||w=="symbol"||w=="boolean"||o==null||hn(o)?!0:sy.test(o)||!iy.test(o)||g!=null&&o in ut(g)}function c1(o){var g=typeof o;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?o!=="__proto__":o===null}function oc(o){var g=$o(o),w=I[g];if(typeof w!="function"||!(g in Ze.prototype))return!1;if(o===w)return!0;var O=nc(w);return!!O&&o===O[0]}function u1(o){return!!Fh&&Fh in o}var f1=Co?fr:Sc;function Ms(o){var g=o&&o.constructor,w=typeof g=="function"&&g.prototype||wi;return o===w}function Fd(o){return o===o&&!mt(o)}function Ld(o,g){return function(w){return w==null?!1:w[o]===g&&(g!==n||o in ut(w))}}function h1(o){var g=ea(o,function(O){return w.size===d&&w.clear(),O}),w=g.cache;return g}function d1(o,g){var w=o[1],O=g[1],A=w|O,L=A<(f|y|P),U=O==P&&w==_||O==P&&w==F&&o[7].length<=g[8]||O==(P|F)&&g[7].length<=g[8]&&w==_;if(!(L||U))return o;O&f&&(o[2]=g[2],A|=w&f?0:b);var G=g[3];if(G){var J=o[3];o[3]=J?md(J,G,g[4]):G,o[4]=J?Tr(o[3],h):g[4]}return G=g[5],G&&(J=o[5],o[5]=J?yd(J,G,g[6]):G,o[6]=J?Tr(o[5],h):g[6]),G=g[7],G&&(o[7]=G),O&P&&(o[8]=o[8]==null?g[8]:Wt(o[8],g[8])),o[9]==null&&(o[9]=g[9]),o[0]=g[0],o[1]=A,o}function p1(o){var g=[];if(o!=null)for(var w in ut(o))g.push(w);return g}function g1(o){return Oo.call(o)}function jd(o,g,w){return g=kt(g===n?o.length-1:g,0),function(){for(var O=arguments,A=-1,L=kt(O.length-g,0),U=oe(L);++A<L;)U[A]=O[g+A];A=-1;for(var G=oe(g+1);++A<g;)G[A]=O[A];return G[g]=w(U),cn(o,this,G)}}function Rd(o,g){return g.length<2?o:$r(o,En(g,0,-1))}function v1(o,g){for(var w=o.length,O=Wt(g.length,w),A=Jt(o);O--;){var L=g[O];o[O]=ur(L,w)?A[L]:n}return o}function ac(o,g){if(!(g==="constructor"&&typeof o[g]=="function")&&g!="__proto__")return o[g]}var Bd=zd(ad),Is=Db||function(o,g){return Lt.setTimeout(o,g)},lc=zd(N2);function Nd(o,g,w){var O=g+"";return lc(o,a1(O,m1(i1(O),w)))}function zd(o){var g=0,w=0;return function(){var O=Lb(),A=Q-(O-w);if(w=O,A>0){if(++g>=Z)return arguments[0]}else g=0;return o.apply(n,arguments)}}function Ko(o,g){var w=-1,O=o.length,A=O-1;for(g=g===n?O:g;++w<g;){var L=Vl(w,A),U=o[L];o[L]=o[w],o[w]=U}return o.length=g,o}var Wd=h1(function(o){var g=[];return o.charCodeAt(0)===46&&g.push(""),o.replace(oy,function(w,O,A,L){g.push(A?L.replace(py,"$1"):O||w)}),g});function $n(o){if(typeof o=="string"||hn(o))return o;var g=o+"";return g=="0"&&1/o==-X?"-0":g}function Kr(o){if(o!=null){try{return To.call(o)}catch{}try{return o+""}catch{}}return""}function m1(o,g){return Sn(B,function(w){var O="_."+w[0];g&w[1]&&!xo(o,O)&&o.push(O)}),o.sort()}function Hd(o){if(o instanceof Ze)return o.clone();var g=new Tn(o.__wrapped__,o.__chain__);return g.__actions__=Jt(o.__actions__),g.__index__=o.__index__,g.__values__=o.__values__,g}function y1(o,g,w){(w?Xt(o,g,w):g===n)?g=1:g=kt(Ge(g),0);var O=o==null?0:o.length;if(!O||g<1)return[];for(var A=0,L=0,U=oe(Mo(O/g));A<O;)U[L++]=En(o,A,A+=g);return U}function b1(o){for(var g=-1,w=o==null?0:o.length,O=0,A=[];++g<w;){var L=o[g];L&&(A[O++]=L)}return A}function x1(){var o=arguments.length;if(!o)return[];for(var g=oe(o-1),w=arguments[0],O=o;O--;)g[O-1]=arguments[O];return Cr(Ue(w)?Jt(w):[w],jt(g,1))}var w1=qe(function(o,g){return Ct(o)?Es(o,jt(g,1,Ct,!0)):[]}),_1=qe(function(o,g){var w=Pn(g);return Ct(w)&&(w=n),Ct(o)?Es(o,jt(g,1,Ct,!0),Re(w,2)):[]}),S1=qe(function(o,g){var w=Pn(g);return Ct(w)&&(w=n),Ct(o)?Es(o,jt(g,1,Ct,!0),n,w):[]});function C1(o,g,w){var O=o==null?0:o.length;return O?(g=w||g===n?1:Ge(g),En(o,g<0?0:g,O)):[]}function T1(o,g,w){var O=o==null?0:o.length;return O?(g=w||g===n?1:Ge(g),g=O-g,En(o,0,g<0?0:g)):[]}function O1(o,g){return o&&o.length?Ho(o,Re(g,3),!0,!0):[]}function E1(o,g){return o&&o.length?Ho(o,Re(g,3),!0):[]}function P1(o,g,w,O){var A=o==null?0:o.length;return A?(w&&typeof w!="number"&&Xt(o,g,w)&&(w=0,O=A),x2(o,g,w,O)):[]}function Ud(o,g,w){var O=o==null?0:o.length;if(!O)return-1;var A=w==null?0:Ge(w);return A<0&&(A=kt(O+A,0)),wo(o,Re(g,3),A)}function Vd(o,g,w){var O=o==null?0:o.length;if(!O)return-1;var A=O-1;return w!==n&&(A=Ge(w),A=w<0?kt(O+A,0):Wt(A,O-1)),wo(o,Re(g,3),A,!0)}function Gd(o){var g=o==null?0:o.length;return g?jt(o,1):[]}function A1(o){var g=o==null?0:o.length;return g?jt(o,X):[]}function k1(o,g){var w=o==null?0:o.length;return w?(g=g===n?1:Ge(g),jt(o,g)):[]}function D1(o){for(var g=-1,w=o==null?0:o.length,O={};++g<w;){var A=o[g];O[A[0]]=A[1]}return O}function Yd(o){return o&&o.length?o[0]:n}function M1(o,g,w){var O=o==null?0:o.length;if(!O)return-1;var A=w==null?0:Ge(w);return A<0&&(A=kt(O+A,0)),mi(o,g,A)}function I1(o){var g=o==null?0:o.length;return g?En(o,0,-1):[]}var F1=qe(function(o){var g=vt(o,ql);return g.length&&g[0]===o[0]?Nl(g):[]}),L1=qe(function(o){var g=Pn(o),w=vt(o,ql);return g===Pn(w)?g=n:w.pop(),w.length&&w[0]===o[0]?Nl(w,Re(g,2)):[]}),j1=qe(function(o){var g=Pn(o),w=vt(o,ql);return g=typeof g=="function"?g:n,g&&w.pop(),w.length&&w[0]===o[0]?Nl(w,n,g):[]});function R1(o,g){return o==null?"":Ib.call(o,g)}function Pn(o){var g=o==null?0:o.length;return g?o[g-1]:n}function B1(o,g,w){var O=o==null?0:o.length;if(!O)return-1;var A=O;return w!==n&&(A=Ge(w),A=A<0?kt(O+A,0):Wt(A,O-1)),g===g?mb(o,g,A):wo(o,Oh,A,!0)}function N1(o,g){return o&&o.length?rd(o,Ge(g)):n}var z1=qe(Xd);function Xd(o,g){return o&&o.length&&g&&g.length?Ul(o,g):o}function W1(o,g,w){return o&&o.length&&g&&g.length?Ul(o,g,Re(w,2)):o}function H1(o,g,w){return o&&o.length&&g&&g.length?Ul(o,g,n,w):o}var U1=cr(function(o,g){var w=o==null?0:o.length,O=Ll(o,g);return od(o,vt(g,function(A){return ur(A,w)?+A:A}).sort(vd)),O});function V1(o,g){var w=[];if(!(o&&o.length))return w;var O=-1,A=[],L=o.length;for(g=Re(g,3);++O<L;){var U=o[O];g(U,O,o)&&(w.push(U),A.push(O))}return od(o,A),w}function cc(o){return o==null?o:Rb.call(o)}function G1(o,g,w){var O=o==null?0:o.length;return O?(w&&typeof w!="number"&&Xt(o,g,w)?(g=0,w=O):(g=g==null?0:Ge(g),w=w===n?O:Ge(w)),En(o,g,w)):[]}function Y1(o,g){return Wo(o,g)}function X1(o,g,w){return Yl(o,g,Re(w,2))}function $1(o,g){var w=o==null?0:o.length;if(w){var O=Wo(o,g);if(O<w&&zn(o[O],g))return O}return-1}function q1(o,g){return Wo(o,g,!0)}function K1(o,g,w){return Yl(o,g,Re(w,2),!0)}function J1(o,g){var w=o==null?0:o.length;if(w){var O=Wo(o,g,!0)-1;if(zn(o[O],g))return O}return-1}function Z1(o){return o&&o.length?ld(o):[]}function Q1(o,g){return o&&o.length?ld(o,Re(g,2)):[]}function ex(o){var g=o==null?0:o.length;return g?En(o,1,g):[]}function tx(o,g,w){return o&&o.length?(g=w||g===n?1:Ge(g),En(o,0,g<0?0:g)):[]}function nx(o,g,w){var O=o==null?0:o.length;return O?(g=w||g===n?1:Ge(g),g=O-g,En(o,g<0?0:g,O)):[]}function rx(o,g){return o&&o.length?Ho(o,Re(g,3),!1,!0):[]}function ix(o,g){return o&&o.length?Ho(o,Re(g,3)):[]}var sx=qe(function(o){return Pr(jt(o,1,Ct,!0))}),ox=qe(function(o){var g=Pn(o);return Ct(g)&&(g=n),Pr(jt(o,1,Ct,!0),Re(g,2))}),ax=qe(function(o){var g=Pn(o);return g=typeof g=="function"?g:n,Pr(jt(o,1,Ct,!0),n,g)});function lx(o){return o&&o.length?Pr(o):[]}function cx(o,g){return o&&o.length?Pr(o,Re(g,2)):[]}function ux(o,g){return g=typeof g=="function"?g:n,o&&o.length?Pr(o,n,g):[]}function uc(o){if(!(o&&o.length))return[];var g=0;return o=Sr(o,function(w){if(Ct(w))return g=kt(w.length,g),!0}),El(g,function(w){return vt(o,Cl(w))})}function $d(o,g){if(!(o&&o.length))return[];var w=uc(o);return g==null?w:vt(w,function(O){return cn(g,n,O)})}var fx=qe(function(o,g){return Ct(o)?Es(o,g):[]}),hx=qe(function(o){return $l(Sr(o,Ct))}),dx=qe(function(o){var g=Pn(o);return Ct(g)&&(g=n),$l(Sr(o,Ct),Re(g,2))}),px=qe(function(o){var g=Pn(o);return g=typeof g=="function"?g:n,$l(Sr(o,Ct),n,g)}),gx=qe(uc);function vx(o,g){return hd(o||[],g||[],Os)}function mx(o,g){return hd(o||[],g||[],ks)}var yx=qe(function(o){var g=o.length,w=g>1?o[g-1]:n;return w=typeof w=="function"?(o.pop(),w):n,$d(o,w)});function qd(o){var g=I(o);return g.__chain__=!0,g}function bx(o,g){return g(o),o}function Jo(o,g){return g(o)}var xx=cr(function(o){var g=o.length,w=g?o[0]:0,O=this.__wrapped__,A=function(L){return Ll(L,o)};return g>1||this.__actions__.length||!(O instanceof Ze)||!ur(w)?this.thru(A):(O=O.slice(w,+w+(g?1:0)),O.__actions__.push({func:Jo,args:[A],thisArg:n}),new Tn(O,this.__chain__).thru(function(L){return g&&!L.length&&L.push(n),L}))});function wx(){return qd(this)}function _x(){return new Tn(this.value(),this.__chain__)}function Sx(){this.__values__===n&&(this.__values__=cp(this.value()));var o=this.__index__>=this.__values__.length,g=o?n:this.__values__[this.__index__++];return{done:o,value:g}}function Cx(){return this}function Tx(o){for(var g,w=this;w instanceof jo;){var O=Hd(w);O.__index__=0,O.__values__=n,g?A.__wrapped__=O:g=O;var A=O;w=w.__wrapped__}return A.__wrapped__=o,g}function Ox(){var o=this.__wrapped__;if(o instanceof Ze){var g=o;return this.__actions__.length&&(g=new Ze(this)),g=g.reverse(),g.__actions__.push({func:Jo,args:[cc],thisArg:n}),new Tn(g,this.__chain__)}return this.thru(cc)}function Ex(){return fd(this.__wrapped__,this.__actions__)}var Px=Uo(function(o,g,w){lt.call(o,w)?++o[w]:ar(o,w,1)});function Ax(o,g,w){var O=Ue(o)?Ch:b2;return w&&Xt(o,g,w)&&(g=n),O(o,Re(g,3))}function kx(o,g){var w=Ue(o)?Sr:$h;return w(o,Re(g,3))}var Dx=_d(Ud),Mx=_d(Vd);function Ix(o,g){return jt(Zo(o,g),1)}function Fx(o,g){return jt(Zo(o,g),X)}function Lx(o,g,w){return w=w===n?1:Ge(w),jt(Zo(o,g),w)}function Kd(o,g){var w=Ue(o)?Sn:Er;return w(o,Re(g,3))}function Jd(o,g){var w=Ue(o)?eb:Xh;return w(o,Re(g,3))}var jx=Uo(function(o,g,w){lt.call(o,w)?o[w].push(g):ar(o,w,[g])});function Rx(o,g,w,O){o=Zt(o)?o:Ai(o),w=w&&!O?Ge(w):0;var A=o.length;return w<0&&(w=kt(A+w,0)),ra(o)?w<=A&&o.indexOf(g,w)>-1:!!A&&mi(o,g,w)>-1}var Bx=qe(function(o,g,w){var O=-1,A=typeof g=="function",L=Zt(o)?oe(o.length):[];return Er(o,function(U){L[++O]=A?cn(g,U,w):Ps(U,g,w)}),L}),Nx=Uo(function(o,g,w){ar(o,w,g)});function Zo(o,g){var w=Ue(o)?vt:ed;return w(o,Re(g,3))}function zx(o,g,w,O){return o==null?[]:(Ue(g)||(g=g==null?[]:[g]),w=O?n:w,Ue(w)||(w=w==null?[]:[w]),id(o,g,w))}var Wx=Uo(function(o,g,w){o[w?0:1].push(g)},function(){return[[],[]]});function Hx(o,g,w){var O=Ue(o)?_l:Ph,A=arguments.length<3;return O(o,Re(g,4),w,A,Er)}function Ux(o,g,w){var O=Ue(o)?tb:Ph,A=arguments.length<3;return O(o,Re(g,4),w,A,Xh)}function Vx(o,g){var w=Ue(o)?Sr:$h;return w(o,ta(Re(g,3)))}function Gx(o){var g=Ue(o)?Uh:R2;return g(o)}function Yx(o,g,w){(w?Xt(o,g,w):g===n)?g=1:g=Ge(g);var O=Ue(o)?p2:B2;return O(o,g)}function Xx(o){var g=Ue(o)?g2:z2;return g(o)}function $x(o){if(o==null)return 0;if(Zt(o))return ra(o)?bi(o):o.length;var g=Ht(o);return g==V||g==Se?o.size:Wl(o).length}function qx(o,g,w){var O=Ue(o)?Sl:W2;return w&&Xt(o,g,w)&&(g=n),O(o,Re(g,3))}var Kx=qe(function(o,g){if(o==null)return[];var w=g.length;return w>1&&Xt(o,g[0],g[1])?g=[]:w>2&&Xt(g[0],g[1],g[2])&&(g=[g[0]]),id(o,jt(g,1),[])}),Qo=kb||function(){return Lt.Date.now()};function Jx(o,g){if(typeof g!="function")throw new Cn(x);return o=Ge(o),function(){if(--o<1)return g.apply(this,arguments)}}function Zd(o,g,w){return g=w?n:g,g=o&&g==null?o.length:g,lr(o,P,n,n,n,n,g)}function Qd(o,g){var w;if(typeof g!="function")throw new Cn(x);return o=Ge(o),function(){return--o>0&&(w=g.apply(this,arguments)),o<=1&&(g=n),w}}var fc=qe(function(o,g,w){var O=f;if(w.length){var A=Tr(w,Ei(fc));O|=T}return lr(o,O,g,w,A)}),ep=qe(function(o,g,w){var O=f|y;if(w.length){var A=Tr(w,Ei(ep));O|=T}return lr(g,O,o,w,A)});function tp(o,g,w){g=w?n:g;var O=lr(o,_,n,n,n,n,n,g);return O.placeholder=tp.placeholder,O}function np(o,g,w){g=w?n:g;var O=lr(o,S,n,n,n,n,n,g);return O.placeholder=np.placeholder,O}function rp(o,g,w){var O,A,L,U,G,J,me=0,ye=!1,xe=!1,Ce=!0;if(typeof o!="function")throw new Cn(x);g=An(g)||0,mt(w)&&(ye=!!w.leading,xe="maxWait"in w,L=xe?kt(An(w.maxWait)||0,g):L,Ce="trailing"in w?!!w.trailing:Ce);function ke(Tt){var Wn=O,dr=A;return O=A=n,me=Tt,U=o.apply(dr,Wn),U}function Be(Tt){return me=Tt,G=Is(Ke,g),ye?ke(Tt):U}function Ye(Tt){var Wn=Tt-J,dr=Tt-me,_p=g-Wn;return xe?Wt(_p,L-dr):_p}function Ne(Tt){var Wn=Tt-J,dr=Tt-me;return J===n||Wn>=g||Wn<0||xe&&dr>=L}function Ke(){var Tt=Qo();if(Ne(Tt))return Qe(Tt);G=Is(Ke,Ye(Tt))}function Qe(Tt){return G=n,Ce&&O?ke(Tt):(O=A=n,U)}function dn(){G!==n&&dd(G),me=0,O=J=A=G=n}function $t(){return G===n?U:Qe(Qo())}function pn(){var Tt=Qo(),Wn=Ne(Tt);if(O=arguments,A=this,J=Tt,Wn){if(G===n)return Be(J);if(xe)return dd(G),G=Is(Ke,g),ke(J)}return G===n&&(G=Is(Ke,g)),U}return pn.cancel=dn,pn.flush=$t,pn}var Zx=qe(function(o,g){return Yh(o,1,g)}),Qx=qe(function(o,g,w){return Yh(o,An(g)||0,w)});function ew(o){return lr(o,R)}function ea(o,g){if(typeof o!="function"||g!=null&&typeof g!="function")throw new Cn(x);var w=function(){var O=arguments,A=g?g.apply(this,O):O[0],L=w.cache;if(L.has(A))return L.get(A);var U=o.apply(this,O);return w.cache=L.set(A,U)||L,U};return w.cache=new(ea.Cache||or),w}ea.Cache=or;function ta(o){if(typeof o!="function")throw new Cn(x);return function(){var g=arguments;switch(g.length){case 0:return!o.call(this);case 1:return!o.call(this,g[0]);case 2:return!o.call(this,g[0],g[1]);case 3:return!o.call(this,g[0],g[1],g[2])}return!o.apply(this,g)}}function tw(o){return Qd(2,o)}var nw=H2(function(o,g){g=g.length==1&&Ue(g[0])?vt(g[0],un(Re())):vt(jt(g,1),un(Re()));var w=g.length;return qe(function(O){for(var A=-1,L=Wt(O.length,w);++A<L;)O[A]=g[A].call(this,O[A]);return cn(o,this,O)})}),hc=qe(function(o,g){var w=Tr(g,Ei(hc));return lr(o,T,n,g,w)}),ip=qe(function(o,g){var w=Tr(g,Ei(ip));return lr(o,E,n,g,w)}),rw=cr(function(o,g){return lr(o,F,n,n,n,g)});function iw(o,g){if(typeof o!="function")throw new Cn(x);return g=g===n?g:Ge(g),qe(o,g)}function sw(o,g){if(typeof o!="function")throw new Cn(x);return g=g==null?0:kt(Ge(g),0),qe(function(w){var O=w[g],A=kr(w,0,g);return O&&Cr(A,O),cn(o,this,A)})}function ow(o,g,w){var O=!0,A=!0;if(typeof o!="function")throw new Cn(x);return mt(w)&&(O="leading"in w?!!w.leading:O,A="trailing"in w?!!w.trailing:A),rp(o,g,{leading:O,maxWait:g,trailing:A})}function aw(o){return Zd(o,1)}function lw(o,g){return hc(Kl(g),o)}function cw(){if(!arguments.length)return[];var o=arguments[0];return Ue(o)?o:[o]}function uw(o){return On(o,a)}function fw(o,g){return g=typeof g=="function"?g:n,On(o,a,g)}function hw(o){return On(o,s|a)}function dw(o,g){return g=typeof g=="function"?g:n,On(o,s|a,g)}function pw(o,g){return g==null||Gh(o,g,Ft(g))}function zn(o,g){return o===g||o!==o&&g!==g}var gw=Xo(Bl),vw=Xo(function(o,g){return o>=g}),Jr=Jh(function(){return arguments}())?Jh:function(o){return xt(o)&&lt.call(o,"callee")&&!Rh.call(o,"callee")},Ue=oe.isArray,mw=yh?un(yh):T2;function Zt(o){return o!=null&&na(o.length)&&!fr(o)}function Ct(o){return xt(o)&&Zt(o)}function yw(o){return o===!0||o===!1||xt(o)&&Yt(o)==re}var Dr=Mb||Sc,bw=bh?un(bh):O2;function xw(o){return xt(o)&&o.nodeType===1&&!Fs(o)}function ww(o){if(o==null)return!0;if(Zt(o)&&(Ue(o)||typeof o=="string"||typeof o.splice=="function"||Dr(o)||Pi(o)||Jr(o)))return!o.length;var g=Ht(o);if(g==V||g==Se)return!o.size;if(Ms(o))return!Wl(o).length;for(var w in o)if(lt.call(o,w))return!1;return!0}function _w(o,g){return As(o,g)}function Sw(o,g,w){w=typeof w=="function"?w:n;var O=w?w(o,g):n;return O===n?As(o,g,n,w):!!O}function dc(o){if(!xt(o))return!1;var g=Yt(o);return g==pe||g==he||typeof o.message=="string"&&typeof o.name=="string"&&!Fs(o)}function Cw(o){return typeof o=="number"&&Nh(o)}function fr(o){if(!mt(o))return!1;var g=Yt(o);return g==ve||g==ne||g==q||g==_e}function sp(o){return typeof o=="number"&&o==Ge(o)}function na(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=ie}function mt(o){var g=typeof o;return o!=null&&(g=="object"||g=="function")}function xt(o){return o!=null&&typeof o=="object"}var op=xh?un(xh):P2;function Tw(o,g){return o===g||zl(o,g,rc(g))}function Ow(o,g,w){return w=typeof w=="function"?w:n,zl(o,g,rc(g),w)}function Ew(o){return ap(o)&&o!=+o}function Pw(o){if(f1(o))throw new He(m);return Zh(o)}function Aw(o){return o===null}function kw(o){return o==null}function ap(o){return typeof o=="number"||xt(o)&&Yt(o)==fe}function Fs(o){if(!xt(o)||Yt(o)!=te)return!1;var g=Ao(o);if(g===null)return!0;var w=lt.call(g,"constructor")&&g.constructor;return typeof w=="function"&&w instanceof w&&To.call(w)==Ob}var pc=wh?un(wh):A2;function Dw(o){return sp(o)&&o>=-ie&&o<=ie}var lp=_h?un(_h):k2;function ra(o){return typeof o=="string"||!Ue(o)&&xt(o)&&Yt(o)==ue}function hn(o){return typeof o=="symbol"||xt(o)&&Yt(o)==Ee}var Pi=Sh?un(Sh):D2;function Mw(o){return o===n}function Iw(o){return xt(o)&&Ht(o)==We}function Fw(o){return xt(o)&&Yt(o)==rt}var Lw=Xo(Hl),jw=Xo(function(o,g){return o<=g});function cp(o){if(!o)return[];if(Zt(o))return ra(o)?Bn(o):Jt(o);if(ws&&o[ws])return pb(o[ws]());var g=Ht(o),w=g==V?Al:g==Se?_o:Ai;return w(o)}function hr(o){if(!o)return o===0?o:0;if(o=An(o),o===X||o===-X){var g=o<0?-1:1;return g*k}return o===o?o:0}function Ge(o){var g=hr(o),w=g%1;return g===g?w?g-w:g:0}function up(o){return o?Xr(Ge(o),0,N):0}function An(o){if(typeof o=="number")return o;if(hn(o))return z;if(mt(o)){var g=typeof o.valueOf=="function"?o.valueOf():o;o=mt(g)?g+"":g}if(typeof o!="string")return o===0?o:+o;o=Ah(o);var w=my.test(o);return w||by.test(o)?Jy(o.slice(2),w?2:8):vy.test(o)?z:+o}function fp(o){return Xn(o,Qt(o))}function Rw(o){return o?Xr(Ge(o),-ie,ie):o===0?o:0}function at(o){return o==null?"":fn(o)}var Bw=Ti(function(o,g){if(Ms(g)||Zt(g)){Xn(g,Ft(g),o);return}for(var w in g)lt.call(g,w)&&Os(o,w,g[w])}),hp=Ti(function(o,g){Xn(g,Qt(g),o)}),ia=Ti(function(o,g,w,O){Xn(g,Qt(g),o,O)}),Nw=Ti(function(o,g,w,O){Xn(g,Ft(g),o,O)}),zw=cr(Ll);function Ww(o,g){var w=Ci(o);return g==null?w:Vh(w,g)}var Hw=qe(function(o,g){o=ut(o);var w=-1,O=g.length,A=O>2?g[2]:n;for(A&&Xt(g[0],g[1],A)&&(O=1);++w<O;)for(var L=g[w],U=Qt(L),G=-1,J=U.length;++G<J;){var me=U[G],ye=o[me];(ye===n||zn(ye,wi[me])&&!lt.call(o,me))&&(o[me]=L[me])}return o}),Uw=qe(function(o){return o.push(n,Ad),cn(dp,n,o)});function Vw(o,g){return Th(o,Re(g,3),Yn)}function Gw(o,g){return Th(o,Re(g,3),Rl)}function Yw(o,g){return o==null?o:jl(o,Re(g,3),Qt)}function Xw(o,g){return o==null?o:qh(o,Re(g,3),Qt)}function $w(o,g){return o&&Yn(o,Re(g,3))}function qw(o,g){return o&&Rl(o,Re(g,3))}function Kw(o){return o==null?[]:No(o,Ft(o))}function Jw(o){return o==null?[]:No(o,Qt(o))}function gc(o,g,w){var O=o==null?n:$r(o,g);return O===n?w:O}function Zw(o,g){return o!=null&&Md(o,g,w2)}function vc(o,g){return o!=null&&Md(o,g,_2)}var Qw=Cd(function(o,g,w){g!=null&&typeof g.toString!="function"&&(g=Oo.call(g)),o[g]=w},yc(en)),e3=Cd(function(o,g,w){g!=null&&typeof g.toString!="function"&&(g=Oo.call(g)),lt.call(o,g)?o[g].push(w):o[g]=[w]},Re),t3=qe(Ps);function Ft(o){return Zt(o)?Hh(o):Wl(o)}function Qt(o){return Zt(o)?Hh(o,!0):M2(o)}function n3(o,g){var w={};return g=Re(g,3),Yn(o,function(O,A,L){ar(w,g(O,A,L),O)}),w}function r3(o,g){var w={};return g=Re(g,3),Yn(o,function(O,A,L){ar(w,A,g(O,A,L))}),w}var i3=Ti(function(o,g,w){zo(o,g,w)}),dp=Ti(function(o,g,w,O){zo(o,g,w,O)}),s3=cr(function(o,g){var w={};if(o==null)return w;var O=!1;g=vt(g,function(L){return L=Ar(L,o),O||(O=L.length>1),L}),Xn(o,tc(o),w),O&&(w=On(w,s|l|a,Q2));for(var A=g.length;A--;)Xl(w,g[A]);return w});function o3(o,g){return pp(o,ta(Re(g)))}var a3=cr(function(o,g){return o==null?{}:F2(o,g)});function pp(o,g){if(o==null)return{};var w=vt(tc(o),function(O){return[O]});return g=Re(g),sd(o,w,function(O,A){return g(O,A[0])})}function l3(o,g,w){g=Ar(g,o);var O=-1,A=g.length;for(A||(A=1,o=n);++O<A;){var L=o==null?n:o[$n(g[O])];L===n&&(O=A,L=w),o=fr(L)?L.call(o):L}return o}function c3(o,g,w){return o==null?o:ks(o,g,w)}function u3(o,g,w,O){return O=typeof O=="function"?O:n,o==null?o:ks(o,g,w,O)}var gp=Ed(Ft),vp=Ed(Qt);function f3(o,g,w){var O=Ue(o),A=O||Dr(o)||Pi(o);if(g=Re(g,4),w==null){var L=o&&o.constructor;A?w=O?new L:[]:mt(o)?w=fr(L)?Ci(Ao(o)):{}:w={}}return(A?Sn:Yn)(o,function(U,G,J){return g(w,U,G,J)}),w}function h3(o,g){return o==null?!0:Xl(o,g)}function d3(o,g,w){return o==null?o:ud(o,g,Kl(w))}function p3(o,g,w,O){return O=typeof O=="function"?O:n,o==null?o:ud(o,g,Kl(w),O)}function Ai(o){return o==null?[]:Pl(o,Ft(o))}function g3(o){return o==null?[]:Pl(o,Qt(o))}function v3(o,g,w){return w===n&&(w=g,g=n),w!==n&&(w=An(w),w=w===w?w:0),g!==n&&(g=An(g),g=g===g?g:0),Xr(An(o),g,w)}function m3(o,g,w){return g=hr(g),w===n?(w=g,g=0):w=hr(w),o=An(o),S2(o,g,w)}function y3(o,g,w){if(w&&typeof w!="boolean"&&Xt(o,g,w)&&(g=w=n),w===n&&(typeof g=="boolean"?(w=g,g=n):typeof o=="boolean"&&(w=o,o=n)),o===n&&g===n?(o=0,g=1):(o=hr(o),g===n?(g=o,o=0):g=hr(g)),o>g){var O=o;o=g,g=O}if(w||o%1||g%1){var A=zh();return Wt(o+A*(g-o+Ky("1e-"+((A+"").length-1))),g)}return Vl(o,g)}var b3=Oi(function(o,g,w){return g=g.toLowerCase(),o+(w?mp(g):g)});function mp(o){return mc(at(o).toLowerCase())}function yp(o){return o=at(o),o&&o.replace(wy,cb).replace(zy,"")}function x3(o,g,w){o=at(o),g=fn(g);var O=o.length;w=w===n?O:Xr(Ge(w),0,O);var A=w;return w-=g.length,w>=0&&o.slice(w,A)==g}function w3(o){return o=at(o),o&&ty.test(o)?o.replace(Gn,ub):o}function _3(o){return o=at(o),o&&ay.test(o)?o.replace(hl,"\\$&"):o}var S3=Oi(function(o,g,w){return o+(w?"-":"")+g.toLowerCase()}),C3=Oi(function(o,g,w){return o+(w?" ":"")+g.toLowerCase()}),T3=wd("toLowerCase");function O3(o,g,w){o=at(o),g=Ge(g);var O=g?bi(o):0;if(!g||O>=g)return o;var A=(g-O)/2;return Yo(Io(A),w)+o+Yo(Mo(A),w)}function E3(o,g,w){o=at(o),g=Ge(g);var O=g?bi(o):0;return g&&O<g?o+Yo(g-O,w):o}function P3(o,g,w){o=at(o),g=Ge(g);var O=g?bi(o):0;return g&&O<g?Yo(g-O,w)+o:o}function A3(o,g,w){return w||g==null?g=0:g&&(g=+g),jb(at(o).replace(dl,""),g||0)}function k3(o,g,w){return(w?Xt(o,g,w):g===n)?g=1:g=Ge(g),Gl(at(o),g)}function D3(){var o=arguments,g=at(o[0]);return o.length<3?g:g.replace(o[1],o[2])}var M3=Oi(function(o,g,w){return o+(w?"_":"")+g.toLowerCase()});function I3(o,g,w){return w&&typeof w!="number"&&Xt(o,g,w)&&(g=w=n),w=w===n?N:w>>>0,w?(o=at(o),o&&(typeof g=="string"||g!=null&&!pc(g))&&(g=fn(g),!g&&yi(o))?kr(Bn(o),0,w):o.split(g,w)):[]}var F3=Oi(function(o,g,w){return o+(w?" ":"")+mc(g)});function L3(o,g,w){return o=at(o),w=w==null?0:Xr(Ge(w),0,o.length),g=fn(g),o.slice(w,w+g.length)==g}function j3(o,g,w){var O=I.templateSettings;w&&Xt(o,g,w)&&(g=n),o=at(o),g=ia({},g,O,Pd);var A=ia({},g.imports,O.imports,Pd),L=Ft(A),U=Pl(A,L),G,J,me=0,ye=g.interpolate||mo,xe="__p += '",Ce=kl((g.escape||mo).source+"|"+ye.source+"|"+(ye===Kf?gy:mo).source+"|"+(g.evaluate||mo).source+"|$","g"),ke="//# sourceURL="+(lt.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gy+"]")+`
`;o.replace(Ce,function(Ne,Ke,Qe,dn,$t,pn){return Qe||(Qe=dn),xe+=o.slice(me,pn).replace(_y,fb),Ke&&(G=!0,xe+=`' +
__e(`+Ke+`) +
'`),$t&&(J=!0,xe+=`';
`+$t+`;
__p += '`),Qe&&(xe+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),me=pn+Ne.length,Ne}),xe+=`';
`;var Be=lt.call(g,"variable")&&g.variable;if(!Be)xe=`with (obj) {
`+xe+`
}
`;else if(dy.test(Be))throw new He(c);xe=(J?xe.replace($e,""):xe).replace(St,"$1").replace(wn,"$1;"),xe="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var Ye=xp(function(){return it(L,ke+"return "+xe).apply(n,U)});if(Ye.source=xe,dc(Ye))throw Ye;return Ye}function R3(o){return at(o).toLowerCase()}function B3(o){return at(o).toUpperCase()}function N3(o,g,w){if(o=at(o),o&&(w||g===n))return Ah(o);if(!o||!(g=fn(g)))return o;var O=Bn(o),A=Bn(g),L=kh(O,A),U=Dh(O,A)+1;return kr(O,L,U).join("")}function z3(o,g,w){if(o=at(o),o&&(w||g===n))return o.slice(0,Ih(o)+1);if(!o||!(g=fn(g)))return o;var O=Bn(o),A=Dh(O,Bn(g))+1;return kr(O,0,A).join("")}function W3(o,g,w){if(o=at(o),o&&(w||g===n))return o.replace(dl,"");if(!o||!(g=fn(g)))return o;var O=Bn(o),A=kh(O,Bn(g));return kr(O,A).join("")}function H3(o,g){var w=j,O=H;if(mt(g)){var A="separator"in g?g.separator:A;w="length"in g?Ge(g.length):w,O="omission"in g?fn(g.omission):O}o=at(o);var L=o.length;if(yi(o)){var U=Bn(o);L=U.length}if(w>=L)return o;var G=w-bi(O);if(G<1)return O;var J=U?kr(U,0,G).join(""):o.slice(0,G);if(A===n)return J+O;if(U&&(G+=J.length-G),pc(A)){if(o.slice(G).search(A)){var me,ye=J;for(A.global||(A=kl(A.source,at(Jf.exec(A))+"g")),A.lastIndex=0;me=A.exec(ye);)var xe=me.index;J=J.slice(0,xe===n?G:xe)}}else if(o.indexOf(fn(A),G)!=G){var Ce=J.lastIndexOf(A);Ce>-1&&(J=J.slice(0,Ce))}return J+O}function U3(o){return o=at(o),o&&bs.test(o)?o.replace(Kt,yb):o}var V3=Oi(function(o,g,w){return o+(w?" ":"")+g.toUpperCase()}),mc=wd("toUpperCase");function bp(o,g,w){return o=at(o),g=w?n:g,g===n?db(o)?wb(o):ib(o):o.match(g)||[]}var xp=qe(function(o,g){try{return cn(o,n,g)}catch(w){return dc(w)?w:new He(w)}}),G3=cr(function(o,g){return Sn(g,function(w){w=$n(w),ar(o,w,fc(o[w],o))}),o});function Y3(o){var g=o==null?0:o.length,w=Re();return o=g?vt(o,function(O){if(typeof O[1]!="function")throw new Cn(x);return[w(O[0]),O[1]]}):[],qe(function(O){for(var A=-1;++A<g;){var L=o[A];if(cn(L[0],this,O))return cn(L[1],this,O)}})}function X3(o){return y2(On(o,s))}function yc(o){return function(){return o}}function $3(o,g){return o==null||o!==o?g:o}var q3=Sd(),K3=Sd(!0);function en(o){return o}function bc(o){return Qh(typeof o=="function"?o:On(o,s))}function J3(o){return td(On(o,s))}function Z3(o,g){return nd(o,On(g,s))}var Q3=qe(function(o,g){return function(w){return Ps(w,o,g)}}),e_=qe(function(o,g){return function(w){return Ps(o,w,g)}});function xc(o,g,w){var O=Ft(g),A=No(g,O);w==null&&!(mt(g)&&(A.length||!O.length))&&(w=g,g=o,o=this,A=No(g,Ft(g)));var L=!(mt(w)&&"chain"in w)||!!w.chain,U=fr(o);return Sn(A,function(G){var J=g[G];o[G]=J,U&&(o.prototype[G]=function(){var me=this.__chain__;if(L||me){var ye=o(this.__wrapped__),xe=ye.__actions__=Jt(this.__actions__);return xe.push({func:J,args:arguments,thisArg:o}),ye.__chain__=me,ye}return J.apply(o,Cr([this.value()],arguments))})}),o}function t_(){return Lt._===this&&(Lt._=Eb),this}function wc(){}function n_(o){return o=Ge(o),qe(function(g){return rd(g,o)})}var r_=Zl(vt),i_=Zl(Ch),s_=Zl(Sl);function wp(o){return sc(o)?Cl($n(o)):L2(o)}function o_(o){return function(g){return o==null?n:$r(o,g)}}var a_=Td(),l_=Td(!0);function _c(){return[]}function Sc(){return!1}function c_(){return{}}function u_(){return""}function f_(){return!0}function h_(o,g){if(o=Ge(o),o<1||o>ie)return[];var w=N,O=Wt(o,N);g=Re(g),o-=N;for(var A=El(O,g);++w<o;)g(w);return A}function d_(o){return Ue(o)?vt(o,$n):hn(o)?[o]:Jt(Wd(at(o)))}function p_(o){var g=++Tb;return at(o)+g}var g_=Go(function(o,g){return o+g},0),v_=Ql("ceil"),m_=Go(function(o,g){return o/g},1),y_=Ql("floor");function b_(o){return o&&o.length?Bo(o,en,Bl):n}function x_(o,g){return o&&o.length?Bo(o,Re(g,2),Bl):n}function w_(o){return Eh(o,en)}function __(o,g){return Eh(o,Re(g,2))}function S_(o){return o&&o.length?Bo(o,en,Hl):n}function C_(o,g){return o&&o.length?Bo(o,Re(g,2),Hl):n}var T_=Go(function(o,g){return o*g},1),O_=Ql("round"),E_=Go(function(o,g){return o-g},0);function P_(o){return o&&o.length?Ol(o,en):0}function A_(o,g){return o&&o.length?Ol(o,Re(g,2)):0}return I.after=Jx,I.ary=Zd,I.assign=Bw,I.assignIn=hp,I.assignInWith=ia,I.assignWith=Nw,I.at=zw,I.before=Qd,I.bind=fc,I.bindAll=G3,I.bindKey=ep,I.castArray=cw,I.chain=qd,I.chunk=y1,I.compact=b1,I.concat=x1,I.cond=Y3,I.conforms=X3,I.constant=yc,I.countBy=Px,I.create=Ww,I.curry=tp,I.curryRight=np,I.debounce=rp,I.defaults=Hw,I.defaultsDeep=Uw,I.defer=Zx,I.delay=Qx,I.difference=w1,I.differenceBy=_1,I.differenceWith=S1,I.drop=C1,I.dropRight=T1,I.dropRightWhile=O1,I.dropWhile=E1,I.fill=P1,I.filter=kx,I.flatMap=Ix,I.flatMapDeep=Fx,I.flatMapDepth=Lx,I.flatten=Gd,I.flattenDeep=A1,I.flattenDepth=k1,I.flip=ew,I.flow=q3,I.flowRight=K3,I.fromPairs=D1,I.functions=Kw,I.functionsIn=Jw,I.groupBy=jx,I.initial=I1,I.intersection=F1,I.intersectionBy=L1,I.intersectionWith=j1,I.invert=Qw,I.invertBy=e3,I.invokeMap=Bx,I.iteratee=bc,I.keyBy=Nx,I.keys=Ft,I.keysIn=Qt,I.map=Zo,I.mapKeys=n3,I.mapValues=r3,I.matches=J3,I.matchesProperty=Z3,I.memoize=ea,I.merge=i3,I.mergeWith=dp,I.method=Q3,I.methodOf=e_,I.mixin=xc,I.negate=ta,I.nthArg=n_,I.omit=s3,I.omitBy=o3,I.once=tw,I.orderBy=zx,I.over=r_,I.overArgs=nw,I.overEvery=i_,I.overSome=s_,I.partial=hc,I.partialRight=ip,I.partition=Wx,I.pick=a3,I.pickBy=pp,I.property=wp,I.propertyOf=o_,I.pull=z1,I.pullAll=Xd,I.pullAllBy=W1,I.pullAllWith=H1,I.pullAt=U1,I.range=a_,I.rangeRight=l_,I.rearg=rw,I.reject=Vx,I.remove=V1,I.rest=iw,I.reverse=cc,I.sampleSize=Yx,I.set=c3,I.setWith=u3,I.shuffle=Xx,I.slice=G1,I.sortBy=Kx,I.sortedUniq=Z1,I.sortedUniqBy=Q1,I.split=I3,I.spread=sw,I.tail=ex,I.take=tx,I.takeRight=nx,I.takeRightWhile=rx,I.takeWhile=ix,I.tap=bx,I.throttle=ow,I.thru=Jo,I.toArray=cp,I.toPairs=gp,I.toPairsIn=vp,I.toPath=d_,I.toPlainObject=fp,I.transform=f3,I.unary=aw,I.union=sx,I.unionBy=ox,I.unionWith=ax,I.uniq=lx,I.uniqBy=cx,I.uniqWith=ux,I.unset=h3,I.unzip=uc,I.unzipWith=$d,I.update=d3,I.updateWith=p3,I.values=Ai,I.valuesIn=g3,I.without=fx,I.words=bp,I.wrap=lw,I.xor=hx,I.xorBy=dx,I.xorWith=px,I.zip=gx,I.zipObject=vx,I.zipObjectDeep=mx,I.zipWith=yx,I.entries=gp,I.entriesIn=vp,I.extend=hp,I.extendWith=ia,xc(I,I),I.add=g_,I.attempt=xp,I.camelCase=b3,I.capitalize=mp,I.ceil=v_,I.clamp=v3,I.clone=uw,I.cloneDeep=hw,I.cloneDeepWith=dw,I.cloneWith=fw,I.conformsTo=pw,I.deburr=yp,I.defaultTo=$3,I.divide=m_,I.endsWith=x3,I.eq=zn,I.escape=w3,I.escapeRegExp=_3,I.every=Ax,I.find=Dx,I.findIndex=Ud,I.findKey=Vw,I.findLast=Mx,I.findLastIndex=Vd,I.findLastKey=Gw,I.floor=y_,I.forEach=Kd,I.forEachRight=Jd,I.forIn=Yw,I.forInRight=Xw,I.forOwn=$w,I.forOwnRight=qw,I.get=gc,I.gt=gw,I.gte=vw,I.has=Zw,I.hasIn=vc,I.head=Yd,I.identity=en,I.includes=Rx,I.indexOf=M1,I.inRange=m3,I.invoke=t3,I.isArguments=Jr,I.isArray=Ue,I.isArrayBuffer=mw,I.isArrayLike=Zt,I.isArrayLikeObject=Ct,I.isBoolean=yw,I.isBuffer=Dr,I.isDate=bw,I.isElement=xw,I.isEmpty=ww,I.isEqual=_w,I.isEqualWith=Sw,I.isError=dc,I.isFinite=Cw,I.isFunction=fr,I.isInteger=sp,I.isLength=na,I.isMap=op,I.isMatch=Tw,I.isMatchWith=Ow,I.isNaN=Ew,I.isNative=Pw,I.isNil=kw,I.isNull=Aw,I.isNumber=ap,I.isObject=mt,I.isObjectLike=xt,I.isPlainObject=Fs,I.isRegExp=pc,I.isSafeInteger=Dw,I.isSet=lp,I.isString=ra,I.isSymbol=hn,I.isTypedArray=Pi,I.isUndefined=Mw,I.isWeakMap=Iw,I.isWeakSet=Fw,I.join=R1,I.kebabCase=S3,I.last=Pn,I.lastIndexOf=B1,I.lowerCase=C3,I.lowerFirst=T3,I.lt=Lw,I.lte=jw,I.max=b_,I.maxBy=x_,I.mean=w_,I.meanBy=__,I.min=S_,I.minBy=C_,I.stubArray=_c,I.stubFalse=Sc,I.stubObject=c_,I.stubString=u_,I.stubTrue=f_,I.multiply=T_,I.nth=N1,I.noConflict=t_,I.noop=wc,I.now=Qo,I.pad=O3,I.padEnd=E3,I.padStart=P3,I.parseInt=A3,I.random=y3,I.reduce=Hx,I.reduceRight=Ux,I.repeat=k3,I.replace=D3,I.result=l3,I.round=O_,I.runInContext=$,I.sample=Gx,I.size=$x,I.snakeCase=M3,I.some=qx,I.sortedIndex=Y1,I.sortedIndexBy=X1,I.sortedIndexOf=$1,I.sortedLastIndex=q1,I.sortedLastIndexBy=K1,I.sortedLastIndexOf=J1,I.startCase=F3,I.startsWith=L3,I.subtract=E_,I.sum=P_,I.sumBy=A_,I.template=j3,I.times=h_,I.toFinite=hr,I.toInteger=Ge,I.toLength=up,I.toLower=R3,I.toNumber=An,I.toSafeInteger=Rw,I.toString=at,I.toUpper=B3,I.trim=N3,I.trimEnd=z3,I.trimStart=W3,I.truncate=H3,I.unescape=U3,I.uniqueId=p_,I.upperCase=V3,I.upperFirst=mc,I.each=Kd,I.eachRight=Jd,I.first=Yd,xc(I,function(){var o={};return Yn(I,function(g,w){lt.call(I.prototype,w)||(o[w]=g)}),o}(),{chain:!1}),I.VERSION=r,Sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){I[o].placeholder=I}),Sn(["drop","take"],function(o,g){Ze.prototype[o]=function(w){w=w===n?1:kt(Ge(w),0);var O=this.__filtered__&&!g?new Ze(this):this.clone();return O.__filtered__?O.__takeCount__=Wt(w,O.__takeCount__):O.__views__.push({size:Wt(w,N),type:o+(O.__dir__<0?"Right":"")}),O},Ze.prototype[o+"Right"]=function(w){return this.reverse()[o](w).reverse()}}),Sn(["filter","map","takeWhile"],function(o,g){var w=g+1,O=w==se||w==ge;Ze.prototype[o]=function(A){var L=this.clone();return L.__iteratees__.push({iteratee:Re(A,3),type:w}),L.__filtered__=L.__filtered__||O,L}}),Sn(["head","last"],function(o,g){var w="take"+(g?"Right":"");Ze.prototype[o]=function(){return this[w](1).value()[0]}}),Sn(["initial","tail"],function(o,g){var w="drop"+(g?"":"Right");Ze.prototype[o]=function(){return this.__filtered__?new Ze(this):this[w](1)}}),Ze.prototype.compact=function(){return this.filter(en)},Ze.prototype.find=function(o){return this.filter(o).head()},Ze.prototype.findLast=function(o){return this.reverse().find(o)},Ze.prototype.invokeMap=qe(function(o,g){return typeof o=="function"?new Ze(this):this.map(function(w){return Ps(w,o,g)})}),Ze.prototype.reject=function(o){return this.filter(ta(Re(o)))},Ze.prototype.slice=function(o,g){o=Ge(o);var w=this;return w.__filtered__&&(o>0||g<0)?new Ze(w):(o<0?w=w.takeRight(-o):o&&(w=w.drop(o)),g!==n&&(g=Ge(g),w=g<0?w.dropRight(-g):w.take(g-o)),w)},Ze.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Ze.prototype.toArray=function(){return this.take(N)},Yn(Ze.prototype,function(o,g){var w=/^(?:filter|find|map|reject)|While$/.test(g),O=/^(?:head|last)$/.test(g),A=I[O?"take"+(g=="last"?"Right":""):g],L=O||/^find/.test(g);A&&(I.prototype[g]=function(){var U=this.__wrapped__,G=O?[1]:arguments,J=U instanceof Ze,me=G[0],ye=J||Ue(U),xe=function(Ke){var Qe=A.apply(I,Cr([Ke],G));return O&&Ce?Qe[0]:Qe};ye&&w&&typeof me=="function"&&me.length!=1&&(J=ye=!1);var Ce=this.__chain__,ke=!!this.__actions__.length,Be=L&&!Ce,Ye=J&&!ke;if(!L&&ye){U=Ye?U:new Ze(this);var Ne=o.apply(U,G);return Ne.__actions__.push({func:Jo,args:[xe],thisArg:n}),new Tn(Ne,Ce)}return Be&&Ye?o.apply(this,G):(Ne=this.thru(xe),Be?O?Ne.value()[0]:Ne.value():Ne)})}),Sn(["pop","push","shift","sort","splice","unshift"],function(o){var g=So[o],w=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",O=/^(?:pop|shift)$/.test(o);I.prototype[o]=function(){var A=arguments;if(O&&!this.__chain__){var L=this.value();return g.apply(Ue(L)?L:[],A)}return this[w](function(U){return g.apply(Ue(U)?U:[],A)})}}),Yn(Ze.prototype,function(o,g){var w=I[g];if(w){var O=w.name+"";lt.call(Si,O)||(Si[O]=[]),Si[O].push({name:g,func:w})}}),Si[Vo(n,y).name]=[{name:"wrapper",func:n}],Ze.prototype.clone=Ub,Ze.prototype.reverse=Vb,Ze.prototype.value=Gb,I.prototype.at=xx,I.prototype.chain=wx,I.prototype.commit=_x,I.prototype.next=Sx,I.prototype.plant=Tx,I.prototype.reverse=Ox,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Ex,I.prototype.first=I.prototype.head,ws&&(I.prototype[ws]=Cx),I},xi=_b();Ur?((Ur.exports=xi)._=xi,bl._=xi):Lt._=xi}).call(ot)})(Ra,Ra.exports);var Nt=Ra.exports;const pg=tf(Nt),Za={topLeft:{x:-.5,y:-.5},topRight:{x:.5,y:-.5},bottomLeft:{x:-.5,y:.5},bottomRight:{x:.5,y:.5}},Rs="data:image/svg+xml",Jv={textStyle:{color:"#f00",fontWeight:"bold",fontSize:60,fontFamily:"Cascadia Code"}};var yt={};const RP={},BP=Object.freeze(Object.defineProperty({__proto__:null,default:RP},Symbol.toStringTag,{value:"Module"})),Vc=Jg(BP);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Vc,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=r.document,e.jsdomImplForWrapper=Vc.implForWrapper,e.nodeCanvas=Vc.Canvas,e.window=r,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function c(a,u){if(this.__eventListeners[a]){var v=this.__eventListeners[a];u?v[v.indexOf(u)]=!1:e.util.array.fill(v,!1)}}function i(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in a)this.on(v,a[v]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function d(a,u){var v=(function(){u.apply(this,arguments),this.off(a,v)}).bind(this);this.on(a,v)}function h(a,u){if(arguments.length===1)for(var v in a)d.call(this,v,a[v]);else d.call(this,a,u);return this}function s(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in a)c.call(this,v,a[v]);else c.call(this,a,u);return this}function l(a,u){if(!this.__eventListeners)return this;var v=this.__eventListeners[a];if(!v)return this;for(var f=0,y=v.length;f<y;f++)v[f]&&v[f].call(this,u||{});return this.__eventListeners[a]=v.filter(function(b){return b!==!1}),this}e.Observable={fire:l,on:i,once:h,off:s}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,d){var h=this._objects;return d?h[i]=c:h.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,d=!1,h=0,s=arguments.length;h<s;h++)i=c.indexOf(arguments[h]),i!==-1&&(d=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&d&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var d=this.getObjects(),h=0,s=d.length;h<s;h++)c.call(i,d[h],h,d);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(d){return typeof d.contains=="function"&&d.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},e.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof e.Gradient)&&this.set(i,new e.Gradient(c))},_initPattern:function(c,i,d){c&&c.source&&!(c instanceof e.Pattern)?this.set(i,new e.Pattern(c,d)):d&&d()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,d=Math.atan2,h=Math.pow,s=Math.PI/180,l=Math.PI/2;e.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/l;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/l,v=1;switch(a<0&&(v=-1),u){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(a)},removeFromArray:function(a,u){var v=a.indexOf(u);return v!==-1&&a.splice(v,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*s},radiansToDegrees:function(a){return a/s},rotatePoint:function(a,u,v){var f=new e.Point(a.x-u.x,a.y-u.y),y=e.util.rotateVector(f,v);return new e.Point(y.x,y.y).addEquals(u)},rotateVector:function(a,u){var v=e.util.sin(u),f=e.util.cos(u),y=a.x*f-a.y*v,b=a.x*v+a.y*f;return{x:y,y:b}},createVector:function(a,u){return new e.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new e.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,v){var f=e.util.createVector(a,u),y=e.util.createVector(a,v),b=e.util.calcAngleBetweenVectors(f,y),_=e.util.calcAngleBetweenVectors(e.util.rotateVector(f,b),y),S=b*(_===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(f,S)),angle:b}},projectStrokeOnPoints:function(a,u,v){var f=[],y=u.strokeWidth/2,b=u.strokeUniform?new e.Point(1/u.scaleX,1/u.scaleY):new e.Point(1,1),_=function(S){var T=y/Math.hypot(S.x,S.y);return new e.Point(S.x*T*b.x,S.y*T*b.y)};return a.length<=1||a.forEach(function(S,T){var E=new e.Point(S.x,S.y),P,F;T===0?(F=a[T+1],P=v?_(e.util.createVector(F,E)).addEquals(E):a[a.length-1]):T===a.length-1?(P=a[T-1],F=v?_(e.util.createVector(P,E)).addEquals(E):a[0]):(P=a[T-1],F=a[T+1]);var R=e.util.getBisector(E,P,F),j=R.vector,H=R.angle,Z,Q;if(u.strokeLineJoin==="miter"&&(Z=-y/Math.sin(H/2),Q=new e.Point(j.x*Z*b.x,j.y*Z*b.y),Math.hypot(Q.x,Q.y)/y<=u.strokeMiterLimit)){f.push(E.add(Q)),f.push(E.subtract(Q));return}Z=-y*Math.SQRT2,Q=new e.Point(j.x*Z*b.x,j.y*Z*b.y),f.push(E.add(Q)),f.push(E.subtract(Q))}),f},transformPoint:function(a,u,v){return v?new e.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new e.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var v=0;v<a.length;v++)a[v]=e.util.transformPoint(a[v],u);var f=[a[0].x,a[1].x,a[2].x,a[3].x],y=e.util.array.min(f),b=e.util.array.max(f),_=b-y,S=[a[0].y,a[1].y,a[2].y,a[3].y],T=e.util.array.min(S),E=e.util.array.max(S),P=E-T;return{left:y,top:T,width:_,height:P}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),v=[u*a[3],-u*a[1],-u*a[2],u*a[0]],f=e.util.transformPoint({x:a[4],y:a[5]},v,!0);return v[4]=-f.x,v[5]=-f.y,v},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var v=/\D{0,2}$/.exec(a),f=parseFloat(a);switch(u||(u=e.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return f*e.DPI/25.4;case"cm":return f*e.DPI/2.54;case"in":return f*e.DPI;case"pt":return f*e.DPI/72;case"pc":return f*e.DPI/72*12;case"em":return f*u;default:return f}},falseFunction:function(){return!1},getKlass:function(a,u){return a=e.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),e.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return e;var u=a.split("."),v=u.length,f,y=c||e.window;for(f=0;f<v;++f)y=y[u[f]];return y},loadImage:function(a,u,v,f){if(!a){u&&u.call(v,a);return}var y=e.util.createImage(),b=function(){u&&u.call(v,y,!1),y=y.onload=y.onerror=null};y.onload=b,y.onerror=function(){e.log("Error loading "+y.src),u&&u.call(v,null,!0),y=y.onload=y.onerror=null},a.indexOf("data")!==0&&f!==void 0&&f!==null&&(y.crossOrigin=f),a.substring(0,14)==="data:image/svg"&&(y.onload=null,e.util.loadImageInDom(y,b)),y.src=a},loadImageInDom:function(a,u){var v=e.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(a),e.document.querySelector("body").appendChild(v),a.onload=function(){u(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(a,u,v,f){a=a||[];var y=[],b=0,_=a.length;function S(){++b===_&&u&&u(y.filter(function(T){return T}))}if(!_){u&&u(y);return}a.forEach(function(T,E){if(!T||!T.type){S();return}var P=e.util.getKlass(T.type,v);P.fromObject(T,function(F,R){R||(y[E]=F),f&&f(T,F,R),S()})})},enlivenObjectEnlivables:function(a,u,v){var f=e.Object.ENLIVEN_PROPS.filter(function(y){return!!a[y]});e.util.enlivenObjects(f.map(function(y){return a[y]}),function(y){var b={};f.forEach(function(_,S){b[_]=y[S],u&&(u[_]=y[S])}),v&&v(b)})},enlivenPatterns:function(a,u){a=a||[];function v(){++y===b&&u&&u(f)}var f=[],y=0,b=a.length;if(!b){u&&u(f);return}a.forEach(function(_,S){_&&_.source?new e.Pattern(_,function(T){f[S]=T,v()}):(f[S]=_,v())})},groupSVGElements:function(a,u,v){var f;return a&&a.length===1?(typeof v<"u"&&(a[0].sourcePath=v),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),f=new e.Group(a,u),typeof v<"u"&&(f.sourcePath=v),f)},populateWithProperties:function(a,u,v){if(v&&Array.isArray(v))for(var f=0,y=v.length;f<y;f++)v[f]in a&&(u[v[f]]=a[v[f]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(a){var u=e.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,v){return a.toDataURL("image/"+u,v)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(a,u,v){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],v?0:a[0]*u[4]+a[2]*u[5]+a[4],v?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=d(a[1],a[0]),v=h(a[0],2)+h(a[1],2),f=i(v),y=(a[0]*a[3]-a[2]*a[1])/f,b=d(a[0]*a[2]+a[1]*a[3],v);return{angle:u/s,scaleX:f,scaleY:y,skewX:b/s,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return e.iMatrix.concat();var u=e.util.degreesToRadians(a.angle),v=e.util.cos(u),f=e.util.sin(u);return[v,f,-f,v,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,v=typeof a.scaleY>"u"?1:a.scaleY,f=[a.flipX?-u:u,0,0,a.flipY?-v:v,0,0],y=e.util.multiplyTransformMatrices,b=e.util.degreesToRadians;return a.skewX&&(f=y(f,[1,0,Math.tan(b(a.skewX)),1],!0)),a.skewY&&(f=y(f,[1,Math.tan(b(a.skewY)),0,1],!0)),f},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],v=e.util.multiplyTransformMatrices;return a.angle&&(u=v(u,e.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=v(u,e.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,v,f){f>0&&(u>f?u-=f:u=0,v>f?v-=f:v=0);var y=!0,b,_,S=a.getImageData(u,v,f*2||1,f*2||1),T=S.data.length;for(b=3;b<T&&(_=S.data[b],y=_<=0,y!==!1);b+=4);return S=null,y},parsePreserveAspectRatioAttribute:function(a){var u="meet",v="Mid",f="Mid",y=a.split(" "),b;return y&&y.length&&(u=y.pop(),u!=="meet"&&u!=="slice"?(b=u,u="meet"):y.length&&(b=y.pop())),v=b!=="none"?b.slice(1,4):"none",f=b!=="none"?b.slice(5,8):"none",{meetOrSlice:u,alignX:v,alignY:f}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?e.charWidthsCache[a]&&delete e.charWidthsCache[a]:e.charWidthsCache={}},limitDimsByArea:function(a,u){var v=Math.sqrt(u*a),f=Math.floor(u/v);return{x:Math.floor(v),y:f}},capValue:function(a,u,v){return Math.max(a,Math.min(u,v))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return e.util.toFixed(u,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var v=e.util.invertTransform(u),f=e.util.multiplyTransformMatrices(v,a.calcOwnMatrix());e.util.applyTransformToObject(a,f)},addTransformToObject:function(a,u){e.util.applyTransformToObject(a,e.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var v=e.util.qrDecompose(u),f=new e.Point(v.translateX,v.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",v.scaleX),a.set("scaleY",v.scaleY),a.skewX=v.skewX,a.skewY=v.skewY,a.angle=v.angle,a.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(a,u,v){var f=a/2,y=u/2,b=[{x:-f,y:-y},{x:f,y:-y},{x:-f,y},{x:f,y}],_=e.util.calcDimensionsMatrix(v),S=e.util.makeBoundingBoxFromPoints(b,_);return{x:S.width,y:S.height}},mergeClipPaths:function(a,u){var v=a,f=u;v.inverted&&!f.inverted&&(v=u,f=a),e.util.applyTransformToObject(f,e.util.multiplyTransformMatrices(e.util.invertTransform(v.calcTransformMatrix()),f.calcTransformMatrix()));var y=v.inverted&&f.inverted;return y&&(v.inverted=f.inverted=!1),new e.Group([v],{clipPath:f,inverted:y})},hasStyleChanged:function(a,u,v){return v=v||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||v&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(v,u){for(var v=e.util.object.clone(v,!0),f=u.split(`
`),y=-1,b={},_=[],S=0;S<f.length;S++){if(!v[S]){y+=f[S].length;continue}for(var T=0;T<f[S].length;T++){y++;var E=v[S][T];if(E&&Object.keys(E).length>0){var P=e.util.hasStyleChanged(b,E,!0);P?_.push({start:y,end:y+1,style:E}):_[_.length-1].end++}b=E||{}}}return _},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var v=u.split(`
`),f=-1,y=0,b={},_=0;_<v.length;_++)for(var S=0;S<v[_].length;S++)f++,a[y]&&a[y].start<=f&&f<a[y].end&&(b[_]=b[_]||{},b[_][S]=Object.assign({},a[y].style),f===a[y].end-1&&y++);return b}}}(t),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},d={m:"l",M:"L"};function h(k,z,N,W,K,B,M,Y,q,re,ee){var he=e.util.cos(k),pe=e.util.sin(k),ve=e.util.cos(z),ne=e.util.sin(z),V=N*K*ve-W*B*ne+M,fe=W*K*ve+N*B*ne+Y,ce=re+q*(-N*K*pe-W*B*he),te=ee+q*(-W*K*pe+N*B*he),ae=V+q*(N*K*ne+W*B*ve),_e=fe+q*(W*K*ne-N*B*ve);return["C",ce,te,ae,_e,V,fe]}function s(k,z,N,W,K,B,M){var Y=Math.PI,q=M*Y/180,re=e.util.sin(q),ee=e.util.cos(q),he=0,pe=0;N=Math.abs(N),W=Math.abs(W);var ve=-ee*k*.5-re*z*.5,ne=-ee*z*.5+re*k*.5,V=N*N,fe=W*W,ce=ne*ne,te=ve*ve,ae=V*fe-V*ce-fe*te,_e=0;if(ae<0){var Pe=Math.sqrt(1-ae/(V*fe));N*=Pe,W*=Pe}else _e=(K===B?-1:1)*Math.sqrt(ae/(V*ce+fe*te));var Se=_e*N*ne/W,ue=-_e*W*ve/N,Ee=ee*Se-re*ue+k*.5,Le=re*Se+ee*ue+z*.5,We=l(1,0,(ve-Se)/N,(ne-ue)/W),rt=l((ve-Se)/N,(ne-ue)/W,(-ve-Se)/N,(-ne-ue)/W);B===0&&rt>0?rt-=2*Y:B===1&&rt<0&&(rt+=2*Y);for(var Ve=Math.ceil(Math.abs(rt/Y*2)),we=[],Ie=rt/Ve,tt=8/3*Math.sin(Ie/4)*Math.sin(Ie/4)/Math.sin(Ie/2),dt=We+Ie,gt=0;gt<Ve;gt++)we[gt]=h(We,dt,ee,re,N,W,Ee,Le,tt,he,pe),he=we[gt][5],pe=we[gt][6],We=dt,dt+=Ie;return we}function l(k,z,N,W){var K=Math.atan2(z,k),B=Math.atan2(W,N);return B>=K?B-K:2*Math.PI-(K-B)}function a(k,z,N,W,K,B,M,Y){var q;if(e.cachesBoundsOfCurve&&(q=c.call(arguments),e.boundsOfCurveCache[q]))return e.boundsOfCurveCache[q];var re=Math.sqrt,ee=Math.min,he=Math.max,pe=Math.abs,ve=[],ne=[[],[]],V,fe,ce,te,ae,_e,Pe,Se;fe=6*k-12*N+6*K,V=-3*k+9*N-9*K+3*M,ce=3*N-3*k;for(var ue=0;ue<2;++ue){if(ue>0&&(fe=6*z-12*W+6*B,V=-3*z+9*W-9*B+3*Y,ce=3*W-3*z),pe(V)<1e-12){if(pe(fe)<1e-12)continue;te=-ce/fe,0<te&&te<1&&ve.push(te);continue}Pe=fe*fe-4*ce*V,!(Pe<0)&&(Se=re(Pe),ae=(-fe+Se)/(2*V),0<ae&&ae<1&&ve.push(ae),_e=(-fe-Se)/(2*V),0<_e&&_e<1&&ve.push(_e))}for(var Ee,Le,We=ve.length,rt=We,Ve;We--;)te=ve[We],Ve=1-te,Ee=Ve*Ve*Ve*k+3*Ve*Ve*te*N+3*Ve*te*te*K+te*te*te*M,ne[0][We]=Ee,Le=Ve*Ve*Ve*z+3*Ve*Ve*te*W+3*Ve*te*te*B+te*te*te*Y,ne[1][We]=Le;ne[0][rt]=k,ne[1][rt]=z,ne[0][rt+1]=M,ne[1][rt+1]=Y;var we=[{x:ee.apply(null,ne[0]),y:ee.apply(null,ne[1])},{x:he.apply(null,ne[0]),y:he.apply(null,ne[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[q]=we),we}function u(k,z,N){for(var W=N[1],K=N[2],B=N[3],M=N[4],Y=N[5],q=N[6],re=N[7],ee=s(q-k,re-z,W,K,M,Y,B),he=0,pe=ee.length;he<pe;he++)ee[he][1]+=k,ee[he][2]+=z,ee[he][3]+=k,ee[he][4]+=z,ee[he][5]+=k,ee[he][6]+=z;return ee}function v(k){var z=0,N=0,W=k.length,K=0,B=0,M,Y,q,re=[],ee,he,pe;for(Y=0;Y<W;++Y){switch(q=!1,M=k[Y].slice(0),M[0]){case"l":M[0]="L",M[1]+=z,M[2]+=N;case"L":z=M[1],N=M[2];break;case"h":M[1]+=z;case"H":M[0]="L",M[2]=N,z=M[1];break;case"v":M[1]+=N;case"V":M[0]="L",N=M[1],M[1]=z,M[2]=N;break;case"m":M[0]="M",M[1]+=z,M[2]+=N;case"M":z=M[1],N=M[2],K=M[1],B=M[2];break;case"c":M[0]="C",M[1]+=z,M[2]+=N,M[3]+=z,M[4]+=N,M[5]+=z,M[6]+=N;case"C":he=M[3],pe=M[4],z=M[5],N=M[6];break;case"s":M[0]="S",M[1]+=z,M[2]+=N,M[3]+=z,M[4]+=N;case"S":ee==="C"?(he=2*z-he,pe=2*N-pe):(he=z,pe=N),z=M[3],N=M[4],M[0]="C",M[5]=M[3],M[6]=M[4],M[3]=M[1],M[4]=M[2],M[1]=he,M[2]=pe,he=M[3],pe=M[4];break;case"q":M[0]="Q",M[1]+=z,M[2]+=N,M[3]+=z,M[4]+=N;case"Q":he=M[1],pe=M[2],z=M[3],N=M[4];break;case"t":M[0]="T",M[1]+=z,M[2]+=N;case"T":ee==="Q"?(he=2*z-he,pe=2*N-pe):(he=z,pe=N),M[0]="Q",z=M[1],N=M[2],M[1]=he,M[2]=pe,M[3]=z,M[4]=N;break;case"a":M[0]="A",M[6]+=z,M[7]+=N;case"A":q=!0,re=re.concat(u(z,N,M)),z=M[6],N=M[7];break;case"z":case"Z":z=K,N=B;break}q||re.push(M),ee=M[0]}return re}function f(k,z,N,W){return Math.sqrt((N-k)*(N-k)+(W-z)*(W-z))}function y(k){return k*k*k}function b(k){return 3*k*k*(1-k)}function _(k){return 3*k*(1-k)*(1-k)}function S(k){return(1-k)*(1-k)*(1-k)}function T(k,z,N,W,K,B,M,Y){return function(q){var re=y(q),ee=b(q),he=_(q),pe=S(q);return{x:M*re+K*ee+N*he+k*pe,y:Y*re+B*ee+W*he+z*pe}}}function E(k,z,N,W,K,B,M,Y){return function(q){var re=1-q,ee=3*re*re*(N-k)+6*re*q*(K-N)+3*q*q*(M-K),he=3*re*re*(W-z)+6*re*q*(B-W)+3*q*q*(Y-B);return Math.atan2(he,ee)}}function P(k){return k*k}function F(k){return 2*k*(1-k)}function R(k){return(1-k)*(1-k)}function j(k,z,N,W,K,B){return function(M){var Y=P(M),q=F(M),re=R(M);return{x:K*Y+N*q+k*re,y:B*Y+W*q+z*re}}}function H(k,z,N,W,K,B){return function(M){var Y=1-M,q=2*Y*(N-k)+2*M*(K-N),re=2*Y*(W-z)+2*M*(B-W);return Math.atan2(re,q)}}function Z(k,z,N){var W={x:z,y:N},K,B=0,M;for(M=1;M<=100;M+=1)K=k(M/100),B+=f(W.x,W.y,K.x,K.y),W=K;return B}function Q(k,z){for(var N=0,W=0,K=k.iterator,B={x:k.x,y:k.y},M,Y,q=.01,re=k.angleFinder,ee;W<z&&q>1e-4;)M=K(N),ee=N,Y=f(B.x,B.y,M.x,M.y),Y+W>z?(N-=q,q/=2):(B=M,N+=q,W+=Y);return M.angle=re(ee),M}function se(k){for(var z=0,N=k.length,W,K=0,B=0,M=0,Y=0,q=[],re,ee,he,pe=0;pe<N;pe++){switch(W=k[pe],ee={x:K,y:B,command:W[0]},W[0]){case"M":ee.length=0,M=K=W[1],Y=B=W[2];break;case"L":ee.length=f(K,B,W[1],W[2]),K=W[1],B=W[2];break;case"C":re=T(K,B,W[1],W[2],W[3],W[4],W[5],W[6]),he=E(K,B,W[1],W[2],W[3],W[4],W[5],W[6]),ee.iterator=re,ee.angleFinder=he,ee.length=Z(re,K,B),K=W[5],B=W[6];break;case"Q":re=j(K,B,W[1],W[2],W[3],W[4]),he=H(K,B,W[1],W[2],W[3],W[4]),ee.iterator=re,ee.angleFinder=he,ee.length=Z(re,K,B),K=W[3],B=W[4];break;case"Z":case"z":ee.destX=M,ee.destY=Y,ee.length=f(K,B,M,Y),K=M,B=Y;break}z+=ee.length,q.push(ee)}return q.push({length:z,x:K,y:B}),q}function le(k,z,N){N||(N=se(k));for(var W=0;z-N[W].length>0&&W<N.length-2;)z-=N[W].length,W++;var K=N[W],B=z/K.length,M=K.command,Y=k[W],q;switch(M){case"M":return{x:K.x,y:K.y,angle:0};case"Z":case"z":return q=new e.Point(K.x,K.y).lerp(new e.Point(K.destX,K.destY),B),q.angle=Math.atan2(K.destY-K.y,K.destX-K.x),q;case"L":return q=new e.Point(K.x,K.y).lerp(new e.Point(Y[1],Y[2]),B),q.angle=Math.atan2(Y[2]-K.y,Y[1]-K.x),q;case"C":return Q(K,z);case"Q":return Q(K,z)}}function ge(k){var z=[],N=[],W,K,B=e.rePathCommand,M="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Y="("+M+")"+e.commaWsp,q="([01])"+e.commaWsp+"?",re=Y+"?"+Y+"?"+Y+q+q+Y+"?("+M+")",ee=new RegExp(re,"g"),he,pe,ve;if(!k||!k.match)return z;ve=k.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ne=0,V,fe=ve.length;ne<fe;ne++){W=ve[ne],pe=W.slice(1).trim(),N.length=0;var ce=W.charAt(0);if(V=[ce],ce.toLowerCase()==="a")for(var te;te=ee.exec(pe);)for(var ae=1;ae<te.length;ae++)N.push(te[ae]);else for(;he=B.exec(pe);)N.push(he[0]);for(var ae=0,_e=N.length;ae<_e;ae++)K=parseFloat(N[ae]),isNaN(K)||V.push(K);var Pe=i[ce.toLowerCase()],Se=d[ce]||ce;if(V.length-1>Pe)for(var ue=1,Ee=V.length;ue<Ee;ue+=Pe)z.push([ce].concat(V.slice(ue,ue+Pe))),ce=Se;else z.push(V)}return z}function X(k,z){var N=[],W,K=new e.Point(k[0].x,k[0].y),B=new e.Point(k[1].x,k[1].y),M=k.length,Y=1,q=0,re=M>2;for(z=z||0,re&&(Y=k[2].x<B.x?-1:k[2].x===B.x?0:1,q=k[2].y<B.y?-1:k[2].y===B.y?0:1),N.push(["M",K.x-Y*z,K.y-q*z]),W=1;W<M;W++){if(!K.eq(B)){var ee=K.midPointFrom(B);N.push(["Q",K.x,K.y,ee.x,ee.y])}K=k[W],W+1<k.length&&(B=k[W+1])}return re&&(Y=K.x>k[W-2].x?1:K.x===k[W-2].x?0:-1,q=K.y>k[W-2].y?1:K.y===k[W-2].y?0:-1),N.push(["L",K.x+Y*z,K.y+q*z]),N}function ie(k,z,N){return N&&(z=e.util.multiplyTransformMatrices(z,[1,0,0,1,-N.x,-N.y])),k.map(function(W){for(var K=W.slice(0),B={},M=1;M<W.length-1;M+=2)B.x=W[M],B.y=W[M+1],B=e.util.transformPoint(B,z),K[M]=B.x,K[M+1]=B.y;return K})}e.util.joinPath=function(k){return k.map(function(z){return z.join(" ")}).join(" ")},e.util.parsePath=ge,e.util.makePathSimpler=v,e.util.getSmoothPathFromPoints=X,e.util.getPathSegmentsInfo=se,e.util.getBoundsOfCurve=a,e.util.getPointOnPath=le,e.util.transformPath=ie}(),function(){var c=Array.prototype.slice;function i(a,u){for(var v=c.call(arguments,2),f=[],y=0,b=a.length;y<b;y++)f[y]=v.length?a[y][u].apply(a[y],v):a[y][u].call(a[y]);return f}function d(a,u){return l(a,u,function(v,f){return v>=f})}function h(a,u){return l(a,u,function(v,f){return v<f})}function s(a,u){for(var v=a.length;v--;)a[v]=u;return a}function l(a,u,v){if(!(!a||a.length===0)){var f=a.length-1,y=u?a[f][u]:a[f];if(u)for(;f--;)v(a[f][u],y)&&(y=a[f][u]);else for(;f--;)v(a[f],y)&&(y=a[f]);return y}}e.util.array={fill:s,invoke:i,min:h,max:d}}(),function(){function c(d,h,s){if(s)if(!e.isLikelyNode&&h instanceof Element)d=h;else if(h instanceof Array){d=[];for(var l=0,a=h.length;l<a;l++)d[l]=c({},h[l],s)}else if(h&&typeof h=="object")for(var u in h)u==="canvas"||u==="group"?d[u]=null:h.hasOwnProperty(u)&&(d[u]=c({},h[u],s));else d=h;else for(var u in h)d[u]=h[u];return d}function i(d,h){return c({},d,h)}e.util.object={extend:c,clone:i},e.util.object.extend(e.util,e.Observable)}(),function(){function c(l){return l.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function i(l,a){return l.charAt(0).toUpperCase()+(a?l.slice(1):l.slice(1).toLowerCase())}function d(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(l){var a=0,u,v=[];for(a=0,u;a<l.length;a++)(u=s(l,a))!==!1&&v.push(u);return v}function s(l,a){var u=l.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return l.charAt(a);if(55296<=u&&u<=56319){if(l.length<=a+1)throw"High surrogate without following low surrogate";var v=l.charCodeAt(a+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return l.charAt(a)+l.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var f=l.charCodeAt(a-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:c,capitalize:i,escapeXml:d,graphemeSplit:h}}(),function(){var c=Array.prototype.slice,i=function(){},d=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),h=function(u,v,f){for(var y in v)y in u.prototype&&typeof u.prototype[y]=="function"&&(v[y]+"").indexOf("callSuper")>-1?u.prototype[y]=function(b){return function(){var _=this.constructor.superclass;this.constructor.superclass=f;var S=v[b].apply(this,arguments);if(this.constructor.superclass=_,b!=="initialize")return S}}(y):u.prototype[y]=v[y],d&&(v.toString!==Object.prototype.toString&&(u.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=v.valueOf))};function s(){}function l(u){for(var v=null,f=this;f.constructor.superclass;){var y=f.constructor.superclass.prototype[u];if(f[u]!==y){v=y;break}f=f.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,c.call(arguments,1)):v.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,v=c.call(arguments,0);typeof v[0]=="function"&&(u=v.shift());function f(){this.initialize.apply(this,arguments)}f.superclass=u,f.subclasses=[],u&&(s.prototype=u.prototype,f.prototype=new s,u.subclasses.push(f));for(var y=0,b=v.length;y<b;y++)h(f,v[y],u);return f.prototype.initialize||(f.prototype.initialize=i),f.prototype.constructor=f,f.prototype.callSuper=l,f}e.util.createClass=a}(),function(){var c=!!e.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];e.util.addListener=function(h,s,l,a){h&&h.addEventListener(s,l,c?!1:a)},e.util.removeListener=function(h,s,l,a){h&&h.removeEventListener(s,l,c?!1:a)};function d(h){var s=h.changedTouches;return s&&s[0]?s[0]:h}e.util.getPointer=function(h){var s=h.target,l=e.util.getScrollLeftTop(s),a=d(h);return{x:a.clientX+l.left,y:a.clientY+l.top}},e.util.isTouchEvent=function(h){return i.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function c(a,u){var v=a.style;if(!v)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?l(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var f in u)if(f==="opacity")l(a,u[f]);else{var y=f==="float"||f==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":f;v.setProperty(y,u[f])}return a}var i=e.document.createElement("div"),d=typeof i.style.opacity=="string",h=typeof i.style.filter=="string",s=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(a){return a};d?l=function(a,u){return a.style.opacity=u,a}:h&&(l=function(a,u){var v=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(v.zoom=1),s.test(v.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",v.filter=v.filter.replace(s,u)):v.filter+=" alpha(opacity="+u*100+")",a}),e.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(S){return typeof S=="string"?e.document.getElementById(S):S}var d,h=function(S){return c.call(S,0)};try{d=h(e.document.childNodes)instanceof Array}catch{}d||(h=function(S){for(var T=new Array(S.length),E=S.length;E--;)T[E]=S[E];return T});function s(S,T){var E=e.document.createElement(S);for(var P in T)P==="class"?E.className=T[P]:P==="for"?E.htmlFor=T[P]:E.setAttribute(P,T[P]);return E}function l(S,T){S&&(" "+S.className+" ").indexOf(" "+T+" ")===-1&&(S.className+=(S.className?" ":"")+T)}function a(S,T,E){return typeof T=="string"&&(T=s(T,E)),S.parentNode&&S.parentNode.replaceChild(T,S),T.appendChild(S),T}function u(S){for(var T=0,E=0,P=e.document.documentElement,F=e.document.body||{scrollLeft:0,scrollTop:0};S&&(S.parentNode||S.host)&&(S=S.parentNode||S.host,S===e.document?(T=F.scrollLeft||P.scrollLeft||0,E=F.scrollTop||P.scrollTop||0):(T+=S.scrollLeft||0,E+=S.scrollTop||0),!(S.nodeType===1&&S.style.position==="fixed")););return{left:T,top:E}}function v(S){var T,E=S&&S.ownerDocument,P={left:0,top:0},F={left:0,top:0},R,j={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!E)return F;for(var H in j)F[j[H]]+=parseInt(f(S,H),10)||0;return T=E.documentElement,typeof S.getBoundingClientRect<"u"&&(P=S.getBoundingClientRect()),R=u(S),{left:P.left+R.left-(T.clientLeft||0)+F.left,top:P.top+R.top-(T.clientTop||0)+F.top}}var f;e.document.defaultView&&e.document.defaultView.getComputedStyle?f=function(S,T){var E=e.document.defaultView.getComputedStyle(S,null);return E?E[T]:void 0}:f=function(S,T){var E=S.style[T];return!E&&S.currentStyle&&(E=S.currentStyle[T]),E},function(){var S=e.document.documentElement.style,T="userSelect"in S?"userSelect":"MozUserSelect"in S?"MozUserSelect":"WebkitUserSelect"in S?"WebkitUserSelect":"KhtmlUserSelect"in S?"KhtmlUserSelect":"";function E(F){return typeof F.onselectstart<"u"&&(F.onselectstart=e.util.falseFunction),T?F.style[T]="none":typeof F.unselectable=="string"&&(F.unselectable="on"),F}function P(F){return typeof F.onselectstart<"u"&&(F.onselectstart=null),T?F.style[T]="":typeof F.unselectable=="string"&&(F.unselectable=""),F}e.util.makeElementUnselectable=E,e.util.makeElementSelectable=P}();function y(S){var T=e.jsdomImplForWrapper(S);return T._canvas||T._image}function b(S){if(e.isLikelyNode){var T=e.jsdomImplForWrapper(S);T&&(T._image=null,T._canvas=null,T._currentSrc=null,T._attributes=null,T._classList=null)}}function _(S,T){S.imageSmoothingEnabled=S.imageSmoothingEnabled||S.webkitImageSmoothingEnabled||S.mozImageSmoothingEnabled||S.msImageSmoothingEnabled||S.oImageSmoothingEnabled,S.imageSmoothingEnabled=T}e.util.setImageSmoothing=_,e.util.getById=i,e.util.toArray=h,e.util.addClass=l,e.util.makeElement=s,e.util.wrapElement=a,e.util.getScrollLeftTop=u,e.util.getElementOffset=v,e.util.getNodeCanvas=y,e.util.cleanUpJsdomNode=b}(),function(){function c(h,s){return h+(/\?/.test(h)?"&":"?")+s}function i(){}function d(h,s){s||(s={});var l=s.method?s.method.toUpperCase():"GET",a=s.onComplete||function(){},u=new e.window.XMLHttpRequest,v=s.body||s.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=i)},l==="GET"&&(v=null,typeof s.parameters=="string"&&(h=c(h,s.parameters))),u.open(l,h,!0),(l==="POST"||l==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(v),u}e.util.request=d}(),e.log=console.log,e.warn=console.warn,function(){var c=e.util.object.extend,i=e.util.object.clone,d=[];e.util.object.extend(d,{cancelAll:function(){var y=this.splice(0);return y.forEach(function(b){b.cancel()}),y},cancelByCanvas:function(y){if(!y)return[];var b=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===y});return b.forEach(function(_){_.cancel()}),b},cancelByTarget:function(y){var b=this.findAnimationsByTarget(y);return b.forEach(function(_){_.cancel()}),b},findAnimationIndex:function(y){return this.indexOf(this.findAnimation(y))},findAnimation:function(y){return this.find(function(b){return b.cancel===y})},findAnimationsByTarget:function(y){return y?this.filter(function(b){return b.target===y}):[]}});function h(){return!1}function s(y,b,_,S){return-_*Math.cos(y/S*(Math.PI/2))+_+b}function l(y){y||(y={});var b=!1,_,S=function(){var T=e.runningAnimations.indexOf(_);return T>-1&&e.runningAnimations.splice(T,1)[0]};return _=c(i(y),{cancel:function(){return b=!0,S()},currentValue:"startValue"in y?y.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(_),v(function(T){var E=T||+new Date,P=y.duration||500,F=E+P,R,j=y.onChange||h,H=y.abort||h,Z=y.onComplete||h,Q=y.easing||s,se="startValue"in y?y.startValue.length>0:!1,le="startValue"in y?y.startValue:0,ge="endValue"in y?y.endValue:100,X=y.byValue||(se?le.map(function(ie,k){return ge[k]-le[k]}):ge-le);y.onStart&&y.onStart(),function ie(k){R=k||+new Date;var z=R>F?P:R-E,N=z/P,W=se?le.map(function(B,M){return Q(z,le[M],X[M],P)}):Q(z,le,X,P),K=Math.abs(se?(W[0]-le[0])/X[0]:(W-le)/X);if(_.currentValue=se?W.slice():W,_.completionRate=K,_.durationRate=N,!b){if(H(W,K,N)){S();return}if(R>F){_.currentValue=se?ge.slice():ge,_.completionRate=1,_.durationRate=1,j(se?ge.slice():ge,1,1),Z(ge,1,1),S();return}else j(W,K,N),v(ie)}}(E)}),_.cancel}var a=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(y){return e.window.setTimeout(y,1e3/60)},u=e.window.cancelAnimationFrame||e.window.clearTimeout;function v(){return a.apply(e.window,arguments)}function f(){return u.apply(e.window,arguments)}e.util.animate=l,e.util.requestAnimFrame=v,e.util.cancelAnimFrame=f,e.runningAnimations=d}(),function(){function c(d,h,s){var l="rgba("+parseInt(d[0]+s*(h[0]-d[0]),10)+","+parseInt(d[1]+s*(h[1]-d[1]),10)+","+parseInt(d[2]+s*(h[2]-d[2]),10);return l+=","+(d&&h?parseFloat(d[3]+s*(h[3]-d[3])):1),l+=")",l}function i(d,h,s,l){var a=new e.Color(d).getSource(),u=new e.Color(h).getSource(),v=l.onComplete,f=l.onChange;return l=l||{},e.util.animate(e.util.object.extend(l,{duration:s||500,startValue:a,endValue:u,byValue:u,easing:function(y,b,_,S){var T=l.colorEasing?l.colorEasing(y,S):1-Math.cos(y/S*(Math.PI/2));return c(b,_,T)},onComplete:function(y,b,_){if(v)return v(c(u,u,0),b,_)},onChange:function(y,b,_){if(f){if(Array.isArray(y))return f(c(y,y,0),b,_);f(y,b,_)}}}))}e.util.animateColor=i}(),function(){function c(k,z,N,W){return k<Math.abs(z)?(k=z,W=N/4):z===0&&k===0?W=N/(2*Math.PI)*Math.asin(1):W=N/(2*Math.PI)*Math.asin(z/k),{a:k,c:z,p:N,s:W}}function i(k,z,N){return k.a*Math.pow(2,10*(z-=1))*Math.sin((z*N-k.s)*(2*Math.PI)/k.p)}function d(k,z,N,W){return N*((k=k/W-1)*k*k+1)+z}function h(k,z,N,W){return k/=W/2,k<1?N/2*k*k*k+z:N/2*((k-=2)*k*k+2)+z}function s(k,z,N,W){return N*(k/=W)*k*k*k+z}function l(k,z,N,W){return-N*((k=k/W-1)*k*k*k-1)+z}function a(k,z,N,W){return k/=W/2,k<1?N/2*k*k*k*k+z:-N/2*((k-=2)*k*k*k-2)+z}function u(k,z,N,W){return N*(k/=W)*k*k*k*k+z}function v(k,z,N,W){return N*((k=k/W-1)*k*k*k*k+1)+z}function f(k,z,N,W){return k/=W/2,k<1?N/2*k*k*k*k*k+z:N/2*((k-=2)*k*k*k*k+2)+z}function y(k,z,N,W){return-N*Math.cos(k/W*(Math.PI/2))+N+z}function b(k,z,N,W){return N*Math.sin(k/W*(Math.PI/2))+z}function _(k,z,N,W){return-N/2*(Math.cos(Math.PI*k/W)-1)+z}function S(k,z,N,W){return k===0?z:N*Math.pow(2,10*(k/W-1))+z}function T(k,z,N,W){return k===W?z+N:N*(-Math.pow(2,-10*k/W)+1)+z}function E(k,z,N,W){return k===0?z:k===W?z+N:(k/=W/2,k<1?N/2*Math.pow(2,10*(k-1))+z:N/2*(-Math.pow(2,-10*--k)+2)+z)}function P(k,z,N,W){return-N*(Math.sqrt(1-(k/=W)*k)-1)+z}function F(k,z,N,W){return N*Math.sqrt(1-(k=k/W-1)*k)+z}function R(k,z,N,W){return k/=W/2,k<1?-N/2*(Math.sqrt(1-k*k)-1)+z:N/2*(Math.sqrt(1-(k-=2)*k)+1)+z}function j(k,z,N,W){var K=1.70158,B=0,M=N;if(k===0)return z;if(k/=W,k===1)return z+N;B||(B=W*.3);var Y=c(M,N,B,K);return-i(Y,k,W)+z}function H(k,z,N,W){var K=1.70158,B=0,M=N;if(k===0)return z;if(k/=W,k===1)return z+N;B||(B=W*.3);var Y=c(M,N,B,K);return Y.a*Math.pow(2,-10*k)*Math.sin((k*W-Y.s)*(2*Math.PI)/Y.p)+Y.c+z}function Z(k,z,N,W){var K=1.70158,B=0,M=N;if(k===0)return z;if(k/=W/2,k===2)return z+N;B||(B=W*(.3*1.5));var Y=c(M,N,B,K);return k<1?-.5*i(Y,k,W)+z:Y.a*Math.pow(2,-10*(k-=1))*Math.sin((k*W-Y.s)*(2*Math.PI)/Y.p)*.5+Y.c+z}function Q(k,z,N,W,K){return K===void 0&&(K=1.70158),N*(k/=W)*k*((K+1)*k-K)+z}function se(k,z,N,W,K){return K===void 0&&(K=1.70158),N*((k=k/W-1)*k*((K+1)*k+K)+1)+z}function le(k,z,N,W,K){return K===void 0&&(K=1.70158),k/=W/2,k<1?N/2*(k*k*(((K*=1.525)+1)*k-K))+z:N/2*((k-=2)*k*(((K*=1.525)+1)*k+K)+2)+z}function ge(k,z,N,W){return N-X(W-k,0,N,W)+z}function X(k,z,N,W){return(k/=W)<1/2.75?N*(7.5625*k*k)+z:k<2/2.75?N*(7.5625*(k-=1.5/2.75)*k+.75)+z:k<2.5/2.75?N*(7.5625*(k-=2.25/2.75)*k+.9375)+z:N*(7.5625*(k-=2.625/2.75)*k+.984375)+z}function ie(k,z,N,W){return k<W/2?ge(k*2,0,N,W)*.5+z:X(k*2-W,0,N,W)*.5+N*.5+z}e.util.ease={easeInQuad:function(k,z,N,W){return N*(k/=W)*k+z},easeOutQuad:function(k,z,N,W){return-N*(k/=W)*(k-2)+z},easeInOutQuad:function(k,z,N,W){return k/=W/2,k<1?N/2*k*k+z:-N/2*(--k*(k-2)-1)+z},easeInCubic:function(k,z,N,W){return N*(k/=W)*k*k+z},easeOutCubic:d,easeInOutCubic:h,easeInQuart:s,easeOutQuart:l,easeInOutQuart:a,easeInQuint:u,easeOutQuint:v,easeInOutQuint:f,easeInSine:y,easeOutSine:b,easeInOutSine:_,easeInExpo:S,easeOutExpo:T,easeInOutExpo:E,easeInCirc:P,easeOutCirc:F,easeInOutCirc:R,easeInElastic:j,easeOutElastic:H,easeInOutElastic:Z,easeInBack:Q,easeOutBack:se,easeInOutBack:le,easeInBounce:ge,easeOutBounce:X,easeInOutBounce:ie}}(),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.util.object.clone,s=i.util.toFixed,l=i.util.parseUnit,a=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],f=["pattern","defs","symbol","metadata","clipPath","mask","desc"],y=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},S="font-size",T="clip-path";i.svgValidTagNamesRegEx=F(u),i.svgViewBoxElementsRegEx=F(v),i.svgInvalidAncestorsRegEx=F(f),i.svgValidParentsRegEx=F(y),i.cssRules={},i.gradientDefs={},i.clipPaths={};function E(B){return B in b?b[B]:B}function P(B,M,Y,q){var re=Array.isArray(M),ee;if((B==="fill"||B==="stroke")&&M==="none")M="";else{if(B==="strokeUniform")return M==="non-scaling-stroke";if(B==="strokeDashArray")M==="none"?M=null:M=M.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(B==="transformMatrix")Y&&Y.transformMatrix?M=a(Y.transformMatrix,i.parseTransformAttribute(M)):M=i.parseTransformAttribute(M);else if(B==="visible")M=M!=="none"&&M!=="hidden",Y&&Y.visible===!1&&(M=!1);else if(B==="opacity")M=parseFloat(M),Y&&typeof Y.opacity<"u"&&(M*=Y.opacity);else if(B==="textAnchor")M=M==="start"?"left":M==="end"?"right":"center";else if(B==="charSpacing")ee=l(M,q)/q*1e3;else if(B==="paintFirst"){var he=M.indexOf("fill"),pe=M.indexOf("stroke"),M="fill";(he>-1&&pe>-1&&pe<he||he===-1&&pe>-1)&&(M="stroke")}else{if(B==="href"||B==="xlink:href"||B==="font")return M;if(B==="imageSmoothing")return M==="optimizeQuality";ee=re?M.map(l):l(M,q)}}return!re&&isNaN(ee)?M:ee}function F(B){return new RegExp("^("+B.join("|")+")\\b","i")}function R(B){for(var M in _)if(!(typeof B[_[M]]>"u"||B[M]==="")){if(typeof B[M]>"u"){if(!i.Object.prototype[M])continue;B[M]=i.Object.prototype[M]}if(B[M].indexOf("url(")!==0){var Y=new i.Color(B[M]);B[M]=Y.setAlpha(s(Y.getAlpha()*B[_[M]],2)).toRgba()}}return B}function j(B,M){var Y,q=[],re,ee,he;for(ee=0,he=M.length;ee<he;ee++)Y=M[ee],re=B.getElementsByTagName(Y),q=q.concat(Array.prototype.slice.call(re));return q}i.parseTransformAttribute=function(){function B(ue,Ee){var Le=i.util.cos(Ee[0]),We=i.util.sin(Ee[0]),rt=0,Ve=0;Ee.length===3&&(rt=Ee[1],Ve=Ee[2]),ue[0]=Le,ue[1]=We,ue[2]=-We,ue[3]=Le,ue[4]=rt-(Le*rt-We*Ve),ue[5]=Ve-(We*rt+Le*Ve)}function M(ue,Ee){var Le=Ee[0],We=Ee.length===2?Ee[1]:Ee[0];ue[0]=Le,ue[3]=We}function Y(ue,Ee,Le){ue[Le]=Math.tan(i.util.degreesToRadians(Ee[0]))}function q(ue,Ee){ue[4]=Ee[0],Ee.length===2&&(ue[5]=Ee[1])}var re=i.iMatrix,ee=i.reNum,he=i.commaWsp,pe="(?:(skewX)\\s*\\(\\s*("+ee+")\\s*\\))",ve="(?:(skewY)\\s*\\(\\s*("+ee+")\\s*\\))",ne="(?:(rotate)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+")"+he+"("+ee+"))?\\s*\\))",V="(?:(scale)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+"))?\\s*\\))",fe="(?:(translate)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+"))?\\s*\\))",ce="(?:(matrix)\\s*\\(\\s*("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")\\s*\\))",te="(?:"+ce+"|"+fe+"|"+V+"|"+ne+"|"+pe+"|"+ve+")",ae="(?:"+te+"(?:"+he+"*"+te+")*)",_e="^\\s*(?:"+ae+"?)\\s*$",Pe=new RegExp(_e),Se=new RegExp(te,"g");return function(ue){var Ee=re.concat(),Le=[];if(!ue||ue&&!Pe.test(ue))return Ee;ue.replace(Se,function(rt){var Ve=new RegExp(te).exec(rt).filter(function(tt){return!!tt}),we=Ve[1],Ie=Ve.slice(2).map(parseFloat);switch(we){case"translate":q(Ee,Ie);break;case"rotate":Ie[0]=i.util.degreesToRadians(Ie[0]),B(Ee,Ie);break;case"scale":M(Ee,Ie);break;case"skewX":Y(Ee,Ie,2);break;case"skewY":Y(Ee,Ie,1);break;case"matrix":Ee=Ie;break}Le.push(Ee.concat()),Ee=re.concat()});for(var We=Le[0];Le.length>1;)Le.shift(),We=i.util.multiplyTransformMatrices(We,Le[0]);return We}}();function H(B,M){var Y,q;B.replace(/;\s*$/,"").split(";").forEach(function(re){var ee=re.split(":");Y=ee[0].trim().toLowerCase(),q=ee[1].trim(),M[Y]=q})}function Z(B,M){var Y,q;for(var re in B)typeof B[re]>"u"||(Y=re.toLowerCase(),q=B[re],M[Y]=q)}function Q(B,M){var Y={};for(var q in i.cssRules[M])if(se(B,q.split(" ")))for(var re in i.cssRules[M][q])Y[re]=i.cssRules[M][q][re];return Y}function se(B,M){var Y,q=!0;return Y=ge(B,M.pop()),Y&&M.length&&(q=le(B,M)),Y&&q&&M.length===0}function le(B,M){for(var Y,q=!0;B.parentNode&&B.parentNode.nodeType===1&&M.length;)q&&(Y=M.pop()),B=B.parentNode,q=ge(B,Y);return M.length===0}function ge(B,M){var Y=B.nodeName,q=B.getAttribute("class"),re=B.getAttribute("id"),ee,he;if(ee=new RegExp("^"+Y,"i"),M=M.replace(ee,""),re&&M.length&&(ee=new RegExp("#"+re+"(?![a-zA-Z\\-]+)","i"),M=M.replace(ee,"")),q&&M.length)for(q=q.split(" "),he=q.length;he--;)ee=new RegExp("\\."+q[he]+"(?![a-zA-Z\\-]+)","i"),M=M.replace(ee,"");return M.length===0}function X(B,M){var Y;if(B.getElementById&&(Y=B.getElementById(M)),Y)return Y;var q,re,ee,he=B.getElementsByTagName("*");for(re=0,ee=he.length;re<ee;re++)if(q=he[re],M===q.getAttribute("id"))return q}function ie(B){for(var M=j(B,["use","svg:use"]),Y=0;M.length&&Y<M.length;){var q=M[Y],re=q.getAttribute("xlink:href")||q.getAttribute("href");if(re===null)return;var ee=re.slice(1),he=q.getAttribute("x")||0,pe=q.getAttribute("y")||0,ve=X(B,ee).cloneNode(!0),ne=(ve.getAttribute("transform")||"")+" translate("+he+", "+pe+")",V,fe=M.length,ce,te,ae,_e,Pe=i.svgNS;if(z(ve),/^svg$/i.test(ve.nodeName)){var Se=ve.ownerDocument.createElementNS(Pe,"g");for(te=0,ae=ve.attributes,_e=ae.length;te<_e;te++)ce=ae.item(te),Se.setAttributeNS(Pe,ce.nodeName,ce.nodeValue);for(;ve.firstChild;)Se.appendChild(ve.firstChild);ve=Se}for(te=0,ae=q.attributes,_e=ae.length;te<_e;te++)ce=ae.item(te),!(ce.nodeName==="x"||ce.nodeName==="y"||ce.nodeName==="xlink:href"||ce.nodeName==="href")&&(ce.nodeName==="transform"?ne=ce.nodeValue+" "+ne:ve.setAttribute(ce.nodeName,ce.nodeValue));ve.setAttribute("transform",ne),ve.setAttribute("instantiated_by_use","1"),ve.removeAttribute("id"),V=q.parentNode,V.replaceChild(ve,q),M.length===fe&&Y++}}var k=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function z(B){if(!i.svgViewBoxElementsRegEx.test(B.nodeName))return{};var M=B.getAttribute("viewBox"),Y=1,q=1,re=0,ee=0,he,pe,ve,ne,V=B.getAttribute("width"),fe=B.getAttribute("height"),ce=B.getAttribute("x")||0,te=B.getAttribute("y")||0,ae=B.getAttribute("preserveAspectRatio")||"",_e=!M||!(M=M.match(k)),Pe=!V||!fe||V==="100%"||fe==="100%",Se=_e&&Pe,ue={},Ee="",Le=0,We=0;if(ue.width=0,ue.height=0,ue.toBeParsed=Se,_e&&(ce||te)&&B.parentNode&&B.parentNode.nodeName!=="#document"&&(Ee=" translate("+l(ce)+" "+l(te)+") ",ve=(B.getAttribute("transform")||"")+Ee,B.setAttribute("transform",ve),B.removeAttribute("x"),B.removeAttribute("y")),Se)return ue;if(_e)return ue.width=l(V),ue.height=l(fe),ue;if(re=-parseFloat(M[1]),ee=-parseFloat(M[2]),he=parseFloat(M[3]),pe=parseFloat(M[4]),ue.minX=re,ue.minY=ee,ue.viewBoxWidth=he,ue.viewBoxHeight=pe,Pe?(ue.width=he,ue.height=pe):(ue.width=l(V),ue.height=l(fe),Y=ue.width/he,q=ue.height/pe),ae=i.util.parsePreserveAspectRatioAttribute(ae),ae.alignX!=="none"&&(ae.meetOrSlice==="meet"&&(q=Y=Y>q?q:Y),ae.meetOrSlice==="slice"&&(q=Y=Y>q?Y:q),Le=ue.width-he*Y,We=ue.height-pe*Y,ae.alignX==="Mid"&&(Le/=2),ae.alignY==="Mid"&&(We/=2),ae.alignX==="Min"&&(Le=0),ae.alignY==="Min"&&(We=0)),Y===1&&q===1&&re===0&&ee===0&&ce===0&&te===0)return ue;if((ce||te)&&B.parentNode.nodeName!=="#document"&&(Ee=" translate("+l(ce)+" "+l(te)+") "),ve=Ee+" matrix("+Y+" 0 0 "+q+" "+(re*Y+Le)+" "+(ee*q+We)+") ",B.nodeName==="svg"){for(ne=B.ownerDocument.createElementNS(i.svgNS,"g");B.firstChild;)ne.appendChild(B.firstChild);B.appendChild(ne)}else ne=B,ne.removeAttribute("x"),ne.removeAttribute("y"),ve=ne.getAttribute("transform")+ve;return ne.setAttribute("transform",ve),ue}function N(B,M){for(;B&&(B=B.parentNode);)if(B.nodeName&&M.test(B.nodeName.replace("svg:",""))&&!B.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(B,M,Y,q){if(B){ie(B);var re=i.Object.__uid++,ee,he,pe=z(B),ve=i.util.toArray(B.getElementsByTagName("*"));if(pe.crossOrigin=q&&q.crossOrigin,pe.svgUid=re,ve.length===0&&i.isLikelyNode){ve=B.selectNodes('//*[name(.)!="svg"]');var ne=[];for(ee=0,he=ve.length;ee<he;ee++)ne[ee]=ve[ee];ve=ne}var V=ve.filter(function(ce){return z(ce),i.svgValidTagNamesRegEx.test(ce.nodeName.replace("svg:",""))&&!N(ce,i.svgInvalidAncestorsRegEx)});if(!V||V&&!V.length){M&&M([],{});return}var fe={};ve.filter(function(ce){return ce.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ce){var te=ce.getAttribute("id");fe[te]=i.util.toArray(ce.getElementsByTagName("*")).filter(function(ae){return i.svgValidTagNamesRegEx.test(ae.nodeName.replace("svg:",""))})}),i.gradientDefs[re]=i.getGradientDefs(B),i.cssRules[re]=i.getCSSRules(B),i.clipPaths[re]=fe,i.parseElements(V,function(ce,te){M&&(M(ce,pe,te,ve),delete i.gradientDefs[re],delete i.cssRules[re],delete i.clipPaths[re])},h(pe),Y,q)}};function W(B,M){var Y=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],q="xlink:href",re=M.getAttribute(q).slice(1),ee=X(B,re);if(ee&&ee.getAttribute(q)&&W(B,ee),Y.forEach(function(pe){ee&&!M.hasAttribute(pe)&&ee.hasAttribute(pe)&&M.setAttribute(pe,ee.getAttribute(pe))}),!M.children.length)for(var he=ee.cloneNode(!0);he.firstChild;)M.appendChild(he.firstChild);M.removeAttribute(q)}var K=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");d(i,{parseFontDeclaration:function(B,M){var Y=B.match(K);if(Y){var q=Y[1],re=Y[3],ee=Y[4],he=Y[5],pe=Y[6];q&&(M.fontStyle=q),re&&(M.fontWeight=isNaN(parseFloat(re))?re:parseFloat(re)),ee&&(M.fontSize=l(ee)),pe&&(M.fontFamily=pe),he&&(M.lineHeight=he==="normal"?1:he)}},getGradientDefs:function(B){var M=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Y=j(B,M),q,re=0,ee={};for(re=Y.length;re--;)q=Y[re],q.getAttribute("xlink:href")&&W(B,q),ee[q.getAttribute("id")]=q;return ee},parseAttributes:function(B,M,Y){if(B){var q,re={},ee,he;typeof Y>"u"&&(Y=B.getAttribute("svgUid")),B.parentNode&&i.svgValidParentsRegEx.test(B.parentNode.nodeName)&&(re=i.parseAttributes(B.parentNode,M,Y));var pe=M.reduce(function(ae,_e){return q=B.getAttribute(_e),q&&(ae[_e]=q),ae},{}),ve=d(Q(B,Y),i.parseStyleAttribute(B));pe=d(pe,ve),ve[T]&&B.setAttribute(T,ve[T]),ee=he=re.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,pe[S]&&(pe[S]=ee=l(pe[S],he));var ne,V,fe={};for(var ce in pe)ne=E(ce),V=P(ne,pe[ce],re,ee),fe[ne]=V;fe&&fe.font&&i.parseFontDeclaration(fe.font,fe);var te=d(re,fe);return i.svgValidParentsRegEx.test(B.nodeName)?te:R(te)}},parseElements:function(B,M,Y,q,re){new i.ElementsParser(B,M,Y,q,re).parse()},parseStyleAttribute:function(B){var M={},Y=B.getAttribute("style");return Y&&(typeof Y=="string"?H(Y,M):Z(Y,M)),M},parsePointsAttribute:function(B){if(!B)return null;B=B.replace(/,/g," ").trim(),B=B.split(/\s+/);var M=[],Y,q;for(Y=0,q=B.length;Y<q;Y+=2)M.push({x:parseFloat(B[Y]),y:parseFloat(B[Y+1])});return M},getCSSRules:function(B){var M=B.getElementsByTagName("style"),Y,q,re={},ee;for(Y=0,q=M.length;Y<q;Y++){var he=M[Y].textContent;he=he.replace(/\/\*[\s\S]*?\*\//g,""),he.trim()!==""&&(ee=he.split("}"),ee=ee.filter(function(pe){return pe.trim()}),ee.forEach(function(pe){var ve=pe.split("{"),ne={},V=ve[1].trim(),fe=V.split(";").filter(function(_e){return _e.trim()});for(Y=0,q=fe.length;Y<q;Y++){var ce=fe[Y].split(":"),te=ce[0].trim(),ae=ce[1].trim();ne[te]=ae}pe=ve[0].trim(),pe.split(",").forEach(function(_e){_e=_e.replace(/^svg/i,"").trim(),_e!==""&&(re[_e]?i.util.object.extend(re[_e],ne):re[_e]=i.util.object.clone(ne))})}))}return re},loadSVGFromURL:function(B,M,Y,q){B=B.replace(/^\n\s*/,"").trim(),new i.util.request(B,{method:"get",onComplete:re});function re(ee){var he=ee.responseXML;if(!he||!he.documentElement)return M&&M(null),!1;i.parseSVGDocument(he.documentElement,function(pe,ve,ne,V){M&&M(pe,ve,ne,V)},Y,q)}},loadSVGFromString:function(B,M,Y,q){var re=new i.window.DOMParser,ee=re.parseFromString(B.trim(),"text/xml");i.parseSVGDocument(ee.documentElement,function(he,pe,ve,ne){M(he,pe,ve,ne)},Y,q)}})}(t),e.ElementsParser=function(c,i,d,h,s,l){this.elements=c,this.callback=i,this.options=d,this.reviver=h,this.svgUid=d&&d.svgUid||0,this.parsingOptions=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(d,h){d.setAttribute("svgUid",i.svgUid),i.createObject(d,h)})},c.findTag=function(i){return e[e.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,d){var h=this.findTag(i);if(h&&h.fromElement)try{h.fromElement(i,this.createCallback(d,i),this.options)}catch(s){e.log(s)}else this.checkIfDone()},c.createCallback=function(i,d){var h=this;return function(s){var l;h.resolveGradient(s,d,"fill"),h.resolveGradient(s,d,"stroke"),s instanceof e.Image&&s._originalElement&&(l=s.parsePreserveAspectRatioAttribute(d)),s._removeTransformMatrix(l),h.resolveClipPath(s,d),h.reviver&&h.reviver(d,s),h.instances[i]=s,h.checkIfDone()}},c.extractPropertyDefinition=function(i,d,h){var s=i[d],l=this.regexUrl;if(l.test(s)){l.lastIndex=0;var a=l.exec(s)[1];return l.lastIndex=0,e[h][this.svgUid][a]}},c.resolveGradient=function(i,d,h){var s=this.extractPropertyDefinition(i,h,"gradientDefs");if(s){var l=d.getAttribute(h+"-opacity"),a=e.Gradient.fromElement(s,i,l,this.options);i.set(h,a)}},c.createClipPathCallback=function(i,d){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,d.push(h)}},c.resolveClipPath=function(i,d){var h=this.extractPropertyDefinition(i,"clipPath","clipPaths"),s,l,a,u,v,f;if(h){u=[],a=e.util.invertTransform(i.calcTransformMatrix());for(var y=h[0].parentNode,b=d;b.parentNode&&b.getAttribute("clip-path")!==i.clipPath;)b=b.parentNode;b.parentNode.appendChild(y);for(var _=0;_<h.length;_++)s=h[_],l=this.findTag(s),l.fromElement(s,this.createClipPathCallback(i,u),this.options);u.length===1?h=u[0]:h=new e.Group(u),v=e.util.multiplyTransformMatrices(a,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,b);var f=e.util.qrDecompose(v);h.flipX=!1,h.flipY=!1,h.set("scaleX",f.scaleX),h.set("scaleY",f.scaleY),h.angle=f.angle,h.skewX=f.skewX,h.skewY=0,h.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),i.clipPath=h}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=d;function d(h,s){this.x=h,this.y=s}d.prototype={type:"point",constructor:d,add:function(h){return new d(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new d(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new d(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new d(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new d(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new d(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,s){return typeof s>"u"&&(s=.5),s=Math.max(Math.min(1,s),0),new d(this.x+(h.x-this.x)*s,this.y+(h.y-this.y)*s)},distanceFrom:function(h){var s=this.x-h.x,l=this.y-h.y;return Math.sqrt(s*s+l*l)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new d(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new d(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,s){return this.x=h,this.y=s,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var s=this.x,l=this.y;this.x=h.x,this.y=h.y,h.x=s,h.y=l},clone:function(){return new d(this.x,this.y)}}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function d(h){this.status=h,this.points=[]}i.Intersection=d,i.Intersection.prototype={constructor:d,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},i.Intersection.intersectLineLine=function(h,s,l,a){var u,v=(a.x-l.x)*(h.y-l.y)-(a.y-l.y)*(h.x-l.x),f=(s.x-h.x)*(h.y-l.y)-(s.y-h.y)*(h.x-l.x),y=(a.y-l.y)*(s.x-h.x)-(a.x-l.x)*(s.y-h.y);if(y!==0){var b=v/y,_=f/y;0<=b&&b<=1&&0<=_&&_<=1?(u=new d("Intersection"),u.appendPoint(new i.Point(h.x+b*(s.x-h.x),h.y+b*(s.y-h.y)))):u=new d}else v===0||f===0?u=new d("Coincident"):u=new d("Parallel");return u},i.Intersection.intersectLinePolygon=function(h,s,l){var a=new d,u=l.length,v,f,y,b;for(b=0;b<u;b++)v=l[b],f=l[(b+1)%u],y=d.intersectLineLine(h,s,v,f),a.appendPoints(y.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(h,s){var l=new d,a=h.length,u;for(u=0;u<a;u++){var v=h[u],f=h[(u+1)%a],y=d.intersectLinePolygon(v,f,s);l.appendPoints(y.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(h,s,l){var a=s.min(l),u=s.max(l),v=new i.Point(u.x,a.y),f=new i.Point(a.x,u.y),y=d.intersectLinePolygon(a,v,h),b=d.intersectLinePolygon(v,u,h),_=d.intersectLinePolygon(u,f,h),S=d.intersectLinePolygon(f,a,h),T=new d;return T.appendPoints(y.points),T.appendPoints(b.points),T.appendPoints(_.points),T.appendPoints(S.points),T.points.length>0&&(T.status="Intersection"),T}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function d(s){s?this._tryParsingColor(s):this.setSource([0,0,0,1])}i.Color=d,i.Color.prototype={_tryParsingColor:function(s){var l;s in d.colorNameMap&&(s=d.colorNameMap[s]),s==="transparent"&&(l=[255,255,255,0]),l||(l=d.sourceFromHex(s)),l||(l=d.sourceFromRgb(s)),l||(l=d.sourceFromHsl(s)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(s,l,a){s/=255,l/=255,a/=255;var u,v,f,y=i.util.array.max([s,l,a]),b=i.util.array.min([s,l,a]);if(f=(y+b)/2,y===b)u=v=0;else{var _=y-b;switch(v=f>.5?_/(2-y-b):_/(y+b),y){case s:u=(l-a)/_+(l<a?6:0);break;case l:u=(a-s)/_+2;break;case a:u=(s-l)/_+4;break}u/=6}return[Math.round(u*360),Math.round(v*100),Math.round(f*100)]},getSource:function(){return this._source},setSource:function(s){this._source=s},toRgb:function(){var s=this.getSource();return"rgb("+s[0]+","+s[1]+","+s[2]+")"},toRgba:function(){var s=this.getSource();return"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"},toHsl:function(){var s=this.getSource(),l=this._rgbToHsl(s[0],s[1],s[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var s=this.getSource(),l=this._rgbToHsl(s[0],s[1],s[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+s[3]+")"},toHex:function(){var s=this.getSource(),l,a,u;return l=s[0].toString(16),l=l.length===1?"0"+l:l,a=s[1].toString(16),a=a.length===1?"0"+a:a,u=s[2].toString(16),u=u.length===1?"0"+u:u,l.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var s=this.getSource(),l;return l=Math.round(s[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(s){var l=this.getSource();return l[3]=s,this.setSource(l),this},toGrayscale:function(){var s=this.getSource(),l=parseInt((s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),10),a=s[3];return this.setSource([l,l,l,a]),this},toBlackWhite:function(s){var l=this.getSource(),a=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),u=l[3];return s=s||127,a=Number(a)<Number(s)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(s){s instanceof d||(s=new d(s));var l=[],a=this.getAlpha(),u=.5,v=this.getSource(),f=s.getSource(),y;for(y=0;y<3;y++)l.push(Math.round(v[y]*(1-u)+f[y]*u));return l[3]=a,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(s,l,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(l-s)*6*a:a<1/2?l:a<2/3?s+(l-s)*(2/3-a)*6:s}i.Color.fromRgb=function(s){return d.fromSource(d.sourceFromRgb(s))},i.Color.sourceFromRgb=function(s){var l=s.match(d.reRGBa);if(l){var a=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),u=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),v=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(v,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=d.fromRgb,i.Color.fromHsl=function(s){return d.fromSource(d.sourceFromHsl(s))},i.Color.sourceFromHsl=function(s){var l=s.match(d.reHSLa);if(l){var a=(parseFloat(l[1])%360+360)%360/360,u=parseFloat(l[2])/(/%$/.test(l[2])?100:1),v=parseFloat(l[3])/(/%$/.test(l[3])?100:1),f,y,b;if(u===0)f=y=b=v;else{var _=v<=.5?v*(u+1):v+u-v*u,S=v*2-_;f=h(S,_,a+1/3),y=h(S,_,a),b=h(S,_,a-1/3)}return[Math.round(f*255),Math.round(y*255),Math.round(b*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=d.fromHsl,i.Color.fromHex=function(s){return d.fromSource(d.sourceFromHex(s))},i.Color.sourceFromHex=function(s){if(s.match(d.reHex)){var l=s.slice(s.indexOf("#")+1),a=l.length===3||l.length===4,u=l.length===8||l.length===4,v=a?l.charAt(0)+l.charAt(0):l.substring(0,2),f=a?l.charAt(1)+l.charAt(1):l.substring(2,4),y=a?l.charAt(2)+l.charAt(2):l.substring(4,6),b=u?a?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(v,16),parseInt(f,16),parseInt(y,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},i.Color.fromSource=function(s){var l=new d;return l.setSource(s),l}}(t),function(c){var i=c.fabric||(c.fabric={}),d=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],s={},l="left",a="top",u="right",v="bottom",f="center",y={top:v,bottom:a,left:u,right:l,center:f},b=i.util.radiansToDegrees,_=Math.sign||function(ne){return(ne>0)-(ne<0)||+ne};function S(ne,V){var fe=ne.angle+b(Math.atan2(V.y,V.x))+360;return Math.round(fe%360/45)}function T(ne,V){var fe=V.transform.target,ce=fe.canvas,te=i.util.object.clone(V);te.target=fe,ce&&ce.fire("object:"+ne,te),fe.fire(ne,V)}function E(ne,V){var fe=V.canvas,ce=fe.uniScaleKey,te=ne[ce];return fe.uniformScaling&&!te||!fe.uniformScaling&&te}function P(ne){return ne.originX===f&&ne.originY===f}function F(ne,V,fe){var ce=ne.lockScalingX,te=ne.lockScalingY;return!!(ce&&te||!V&&(ce||te)&&fe||ce&&V==="x"||te&&V==="y")}function R(ne,V,fe){var ce="not-allowed",te=E(ne,fe),ae="";if(V.x!==0&&V.y===0?ae="x":V.x===0&&V.y!==0&&(ae="y"),F(fe,ae,te))return ce;var _e=S(fe,V);return d[_e]+"-resize"}function j(ne,V,fe){var ce="not-allowed";if(V.x!==0&&fe.lockSkewingY||V.y!==0&&fe.lockSkewingX)return ce;var te=S(fe,V)%4;return h[te]+"-resize"}function H(ne,V,fe){return ne[fe.canvas.altActionKey]?s.skewCursorStyleHandler(ne,V,fe):s.scaleCursorStyleHandler(ne,V,fe)}function Z(ne,V,fe){var ce=ne[fe.canvas.altActionKey];if(V.x===0)return ce?"skewX":"scaleY";if(V.y===0)return ce?"skewY":"scaleX"}function Q(ne,V,fe){return fe.lockRotation?"not-allowed":V.cursorStyle}function se(ne,V,fe,ce){return{e:ne,transform:V,pointer:{x:fe,y:ce}}}function le(ne){return function(V,fe,ce,te){var ae=fe.target,_e=ae.getCenterPoint(),Pe=ae.translateToOriginPoint(_e,fe.originX,fe.originY),Se=ne(V,fe,ce,te);return ae.setPositionByOrigin(Pe,fe.originX,fe.originY),Se}}function ge(ne,V){return function(fe,ce,te,ae){var _e=V(fe,ce,te,ae);return _e&&T(ne,se(fe,ce,te,ae)),_e}}function X(ne,V,fe,ce,te){var ae=ne.target,_e=ae.controls[ne.corner],Pe=ae.canvas.getZoom(),Se=ae.padding/Pe,ue=ae.toLocalPoint(new i.Point(ce,te),V,fe);return ue.x>=Se&&(ue.x-=Se),ue.x<=-Se&&(ue.x+=Se),ue.y>=Se&&(ue.y-=Se),ue.y<=Se&&(ue.y+=Se),ue.x-=_e.offsetX,ue.y-=_e.offsetY,ue}function ie(ne){return ne.flipX!==ne.flipY}function k(ne,V,fe,ce,te){if(ne[V]!==0){var ae=ne._getTransformedDimensions()[ce],_e=te/ae*ne[fe];ne.set(fe,_e)}}function z(ne,V,fe,ce){var te=V.target,ae=te._getTransformedDimensions(0,te.skewY),_e=X(V,V.originX,V.originY,fe,ce),Pe=Math.abs(_e.x*2)-ae.x,Se=te.skewX,ue;Pe<2?ue=0:(ue=b(Math.atan2(Pe/te.scaleX,ae.y/te.scaleY)),V.originX===l&&V.originY===v&&(ue=-ue),V.originX===u&&V.originY===a&&(ue=-ue),ie(te)&&(ue=-ue));var Ee=Se!==ue;if(Ee){var Le=te._getTransformedDimensions().y;te.set("skewX",ue),k(te,"skewY","scaleY","y",Le)}return Ee}function N(ne,V,fe,ce){var te=V.target,ae=te._getTransformedDimensions(te.skewX,0),_e=X(V,V.originX,V.originY,fe,ce),Pe=Math.abs(_e.y*2)-ae.y,Se=te.skewY,ue;Pe<2?ue=0:(ue=b(Math.atan2(Pe/te.scaleY,ae.x/te.scaleX)),V.originX===l&&V.originY===v&&(ue=-ue),V.originX===u&&V.originY===a&&(ue=-ue),ie(te)&&(ue=-ue));var Ee=Se!==ue;if(Ee){var Le=te._getTransformedDimensions().x;te.set("skewY",ue),k(te,"skewX","scaleX","x",Le)}return Ee}function W(ne,V,fe,ce){var te=V.target,ae=te.skewX,_e,Pe=V.originY;if(te.lockSkewingX)return!1;if(ae===0){var Se=X(V,f,f,fe,ce);Se.x>0?_e=l:_e=u}else ae>0&&(_e=Pe===a?l:u),ae<0&&(_e=Pe===a?u:l),ie(te)&&(_e=_e===l?u:l);V.originX=_e;var ue=ge("skewing",le(z));return ue(ne,V,fe,ce)}function K(ne,V,fe,ce){var te=V.target,ae=te.skewY,_e,Pe=V.originX;if(te.lockSkewingY)return!1;if(ae===0){var Se=X(V,f,f,fe,ce);Se.y>0?_e=a:_e=v}else ae>0&&(_e=Pe===l?a:v),ae<0&&(_e=Pe===l?v:a),ie(te)&&(_e=_e===a?v:a);V.originY=_e;var ue=ge("skewing",le(N));return ue(ne,V,fe,ce)}function B(ne,V,fe,ce){var te=V,ae=te.target,_e=ae.translateToOriginPoint(ae.getCenterPoint(),te.originX,te.originY);if(ae.lockRotation)return!1;var Pe=Math.atan2(te.ey-_e.y,te.ex-_e.x),Se=Math.atan2(ce-_e.y,fe-_e.x),ue=b(Se-Pe+te.theta),Ee=!0;if(ae.snapAngle>0){var Le=ae.snapAngle,We=ae.snapThreshold||Le,rt=Math.ceil(ue/Le)*Le,Ve=Math.floor(ue/Le)*Le;Math.abs(ue-Ve)<We?ue=Ve:Math.abs(ue-rt)<We&&(ue=rt)}return ue<0&&(ue=360+ue),ue%=360,Ee=ae.angle!==ue,ae.angle=ue,Ee}function M(ne,V,fe,ce,te){te=te||{};var ae=V.target,_e=ae.lockScalingX,Pe=ae.lockScalingY,Se=te.by,ue,Ee,Le,We,rt=E(ne,ae),Ve=F(ae,Se,rt),we,Ie,tt=V.gestureScale;if(Ve)return!1;if(tt)Ee=V.scaleX*tt,Le=V.scaleY*tt;else{if(ue=X(V,V.originX,V.originY,fe,ce),we=Se!=="y"?_(ue.x):1,Ie=Se!=="x"?_(ue.y):1,V.signX||(V.signX=we),V.signY||(V.signY=Ie),ae.lockScalingFlip&&(V.signX!==we||V.signY!==Ie))return!1;if(We=ae._getTransformedDimensions(),rt&&!Se){var dt=Math.abs(ue.x)+Math.abs(ue.y),gt=V.original,ln=Math.abs(We.x*gt.scaleX/ae.scaleX)+Math.abs(We.y*gt.scaleY/ae.scaleY),Vn=dt/ln;Ee=gt.scaleX*Vn,Le=gt.scaleY*Vn}else Ee=Math.abs(ue.x*ae.scaleX/We.x),Le=Math.abs(ue.y*ae.scaleY/We.y);P(V)&&(Ee*=2,Le*=2),V.signX!==we&&Se!=="y"&&(V.originX=y[V.originX],Ee*=-1,V.signX=we),V.signY!==Ie&&Se!=="x"&&(V.originY=y[V.originY],Le*=-1,V.signY=Ie)}var Te=ae.scaleX,ze=ae.scaleY;return Se?(Se==="x"&&ae.set("scaleX",Ee),Se==="y"&&ae.set("scaleY",Le)):(!_e&&ae.set("scaleX",Ee),!Pe&&ae.set("scaleY",Le)),Te!==ae.scaleX||ze!==ae.scaleY}function Y(ne,V,fe,ce){return M(ne,V,fe,ce)}function q(ne,V,fe,ce){return M(ne,V,fe,ce,{by:"x"})}function re(ne,V,fe,ce){return M(ne,V,fe,ce,{by:"y"})}function ee(ne,V,fe,ce){return ne[V.target.canvas.altActionKey]?s.skewHandlerX(ne,V,fe,ce):s.scalingY(ne,V,fe,ce)}function he(ne,V,fe,ce){return ne[V.target.canvas.altActionKey]?s.skewHandlerY(ne,V,fe,ce):s.scalingX(ne,V,fe,ce)}function pe(ne,V,fe,ce){var te=V.target,ae=X(V,V.originX,V.originY,fe,ce),_e=te.strokeWidth/(te.strokeUniform?te.scaleX:1),Pe=P(V)?2:1,Se=te.width,ue=Math.abs(ae.x*Pe/te.scaleX)-_e;return te.set("width",Math.max(ue,0)),Se!==ue}function ve(ne,V,fe,ce){var te=V.target,ae=fe-V.offsetX,_e=ce-V.offsetY,Pe=!te.get("lockMovementX")&&te.left!==ae,Se=!te.get("lockMovementY")&&te.top!==_e;return Pe&&te.set("left",ae),Se&&te.set("top",_e),(Pe||Se)&&T("moving",se(ne,V,fe,ce)),Pe||Se}s.scaleCursorStyleHandler=R,s.skewCursorStyleHandler=j,s.scaleSkewCursorStyleHandler=H,s.rotationWithSnapping=ge("rotating",le(B)),s.scalingEqually=ge("scaling",le(Y)),s.scalingX=ge("scaling",le(q)),s.scalingY=ge("scaling",le(re)),s.scalingYOrSkewingX=ee,s.scalingXOrSkewingY=he,s.changeWidth=ge("resizing",le(pe)),s.skewHandlerX=W,s.skewHandlerY=K,s.dragHandler=ve,s.scaleOrSkewActionName=Z,s.rotationStyleHandler=Q,s.fireEvent=T,s.wrapWithFixedAnchor=le,s.wrapWithFireEvent=ge,s.getLocalPoint=X,i.controlsUtils=s}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.degreesToRadians,h=i.controlsUtils;function s(a,u,v,f,y){f=f||{};var b=this.sizeX||f.cornerSize||y.cornerSize,_=this.sizeY||f.cornerSize||y.cornerSize,S=typeof f.transparentCorners<"u"?f.transparentCorners:y.transparentCorners,T=S?"stroke":"fill",E=!S&&(f.cornerStrokeColor||y.cornerStrokeColor),P=u,F=v,R;a.save(),a.fillStyle=f.cornerColor||y.cornerColor,a.strokeStyle=f.cornerStrokeColor||y.cornerStrokeColor,b>_?(R=b,a.scale(1,_/b),F=v*b/_):_>b?(R=_,a.scale(b/_,1),P=u*_/b):R=b,a.lineWidth=1,a.beginPath(),a.arc(P,F,R/2,0,2*Math.PI,!1),a[T](),E&&a.stroke(),a.restore()}function l(a,u,v,f,y){f=f||{};var b=this.sizeX||f.cornerSize||y.cornerSize,_=this.sizeY||f.cornerSize||y.cornerSize,S=typeof f.transparentCorners<"u"?f.transparentCorners:y.transparentCorners,T=S?"stroke":"fill",E=!S&&(f.cornerStrokeColor||y.cornerStrokeColor),P=b/2,F=_/2;a.save(),a.fillStyle=f.cornerColor||y.cornerColor,a.strokeStyle=f.cornerStrokeColor||y.cornerStrokeColor,a.lineWidth=1,a.translate(u,v),a.rotate(d(y.angle)),a[T+"Rect"](-P,-F,b,_),E&&a.strokeRect(-P,-F,b,_),a.restore()}h.renderCircleControl=s,h.renderSquareControl=l}(t),function(c){var i=c.fabric||(c.fabric={});function d(h){for(var s in h)this[s]=h[s]}i.Control=d,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,s){return s.cursorStyle},getActionName:function(h,s){return s.actionName},getVisibility:function(h,s){var l=h._controlsVisibility;return l&&typeof l[s]<"u"?l[s]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,s){var l=i.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},s);return l},calcCornerCoords:function(h,s,l,a,u){var v,f,y,b,_=u?this.touchSizeX:this.sizeX,S=u?this.touchSizeY:this.sizeY;if(_&&S&&_!==S){var T=Math.atan2(S,_),E=Math.sqrt(_*_+S*S)/2,P=T-i.util.degreesToRadians(h),F=Math.PI/2-T-i.util.degreesToRadians(h);v=E*i.util.cos(P),f=E*i.util.sin(P),y=E*i.util.cos(F),b=E*i.util.sin(F)}else{var R=_&&S?_:s;E=R*.7071067812;var P=i.util.degreesToRadians(45-h);v=y=E*i.util.cos(P),f=b=E*i.util.sin(P)}return{tl:{x:l-b,y:a-y},tr:{x:l+v,y:a-f},bl:{x:l-v,y:a+f},br:{x:l+b,y:a+y}}},render:function(h,s,l,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,h,s,l,a,u);break;default:i.controlsUtils.renderSquareControl.call(this,h,s,l,a,u)}}}}(t),function(){function c(l,a){var u=l.getAttribute("style"),v=l.getAttribute("offset")||0,f,y,b,_;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,u){var S=u.split(/\s*;\s*/);for(S[S.length-1]===""&&S.pop(),_=S.length;_--;){var T=S[_].split(/\s*:\s*/),E=T[0].trim(),P=T[1].trim();E==="stop-color"?f=P:E==="stop-opacity"&&(b=P)}}return f||(f=l.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=l.getAttribute("stop-opacity")),f=new e.Color(f),y=f.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=y*a,{offset:v,color:f.toRgb(),opacity:b}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function d(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var h=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var a,u=this;Object.keys(l).forEach(function(v){u[v]=l[v]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var a in l){var u=new e.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,a,l),a},toSVG:function(l,y){var u=h(this.coords,!0),v,f,y=y||{},b,_,S=h(this.colorStops,!0),T=u.r1>u.r2,E=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),P=-this.offsetX,F=-this.offsetY,R=!!y.additionalTransform,j=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(S.sort(function(le,ge){return le.offset-ge.offset}),j==="objectBoundingBox"?(P/=l.width,F/=l.height):(P+=l.width/2,F+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(P-=l.pathOffset.x,F-=l.pathOffset.y),E[4]-=P,E[5]-=F,_='id="SVGID_'+this.id+'" gradientUnits="'+j+'"',_+=' gradientTransform="'+(R?y.additionalTransform+" ":"")+e.util.matrixToSVG(E)+'" ',this.type==="linear"?b=["<linearGradient ",_,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",_,' cx="',T?u.x1:u.x2,'" cy="',T?u.y1:u.y2,'" r="',T?u.r1:u.r2,'" fx="',T?u.x2:u.x1,'" fy="',T?u.y2:u.y1,`">
`]),this.type==="radial"){if(T)for(S=S.concat(),S.reverse(),v=0,f=S.length;v<f;v++)S[v].offset=1-S[v].offset;var H=Math.min(u.r1,u.r2);if(H>0){var Z=Math.max(u.r1,u.r2),Q=H/Z;for(v=0,f=S.length;v<f;v++)S[v].offset+=Q*(1-S[v].offset)}}for(v=0,f=S.length;v<f;v++){var se=S[v];b.push("<stop ",'offset="',se.offset*100+"%",'" style="stop-color:',se.color,typeof se.opacity<"u"?";stop-opacity: "+se.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(l){var a,u=e.util.object.clone(this.coords),v,f;if(this.type){for(this.type==="linear"?a=l.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=l.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),v=0,f=this.colorStops.length;v<f;v++){var y=this.colorStops[v].color,b=this.colorStops[v].opacity,_=this.colorStops[v].offset;typeof b<"u"&&(y=new e.Color(y).setAlpha(b).toRgba()),a.addColorStop(_,y)}return a}}}),e.util.object.extend(e.Gradient,{fromElement:function(l,a,u,v){var f=parseFloat(u)/(/%$/.test(u)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var y=l.getElementsByTagName("stop"),b,_=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",S=l.getAttribute("gradientTransform")||"",T=[],E,P,F=0,R=0,j;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(b="linear",E=i(l)):(b="radial",E=d(l)),P=y.length;P--;)T.push(c(y[P],f));j=e.parseTransformAttribute(S),s(a,E,v,_),_==="pixels"&&(F=-a.left,R=-a.top);var H=new e.Gradient({id:l.getAttribute("id"),type:b,coords:E,colorStops:T,gradientUnits:_,gradientTransform:j,offsetX:F,offsetY:R});return H}});function s(l,a,u,v){var f,y;Object.keys(a).forEach(function(b){f=a[b],f==="Infinity"?y=1:f==="-Infinity"?y=0:(y=parseFloat(a[b],10),typeof f=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(y*=.01,v==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(y*=u.viewBoxWidth||u.width),(b==="y1"||b==="y2")&&(y*=u.viewBoxHeight||u.height)))),a[b]=y})}}(),function(){var c=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,d){if(i||(i={}),this.id=e.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){d&&d(this);return}else{var h=this;this.source=e.util.createImage(),e.util.loadImage(i.source,function(s,l){h.source=s,d&&d(h,l)},null,this.crossOrigin)}},toObject:function(i){var d=e.Object.NUM_FRACTION_DIGITS,h,s;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),s={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,d),offsetY:c(this.offsetY,d),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,s,i),s},toSVG:function(i){var d=typeof this.source=="function"?this.source():this.source,h=d.width/i.width,s=d.height/i.height,l=this.offsetX/i.width,a=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(s=1,a&&(s+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,l&&(h+=Math.abs(l))),d.src?u=d.src:d.toDataURL&&(u=d.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+a+'" width="'+h+'" height="'+s+`">
<image x="0" y="0" width="`+d.width+'" height="'+d.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var d in i)this[d]=i[d]},toLive:function(i){var d=this.source;return!d||typeof d.src<"u"&&(!d.complete||d.naturalWidth===0||d.naturalHeight===0)?"":i.createPattern(d,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),d=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var s in h)this[s]=h[s];this.id=i.Object.__uid++},_parseShadow:function(h){var s=h.trim(),l=i.Shadow.reOffsetsAndBlur.exec(s)||[],a=s.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var s=40,l=40,a=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-h.angle)),v=20,f=new i.Color(this.color);return h.width&&h.height&&(s=d((Math.abs(u.x)+this.blur)/h.width,a)*100+v,l=d((Math.abs(u.y)+this.blur)/h.height,a)*100+v),h.flipX&&(u.x*=-1),h.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+s+'%" width="'+(100+2*s)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+d(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+d(u.x,a)+'" dy="'+d(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+f.toRgb()+'" flood-opacity="'+f.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},s=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==s[l]&&(h[l]=this[l])},this),h}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var c=e.util.object.extend,i=e.util.getElementOffset,d=e.util.removeFromArray,h=e.util.toFixed,s=e.util.transformPoint,l=e.util.invertTransform,a=e.util.getNodeCanvas,u=e.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(f,y){y||(y={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,y)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,y){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(y),this.interactive||this._initRetinaScaling(),y.overlayImage&&this.setOverlayImage(y.overlayImage,b),y.backgroundImage&&this.setBackgroundImage(y.backgroundImage,b),y.backgroundColor&&this.setBackgroundColor(y.backgroundColor,b),y.overlayColor&&this.setOverlayColor(y.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=e.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,y,b){y.setAttribute("width",this.width*f),y.setAttribute("height",this.height*f),b.scale(f,f)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(f,y,b){return this.__setBgOverlayImage("overlayImage",f,y,b)},setBackgroundImage:function(f,y,b){return this.__setBgOverlayImage("backgroundImage",f,y,b)},setOverlayColor:function(f,y){return this.__setBgOverlayColor("overlayColor",f,y)},setBackgroundColor:function(f,y){return this.__setBgOverlayColor("backgroundColor",f,y)},__setBgOverlayImage:function(f,y,b,_){return typeof y=="string"?e.util.loadImage(y,function(S,T){if(S){var E=new e.Image(S,_);this[f]=E,E.canvas=this}b&&b(S,T)},this,_&&_.crossOrigin):(_&&y.setOptions(_),this[f]=y,y&&(y.canvas=this),b&&b(y,!1)),this},__setBgOverlayColor:function(f,y,b){return this[f]=y,this._initGradient(y,f),this._initPattern(y,f,b),this},_createCanvasElement:function(){var f=u();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw v;return f},_initOptions:function(f){var y=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(y.width,10)||0,this.height=this.height||parseInt(y.height,10)||0,this.lowerCanvasEl.style&&(y.width=this.width,y.height=this.height,y.style.width=this.width+"px",y.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){f&&f.getContext?this.lowerCanvasEl=f:this.lowerCanvasEl=e.util.getById(f)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,y){return this.setDimensions({width:f},y)},setHeight:function(f,y){return this.setDimensions({height:f},y)},setDimensions:function(f,y){var b;y=y||{};for(var _ in f)b=f[_],y.cssOnly||(this._setBackstoreDimension(_,f[_]),b+="px",this.hasLostContext=!0),y.backstoreOnly||this._setCssDimension(_,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),y.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,y){return this.lowerCanvasEl[f]=y,this.upperCanvasEl&&(this.upperCanvasEl[f]=y),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=y),this[f]=y,this},_setCssDimension:function(f,y){return this.lowerCanvasEl.style[f]=y,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=y),this.wrapperEl&&(this.wrapperEl.style[f]=y),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var y=this._activeObject,b=this.backgroundImage,_=this.overlayImage,S,T,E;for(this.viewportTransform=f,T=0,E=this._objects.length;T<E;T++)S=this._objects[T],S.group||S.setCoords(!0);return y&&y.setCoords(),b&&b.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,y){var b=f,_=this.viewportTransform.slice(0);f=s(f,l(this.viewportTransform)),_[0]=y,_[3]=y;var S=s(f,_);return _[4]+=b.x-S.x,_[5]+=b.y-S.y,this.setViewportTransform(_)},setZoom:function(f){return this.zoomToPoint(new e.Point(0,0),f),this},absolutePan:function(f){var y=this.viewportTransform.slice(0);return y[4]=-f.x,y[5]=-f.y,this.setViewportTransform(y)},relativePan:function(f){return this.absolutePan(new e.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var f=this.contextContainer;return this.renderCanvas(f,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},y=this.width,b=this.height,_=l(this.viewportTransform);return f.tl=s({x:0,y:0},_),f.br=s({x:y,y:b},_),f.tr=new e.Point(f.br.x,f.tl.y),f.bl=new e.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,y){var b=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),e.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(f,y),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var y=this.viewportTransform,b=this.clipPath;f.save(),f.transform(y[0],y[1],y[2],y[3],y[4],y[5]),f.globalCompositeOperation="destination-in",b.transform(f),f.scale(1/b.zoomX,1/b.zoomY),f.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),f.restore()},_renderObjects:function(f,y){var b,_;for(b=0,_=y.length;b<_;++b)y[b]&&y[b].render(f)},_renderBackgroundOrOverlay:function(f,y){var b=this[y+"Color"],_=this[y+"Image"],S=this.viewportTransform,T=this[y+"Vpt"];if(!(!b&&!_)){if(b){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=b.toLive?b.toLive(f,this):b,T&&f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),f.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var E=b.gradientTransform||b.patternTransform;E&&f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),f.fill(),f.restore()}_&&(f.save(),T&&f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),_.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new e.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new e.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var y=this.getCenterPoint();return this._centerObject(f,y)},viewportCenterObject:function(f){var y=this.getVpCenter();return this._centerObject(f,y)},viewportCenterObjectH:function(f){var y=this.getVpCenter();return this._centerObject(f,new e.Point(y.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var y=this.getVpCenter();return this._centerObject(f,new e.Point(f.getCenterPoint().x,y.y))},getVpCenter:function(){var f=this.getCenterPoint(),y=l(this.viewportTransform);return s(f,y)},_centerObject:function(f,y){return f.setPositionByOrigin(y,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,y){var b=this.clipPath,_={version:e.version,objects:this._toObjects(f,y)};return b&&!b.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,f,y)),c(_,this.__serializeBgOverlay(f,y)),e.util.populateWithProperties(this,_,y),_},_toObjects:function(f,y){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,f,y)},this)},_toObject:function(f,y,b){var _;this.includeDefaultValues||(_=f.includeDefaultValues,f.includeDefaultValues=!1);var S=f[y](b);return this.includeDefaultValues||(f.includeDefaultValues=_),S},__serializeBgOverlay:function(f,y){var b={},_=this.backgroundImage,S=this.overlayImage,T=this.backgroundColor,E=this.overlayColor;return T&&T.toObject?T.excludeFromExport||(b.background=T.toObject(y)):T&&(b.background=T),E&&E.toObject?E.excludeFromExport||(b.overlay=E.toObject(y)):E&&(b.overlay=E),_&&!_.excludeFromExport&&(b.backgroundImage=this._toObject(_,f,y)),S&&!S.excludeFromExport&&(b.overlayImage=this._toObject(S,f,y)),b},svgViewportTransformation:!0,toSVG:function(f,y){f||(f={}),f.reviver=y;var b=[];return this._setSVGPreamble(b,f),this._setSVGHeader(b,f),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",y),this._setSVGObjects(b,y),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",y),b.push("</svg>"),b.join("")},_setSVGPreamble:function(f,y){y.suppressPreamble||f.push('<?xml version="1.0" encoding="',y.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(f,y){var b=y.width||this.width,_=y.height||this.height,S,T='viewBox="0 0 '+this.width+" "+this.height+'" ',E=e.Object.NUM_FRACTION_DIGITS;y.viewBox?T='viewBox="'+y.viewBox.x+" "+y.viewBox.y+" "+y.viewBox.width+" "+y.viewBox.height+'" ':this.svgViewportTransformation&&(S=this.viewportTransform,T='viewBox="'+h(-S[4]/S[0],E)+" "+h(-S[5]/S[3],E)+" "+h(this.width/S[0],E)+" "+h(this.height/S[3],E)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',_,'" ',T,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(y),`</defs>
`)},createSVGClipPathMarkup:function(f){var y=this.clipPath;return y?(y.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+y.clipPathId+`" >
`+this.clipPath.toClipPathSVG(f.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var f=this,y=["background","overlay"].map(function(b){var _=f[b+"Color"];if(_&&_.toLive){var S=f[b+"Vpt"],T=f.viewportTransform,E={width:f.width/(S?T[0]:1),height:f.height/(S?T[3]:1)};return _.toSVG(E,{additionalTransform:S?e.util.matrixToSVG(T):""})}});return y.join("")},createSVGFontFacesMarkup:function(){var f="",y={},b,_,S,T,E,P,F,R,j,H=e.fontPaths,Z=[];for(this._objects.forEach(function se(le){Z.push(le),le._objects&&le._objects.forEach(se)}),R=0,j=Z.length;R<j;R++)if(b=Z[R],_=b.fontFamily,!(b.type.indexOf("text")===-1||y[_]||!H[_])&&(y[_]=!0,!!b.styles)){S=b.styles;for(E in S){T=S[E];for(F in T)P=T[F],_=P.fontFamily,!y[_]&&H[_]&&(y[_]=!0)}}for(var Q in y)f+=[`		@font-face {
`,"			font-family: '",Q,`';
`,"			src: url('",H[Q],`');
`,`		}
`].join("");return f&&(f=['	<style type="text/css">',`<![CDATA[
`,f,"]]>",`</style>
`].join("")),f},_setSVGObjects:function(f,y){var b,_,S,T=this._objects;for(_=0,S=T.length;_<S;_++)b=T[_],!b.excludeFromExport&&this._setSVGObject(f,b,y)},_setSVGObject:function(f,y,b){f.push(y.toSVG(b))},_setSVGBgOverlayImage:function(f,y,b){this[y]&&!this[y].excludeFromExport&&this[y].toSVG&&f.push(this[y].toSVG(b))},_setSVGBgOverlayColor:function(f,y){var b=this[y+"Color"],_=this.viewportTransform,S=this.width,T=this.height;if(b)if(b.toLive){var E=b.repeat,P=e.util.invertTransform(_),F=this[y+"Vpt"],R=F?e.util.matrixToSVG(P):"";f.push('<rect transform="'+R+" translate(",S/2,",",T/2,')"',' x="',b.offsetX-S/2,'" y="',b.offsetY-T/2,'" ','width="',E==="repeat-y"||E==="no-repeat"?b.source.width:S,'" height="',E==="repeat-x"||E==="no-repeat"?b.source.height:T,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(f){if(!f)return this;var y=this._activeObject,b,_,S;if(f===y&&f.type==="activeSelection")for(S=y._objects,b=S.length;b--;)_=S[b],d(this._objects,_),this._objects.unshift(_);else d(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var y=this._activeObject,b,_,S;if(f===y&&f.type==="activeSelection")for(S=y._objects,b=0;b<S.length;b++)_=S[b],d(this._objects,_),this._objects.push(_);else d(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,y){if(!f)return this;var b=this._activeObject,_,S,T,E,P,F=0;if(f===b&&f.type==="activeSelection")for(P=b._objects,_=0;_<P.length;_++)S=P[_],T=this._objects.indexOf(S),T>0+F&&(E=T-1,d(this._objects,S),this._objects.splice(E,0,S)),F++;else T=this._objects.indexOf(f),T!==0&&(E=this._findNewLowerIndex(f,T,y),d(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,y,b){var _,S;if(b)for(_=y,S=y-1;S>=0;--S){var T=f.intersectsWithObject(this._objects[S])||f.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(f);if(T){_=S;break}}else _=y-1;return _},bringForward:function(f,y){if(!f)return this;var b=this._activeObject,_,S,T,E,P,F=0;if(f===b&&f.type==="activeSelection")for(P=b._objects,_=P.length;_--;)S=P[_],T=this._objects.indexOf(S),T<this._objects.length-1-F&&(E=T+1,d(this._objects,S),this._objects.splice(E,0,S)),F++;else T=this._objects.indexOf(f),T!==this._objects.length-1&&(E=this._findNewUpperIndex(f,T,y),d(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,y,b){var _,S,T;if(b)for(_=y,S=y+1,T=this._objects.length;S<T;++S){var E=f.intersectsWithObject(this._objects[S])||f.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(f);if(E){_=S;break}}else _=y+1;return _},moveTo:function(f,y){return d(this._objects,f),this._objects.splice(y,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(e.StaticCanvas.prototype,e.Observable),c(e.StaticCanvas.prototype,e.Collection),c(e.StaticCanvas.prototype,e.DataURLExporter),c(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var y=u();if(!y||!y.getContext)return null;var b=y.getContext("2d");if(!b)return null;switch(f){case"setLineDash":return typeof b.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var f=a(this.lowerCanvasEl);return f&&f.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(f){var y=a(this.lowerCanvasEl);return y&&y.createJPEGStream(f)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,d=c.contextTop,h=c.getZoom();c&&c._isRetinaScaling()&&(h*=e.devicePixelRatio),d.shadowColor=i.color,d.shadowBlur=i.blur*h,d.shadowOffsetX=i.offsetX*h,d.shadowOffsetY=i.offsetY*h}},needsFullRender:function(){var c=new e.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,d){var h=i.midPointFrom(d);return c.quadraticCurveTo(i.x,i.y,h.x,h.y),h},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var d=this._points,h=d.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,d[h-2],d[h-1],!0),s.stroke(),s.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new e.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new e.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,d,h=this._points[0],s=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&h.x===s.x&&h.y===s.y){var l=this.width/1e3;h=new e.Point(h.x,h.y),s=new e.Point(s.x,s.y),h.x-=l,s.x+=l}for(c.moveTo(h.x,h.y),i=1,d=this._points.length;i<d;i++)this._drawSegment(c,h,s),h=this._points[i],s=this._points[i+1];c.lineTo(h.x,h.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return e.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=e.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new e.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new e.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var d=this.canvas.getZoom(),h=Math.pow(i/d,2),s,l=c.length-1,a=c[0],u=[a],v;for(s=1;s<l-1;s++)v=Math.pow(a.x-c[s].x,2)+Math.pow(a.y-c[s].y,2),v>=h&&(a=c[s],u.push(a));return u.push(c[l]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var d=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.requestRenderAll(),d.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:d})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),d=this.canvas.contextTop;this._saveAndTransform(d),this.dot(d,i),d.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,d,h=this.points;for(this._saveAndTransform(c),i=0,d=h.length;i<d;i++)this.dot(c,h[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,d;this.canvas.renderOnAddRemove=!1;var h=[];for(i=0,d=this.points.length;i<d;i++){var s=this.points[i],l=new e.Circle({radius:s.radius,left:s.x,top:s.y,originX:"center",originY:"center",fill:s.fill});this.shadow&&(l.shadow=new e.Shadow(this.shadow)),h.push(l)}var a=new e.Group(h);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new e.Point(c.x,c.y),d=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return i.radius=d,i.fill=h,this.points.push(i),i}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],d=0,h=this.sprayChunks.length;d<h;d++)for(var s=this.sprayChunks[d],l=0,a=s.length;l<a;l++){var u=new e.Rect({width:s[l].width,height:s[l].width,left:s[l].x+1,top:s[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var v=new e.Group(i);this.shadow&&v.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},d,h,s;for(h=0,s=c.length;h<s;h++)d=c[h].left+""+c[h].top,i[d]||(i[d]=c[h]);var l=[];for(d in i)l.push(i[d]);return l},render:function(c){var i=this.canvas.contextTop,d,h;for(i.fillStyle=this.color,this._saveAndTransform(i),d=0,h=c.length;d<h;d++){var s=c[d];typeof s.opacity<"u"&&(i.globalAlpha=s.opacity),i.fillRect(s.x,s.y,s.width,s.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,d;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,d=this.sprayChunks.length;i<d;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,d,h,s=this.width/2,l;for(l=0;l<this.density;l++){i=e.util.getRandomInt(c.x-s,c.x+s),d=e.util.getRandomInt(c.y-s,c.y+s),this.dotWidthVariance?h=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var a=new e.Point(i,d);a.width=h,this.randomOpacity&&(a.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var c=20,i=5,d=e.util.createCanvasElement(),h=d.getContext("2d");return d.width=d.height=c+i,h.fillStyle=this.color,h.beginPath(),h.arc(c/2,c/2,c/2,0,Math.PI*2,!1),h.closePath(),h.fill(),d},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),d=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-d.x,offsetY:-d.y}),i}}),function(){var c=e.util.getPointer,i=e.util.degreesToRadians,d=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(s,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var s=this.getActiveObjects(),l,a,u;if(s.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var v=0,f=this._objects.length;v<f;v++)l=this._objects[v],s.indexOf(l)===-1?a.push(l):u.push(l);s.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var s=this.contextContainer;return this.renderCanvas(s,this._chooseObjectsToRender()),this},renderTopLayer:function(s){s.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(s),this.contextTopDirty=!0),s.restore()},renderTop:function(){var s=this.contextTop;return this.clearContext(s),this.renderTopLayer(s),this.fire("after:render"),this},_normalizePointer:function(s,l){var a=s.calcTransformMatrix(),u=e.util.invertTransform(a),v=this.restorePointerVpt(l);return e.util.transformPoint(v,u)},isTargetTransparent:function(s,l,a){if(s.shouldCache()&&s._cacheCanvas&&s!==this._activeObject){var u=this._normalizePointer(s,{x:l,y:a}),v=Math.max(s.cacheTranslationX+u.x*s.zoomX,0),f=Math.max(s.cacheTranslationY+u.y*s.zoomY,0),S=e.util.isTransparent(s._cacheContext,Math.round(v),Math.round(f),this.targetFindTolerance);return S}var y=this.contextCache,b=s.selectionBackgroundColor,_=this.viewportTransform;s.selectionBackgroundColor="",this.clearContext(y),y.save(),y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),s.render(y),y.restore(),s.selectionBackgroundColor=b;var S=e.util.isTransparent(y,l,a,this.targetFindTolerance);return S},_isSelectionKeyPressed:function(s){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(a){return s[a]===!0}):l=s[this.selectionKey],l},_shouldClearSelection:function(s,l){var a=this.getActiveObjects(),u=this._activeObject;return!l||l&&u&&a.length>1&&a.indexOf(l)===-1&&u!==l&&!this._isSelectionKeyPressed(s)||l&&!l.evented||l&&!l.selectable&&u&&u!==l},_shouldCenterTransform:function(s,l,a){if(s){var u;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?u=this.centeredScaling||s.centeredScaling:l==="rotate"&&(u=this.centeredRotation||s.centeredRotation),u?!a:a}},_getOriginFromCorner:function(s,l){var a={x:s.originX,y:s.originY};return l==="ml"||l==="tl"||l==="bl"?a.x="right":(l==="mr"||l==="tr"||l==="br")&&(a.x="left"),l==="tl"||l==="mt"||l==="tr"?a.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(a.y="top"),a},_getActionFromCorner:function(s,l,a,u){if(!l||!s)return"drag";var v=u.controls[l];return v.getActionName(a,v,u)},_setupCurrentTransform:function(s,l,a){if(l){var u=this.getPointer(s),v=l.__corner,f=l.controls[v],y=a&&v?f.getActionHandler(s,l,f):e.controlsUtils.dragHandler,b=this._getActionFromCorner(a,v,s,l),_=this._getOriginFromCorner(l,v),S=s[this.centeredKey],T={target:l,action:b,actionHandler:y,corner:v,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:u.x-l.left,offsetY:u.y-l.top,originX:_.x,originY:_.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:s.shiftKey,altKey:S,original:e.util.saveObjectTransform(l)};this._shouldCenterTransform(l,b,S)&&(T.originX="center",T.originY="center"),T.original.originX=_.x,T.original.originY=_.y,this._currentTransform=T,this._beforeTransform(s)}},setCursor:function(s){this.upperCanvasEl.style.cursor=s},_drawSelection:function(s){var l=this._groupSelector,a=new e.Point(l.ex,l.ey),u=e.util.transformPoint(a,this.viewportTransform),v=new e.Point(l.ex+l.left,l.ey+l.top),f=e.util.transformPoint(v,this.viewportTransform),y=Math.min(u.x,f.x),b=Math.min(u.y,f.y),_=Math.max(u.x,f.x),S=Math.max(u.y,f.y),T=this.selectionLineWidth/2;this.selectionColor&&(s.fillStyle=this.selectionColor,s.fillRect(y,b,_-y,S-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(s.lineWidth=this.selectionLineWidth,s.strokeStyle=this.selectionBorderColor,y+=T,b+=T,_-=T,S-=T,e.Object.prototype._setLineDash.call(this,s,this.selectionDashArray),s.strokeRect(y,b,_-y,S-b))},findTarget:function(s,l){if(!this.skipTargetFind){var a=!0,u=this.getPointer(s,a),v=this._activeObject,f=this.getActiveObjects(),y,b,_=d(s),S=f.length>1&&!l||f.length===1;if(this.targets=[],S&&v._findTargetCorner(u,_)||f.length>1&&!l&&v===this._searchPossibleTargets([v],u))return v;if(f.length===1&&v===this._searchPossibleTargets([v],u))if(this.preserveObjectStacking)y=v,b=this.targets,this.targets=[];else return v;var T=this._searchPossibleTargets(this._objects,u);return s[this.altSelectionKey]&&T&&y&&T!==y&&(T=y,this.targets=b),T}},_checkTarget:function(s,l,a){if(l&&l.visible&&l.evented&&l.containsPoint(s))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var u=this.isTargetTransparent(l,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(s,l){for(var a,u=s.length,v;u--;){var f=s[u],y=f.group?this._normalizePointer(f.group,l):l;if(this._checkTarget(y,f,l)){a=s[u],a.subTargetCheck&&a instanceof e.Group&&(v=this._searchPossibleTargets(a._objects,l),v&&this.targets.push(v));break}}return a},restorePointerVpt:function(s){return e.util.transformPoint(s,e.util.invertTransform(this.viewportTransform))},getPointer:function(s,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var a=c(s),u=this.upperCanvasEl,v=u.getBoundingClientRect(),f=v.width||0,y=v.height||0,b;(!f||!y)&&("top"in v&&"bottom"in v&&(y=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(f=Math.abs(v.right-v.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,l||(a=this.restorePointerVpt(a));var _=this.getRetinaScaling();return _!==1&&(a.x/=_,a.y/=_),f===0||y===0?b={width:1,height:1}:b={width:u.width/f,height:u.height/y},{x:a.x*b.width,y:a.y*b.height}},_createUpperCanvas:function(){var s=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),e.util.addClass(a,"upper-canvas "+s),this.wrapperEl.appendChild(a),this._copyCanvasStyle(l,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(s){var l=this.width||s.width,a=this.height||s.height;e.util.setStyle(s,{position:"absolute",width:l+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),s.width=l,s.height=a,e.util.makeElementUnselectable(s)},_copyCanvasStyle:function(s,l){l.style.cssText=s.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var s=this._activeObject;return s?s.type==="activeSelection"&&s._objects?s._objects.slice(0):[s]:[]},_onObjectRemoved:function(s){s===this._activeObject&&(this.fire("before:selection:cleared",{target:s}),this._discardActiveObject(),this.fire("selection:cleared",{target:s}),s.fire("deselected")),s===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",s)},_fireSelectionEvents:function(s,l){var a=!1,u=this.getActiveObjects(),v=[],f=[];s.forEach(function(y){u.indexOf(y)===-1&&(a=!0,y.fire("deselected",{e:l,target:y}),f.push(y))}),u.forEach(function(y){s.indexOf(y)===-1&&(a=!0,y.fire("selected",{e:l,target:y}),v.push(y))}),s.length>0&&u.length>0?a&&this.fire("selection:updated",{e:l,selected:v,deselected:f}):u.length>0?this.fire("selection:created",{e:l,selected:v}):s.length>0&&this.fire("selection:cleared",{e:l,deselected:f})},setActiveObject:function(s,l){var a=this.getActiveObjects();return this._setActiveObject(s,l),this._fireSelectionEvents(a,l),this},_setActiveObject:function(s,l){return this._activeObject===s||!this._discardActiveObject(l,s)||s.onSelect({e:l})?!1:(this._activeObject=s,!0)},_discardActiveObject:function(s,l){var a=this._activeObject;if(a){if(a.onDeselect({e:s,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(s){var l=this.getActiveObjects(),a=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:a,e:s}),this._discardActiveObject(s),this._fireSelectionEvents(l,s),this},dispose:function(){var s=this.wrapperEl;return this.removeListeners(),s.removeChild(this.upperCanvasEl),s.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){e.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),s.parentNode&&s.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(s){var l=this._activeObject;l&&l._renderControls(s)},_toObject:function(s,l,a){var u=this._realizeGroupTransformOnObject(s),v=this.callSuper("_toObject",s,l,a);return this._unwindGroupTransformOnObject(s,u),v},_realizeGroupTransformOnObject:function(s){if(s.group&&s.group.type==="activeSelection"&&this._activeObject===s.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return l.forEach(function(u){a[u]=s[u]}),e.util.addTransformToObject(s,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(s,l){l&&s.set(l)},_setSVGObject:function(s,l,a){var u=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",s,l,a),this._unwindGroupTransformOnObject(l,u)},setViewportTransform:function(s){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,s)}});for(var h in e.StaticCanvas)h!=="prototype"&&(e.Canvas[h]=e.StaticCanvas[h])}(),function(){var c=e.util.addListener,i=e.util.removeListener,d=3,h=2,s=1,l={passive:!1};function a(u,v){return u.button&&u.button===v-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,v){var f=this.upperCanvasEl,y=this._getEventPrefix();u(e.window,"resize",this._onResize),u(f,y+"down",this._onMouseDown),u(f,y+"move",this._onMouseMove,l),u(f,y+"out",this._onMouseOut),u(f,y+"enter",this._onMouseEnter),u(f,"wheel",this._onMouseWheel),u(f,"contextmenu",this._onContextMenu),u(f,"dblclick",this._onDoubleClick),u(f,"dragover",this._onDragOver),u(f,"dragenter",this._onDragEnter),u(f,"dragleave",this._onDragLeave),u(f,"drop",this._onDrop),this.enablePointerEvents||u(f,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](f,"gesture",this._onGesture),eventjs[v](f,"drag",this._onDrag),eventjs[v](f,"orientation",this._onOrientationChange),eventjs[v](f,"shake",this._onShake),eventjs[v](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(e.document,u+"up",this._onMouseUp),i(e.document,"touchend",this._onTouchEnd,l),i(e.document,u+"move",this._onMouseMove,l),i(e.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,v){this.__onTransformGesture&&this.__onTransformGesture(u,v)},_onDrag:function(u,v){this.__onDrag&&this.__onDrag(u,v)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:u}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:u});var f=this;this._hoveredTargets.forEach(function(y){f.fire("mouse:out",{target:v,e:u}),y&&v.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,v){this.__onOrientationChange&&this.__onOrientationChange(u,v)},_onShake:function(u,v){this.__onShake&&this.__onShake(u,v)},_onLongPress:function(u,v){this.__onLongPress&&this.__onLongPress(u,v)},_onDragOver:function(u){u.preventDefault();var v=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(v,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var v=u.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();c(e.document,"touchend",this._onTouchEnd,l),c(e.document,"touchmove",this._onMouseMove,l),i(v,f+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();i(v,f+"move",this._onMouseMove,l),c(e.document,f+"up",this._onMouseUp),c(e.document,f+"move",this._onMouseMove,l)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();i(e.document,"touchend",this._onTouchEnd,l),i(e.document,"touchmove",this._onMouseMove,l);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(f.upperCanvasEl,v+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(u)&&(i(e.document,f+"up",this._onMouseUp),i(e.document,f+"move",this._onMouseMove,l),c(v,f+"move",this._onMouseMove,l))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var v=this._activeObject;return!!v!=!!u||v&&u&&v!==u?!0:(v&&v.isEditing,!1)},__onMouseUp:function(u){var v,f=this._currentTransform,y=this._groupSelector,b=!1,_=!y||y.left===0&&y.top===0;if(this._cacheTransformEventData(u),v=this._target,this._handleEvent(u,"up:before"),a(u,d)){this.fireRightClick&&this._handleEvent(u,"up",d,_);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"up",h,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(f&&(this._finalizeCurrentTransform(u),b=f.actionPerformed),!_){var S=v===this._activeObject;this._maybeGroupObjects(u),b||(b=this._shouldRender(v)||!S&&v===this._activeObject)}var T,E;if(v){if(T=v._findTargetCorner(this.getPointer(u,!0),e.util.isTouchEvent(u)),v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,u),b=!0;else{var P=v.controls[T],F=P&&P.getMouseUpHandler(u,v,P);F&&(E=this.getPointer(u),F(u,f,E.x,E.y))}v.isMoving=!1}if(f&&(f.target!==v||f.corner!==T)){var R=f.target&&f.target.controls[f.corner],j=R&&R.getMouseUpHandler(u,v,P);E=E||this.getPointer(u),j&&j(u,f,E.x,E.y)}this._setCursorFromEvent(u,v),this._handleEvent(u,"up",s,_),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),b?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(u,v){var f=this.findTarget(v),y=this.targets,b={e:v,target:f,subTargets:y};if(this.fire(u,b),f&&f.fire(u,b),!y)return f;for(var _=0;_<y.length;_++)y[_].fire(u,b);return f},_handleEvent:function(u,v,f,y){var b=this._target,_=this.targets||[],S={e:u,target:b,subTargets:_,button:f||s,isClick:y||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(S.currentTarget=this.findTarget(u),S.currentSubTargets=this.targets),this.fire("mouse:"+v,S),b&&b.fire("mouse"+v,S);for(var T=0;T<_.length;T++)_[T].fire("mouse"+v,S)},_finalizeCurrentTransform:function(u){var v=this._currentTransform,f=v.target,y={e:u,target:f,transform:v,action:v.action};f._scaling&&(f._scaling=!1),f.setCoords(),(v.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",y)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var v=this.getPointer(u);this.freeDrawingBrush.onMouseDown(v,{e:u,pointer:v}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var v=this.getPointer(u);this.freeDrawingBrush.onMouseMove(v,{e:u,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var v=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:v}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var v=this._target;if(a(u,d)){this.fireRightClick&&this._handleEvent(u,"down",d);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var f=this._pointer;this._previousPointer=f;var y=this._shouldRender(v),b=this._shouldGroup(u,v);if(this._shouldClearSelection(u,v)?this.discardActiveObject(u):b&&(this._handleGrouping(u,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var _=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,u);var S=v._findTargetCorner(this.getPointer(u,!0),e.util.isTouchEvent(u));if(v.__corner=S,v===this._activeObject&&(S||!b)){this._setupCurrentTransform(u,v,_);var T=v.controls[S],f=this.getPointer(u),E=T&&T.getMouseDownHandler(u,v,T);E&&E(u,this._currentTransform,f.x,f.y)}}this._handleEvent(u,"down"),(y||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:u,transform:v})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var v,f;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var y=this._groupSelector;y?(f=this._absolutePointer,y.left=f.x-y.ex,y.top=f.y-y.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(v=this.findTarget(u)||null,this._setCursorFromEvent(u,v),this._fireOverOutEvents(v,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,v){var f=this._hoveredTarget,y=this._hoveredTargets,b=this.targets,_=Math.max(y.length,b.length);this.fireSyntheticInOutEvents(u,v,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(b[S],v,{oldTarget:y[S],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,v){var f=this._draggedoverTarget,y=this._hoveredTargets,b=this.targets,_=Math.max(y.length,b.length);this.fireSyntheticInOutEvents(u,v,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(b[S],v,{oldTarget:y[S],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,v,f){var y,b,_=f.oldTarget,S,T,E=_!==u,P=f.canvasEvtIn,F=f.canvasEvtOut;E&&(y={e:v,target:u,previousTarget:_},b={e:v,target:_,nextTarget:u}),T=u&&E,S=_&&E,S&&(F&&this.fire(F,b),_.fire(f.evtOut,b)),T&&(P&&this.fire(P,y),u.fire(f.evtIn,y))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var v=this.getPointer(u),f=this._currentTransform;f.reset=!1,f.shiftKey=u.shiftKey,f.altKey=u[this.centeredKey],this._performTransformAction(u,f,v),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,v,f){var y=f.x,b=f.y,_=v.action,S=!1,T=v.actionHandler;T&&(S=T(u,v,y,b)),_==="drag"&&S&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||S},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(u,v){if(!v)return this.setCursor(this.defaultCursor),!1;var f=v.hoverCursor||this.hoverCursor,y=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!y||!y.contains(v))&&v._findTargetCorner(this.getPointer(u,!0));b?this.setCursor(this.getCornerCursor(b,v,u)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(_){f=_.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(u,v,f){var y=v.controls[u];return y.cursorStyleHandler(f,y,v)}})}(),function(){var c=Math.min,i=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(d,h){var s=this._activeObject;return s&&this._isSelectionKeyPressed(d)&&h&&h.selectable&&this.selection&&(s!==h||s.type==="activeSelection")&&!h.onSelect({e:d})},_handleGrouping:function(d,h){var s=this._activeObject;s.__corner||h===s&&(h=this.findTarget(d,!0),!h||!h.selectable)||(s&&s.type==="activeSelection"?this._updateActiveSelection(h,d):this._createActiveSelection(h,d))},_updateActiveSelection:function(d,h){var s=this._activeObject,l=s._objects.slice(0);s.contains(d)?(s.removeWithUpdate(d),this._hoveredTarget=d,this._hoveredTargets=this.targets.concat(),s.size()===1&&this._setActiveObject(s.item(0),h)):(s.addWithUpdate(d),this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,h)},_createActiveSelection:function(d,h){var s=this.getActiveObjects(),l=this._createGroup(d);this._hoveredTarget=l,this._setActiveObject(l,h),this._fireSelectionEvents(s,h)},_createGroup:function(d){var h=this._objects,s=h.indexOf(this._activeObject)<h.indexOf(d),l=s?[this._activeObject,d]:[d,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(d){var h=this._collectObjects(d),s;h.length===1?this.setActiveObject(h[0],d):h.length>1&&(s=new e.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(s,d))},_collectObjects:function(d){for(var h=[],s,l=this._groupSelector.ex,a=this._groupSelector.ey,u=l+this._groupSelector.left,v=a+this._groupSelector.top,f=new e.Point(c(l,u),c(a,v)),y=new e.Point(i(l,u),i(a,v)),b=!this.selectionFullyContained,_=l===u&&a===v,S=this._objects.length;S--&&(s=this._objects[S],!(!(!s||!s.selectable||!s.visible)&&(b&&s.intersectsWithRect(f,y,!0)||s.isContainedWithinRect(f,y,!0)||b&&s.containsPoint(f,null,!0)||b&&s.containsPoint(y,null,!0))&&(h.push(s),_))););return h.length>1&&(h=h.filter(function(T){return!T.onSelect({e:d})})),h},_maybeGroupObjects:function(d){this.selection&&this._groupSelector&&this._groupSelectedObjects(d),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",d=c.quality||1,h=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),s=this.toCanvasElement(h,c);return e.util.toDataURL(s,i,d)},toCanvasElement:function(c,i){c=c||1,i=i||{};var d=(i.width||this.width)*c,h=(i.height||this.height)*c,s=this.getZoom(),l=this.width,a=this.height,u=s*c,v=this.viewportTransform,f=(v[4]-(i.left||0))*c,y=(v[5]-(i.top||0))*c,b=this.interactive,_=[u,0,0,u,f,y],S=this.enableRetinaScaling,T=e.util.createCanvasElement(),E=this.contextTop;return T.width=d,T.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=d,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(T.getContext("2d"),this._objects),this.viewportTransform=v,this.width=l,this.height=a,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=S,this.contextTop=E,T}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(c,i,d){if(c){var h=typeof c=="string"?JSON.parse(c):e.util.object.clone(c),s=this,l=h.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(u){s.clear(),s._setBgOverlay(h,function(){l?s._enlivenObjects([l],function(v){s.clipPath=v[0],s.__setupCanvas.call(s,h,u,a,i)}):s.__setupCanvas.call(s,h,u,a,i)})},d),this}},__setupCanvas:function(c,i,d,h){var s=this;i.forEach(function(l,a){s.insertAt(l,a)}),this.renderOnAddRemove=d,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),h&&h()},_setBgOverlay:function(c,i){var d={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var h=function(){d.backgroundImage&&d.overlayImage&&d.backgroundColor&&d.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,d,h),this.__setBgOverlay("overlayImage",c.overlayImage,d,h),this.__setBgOverlay("backgroundColor",c.background,d,h),this.__setBgOverlay("overlayColor",c.overlay,d,h)},__setBgOverlay:function(c,i,d,h){var s=this;if(!i){d[c]=!0,h&&h();return}c==="backgroundImage"||c==="overlayImage"?e.util.enlivenObjects([i],function(l){s[c]=l[0],d[c]=!0,h&&h()}):this["set"+e.util.string.capitalize(c,!0)](i,function(){d[c]=!0,h&&h()})},_enlivenObjects:function(c,i,d){if(!c||c.length===0){i&&i([]);return}e.util.enlivenObjects(c,function(h){i&&i(h)},null,d)},_toDataURL:function(c,i){this.clone(function(d){i(d.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,d){this.clone(function(h){d(h.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var d=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(h){h.loadFromJSON(d,function(){c&&c(h)})})},cloneWithoutData:function(c){var i=e.util.createCanvasElement();i.width=this.width,i.height=this.height;var d=new e.Canvas(i);this.backgroundImage?(d.setBackgroundImage(this.backgroundImage.src,function(){d.renderAll(),c&&c(d)}),d.backgroundImageOpacity=this.backgroundImageOpacity,d.backgroundImageStretch=this.backgroundImageStretch):c&&c(d)}}),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.util.object.clone,s=i.util.toFixed,l=i.util.string.capitalize,a=i.util.degreesToRadians,u=!i.isLikelyNode,v=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var y=i.perfLimitSizeTotal,b=f.width,_=f.height,S=i.maxCacheSideLimit,T=i.minCacheSideLimit;if(b<=S&&_<=S&&b*_<=y)return b<T&&(f.width=T),_<T&&(f.height=T),f;var E=b/_,P=i.util.limitDimsByArea(E,y),F=i.util.capValue,R=F(T,P.x,S),j=F(T,P.y,S);return b>R&&(f.zoomX/=b/R,f.width=R,f.capped=!0),_>j&&(f.zoomY/=_/j,f.height=j,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),y=this._getTransformedDimensions(0,0),b=y.x*f.scaleX/this.scaleX,_=y.y*f.scaleY/this.scaleY;return{width:b+v,height:_+v,zoomX:f.scaleX,zoomY:f.scaleY,x:b,y:_}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var y=f._currentTransform.target,b=f._currentTransform.action;if(this===y&&b.slice&&b.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,S=this._limitCacheSize(this._getCacheCanvasDimensions()),T=i.minCacheSideLimit,E=S.width,P=S.height,F,R,j=S.zoomX,H=S.zoomY,Z=E!==this.cacheWidth||P!==this.cacheHeight,Q=this.zoomX!==j||this.zoomY!==H,se=Z||Q,le=0,ge=0,X=!1;if(Z){var ie=this._cacheCanvas.width,k=this._cacheCanvas.height,z=E>ie||P>k,N=(E<ie*.9||P<k*.9)&&ie>T&&k>T;X=z||N,z&&!S.capped&&(E>T||P>T)&&(le=E*.1,ge=P*.1)}return this instanceof i.Text&&this.path&&(se=!0,X=!0,le+=this.getHeightOfLine(0)*this.zoomX,ge+=this.getHeightOfLine(0)*this.zoomY),se?(X?(_.width=Math.ceil(E+le),_.height=Math.ceil(P+ge)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),F=S.x/2,R=S.y/2,this.cacheTranslationX=Math.round(_.width/2-F)+F,this.cacheTranslationY=Math.round(_.height/2-R)+R,this.cacheWidth=E,this.cacheHeight=P,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(j,H),this.zoomX=j,this.zoomY=H,!0):!1},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var y=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,b=this.calcTransformMatrix(!y);f.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(f){var y=i.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:s(this.left,y),top:s(this.top,y),width:s(this.width,y),height:s(this.height,y),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:s(this.strokeWidth,y),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:s(this.strokeMiterLimit,y),scaleX:s(this.scaleX,y),scaleY:s(this.scaleY,y),angle:s(this.angle,y),flipX:this.flipX,flipY:this.flipY,opacity:s(this.opacity,y),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:s(this.skewX,y),skewY:s(this.skewY,y)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(f),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,b,f),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var y=i.util.getKlass(f.type).prototype,b=y.stateProperties;return b.forEach(function(_){_==="left"||_==="top"||(f[_]===y[_]&&delete f[_],Array.isArray(f[_])&&Array.isArray(y[_])&&f[_].length===0&&y[_].length===0&&delete f[_])}),f},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),y=f.scaleX,b=f.scaleY;if(this.canvas){var _=this.canvas.getZoom(),S=this.canvas.getRetinaScaling();y*=_*S,b*=_*S}return{scaleX:y,scaleY:b}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,y){var b=f==="scaleX"||f==="scaleY",_=this[f]!==y,S=!1;return b&&(y=this._constrainScale(y)),f==="scaleX"&&y<0?(this.flipX=!this.flipX,y*=-1):f==="scaleY"&&y<0?(this.flipY=!this.flipY,y*=-1):f==="shadow"&&y&&!(y instanceof i.Shadow)?y=new i.Shadow(y):f==="dirty"&&this.group&&this.group.set("dirty",y),this[f]=y,_&&(S=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,S&&this.group.set("dirty",!0)):S&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(f,y){if(f.save(),y.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",y.absolutePositioned){var b=i.util.invertTransform(this.calcTransformMatrix());f.transform(b[0],b[1],b[2],b[3],b[4],b[5])}y.transform(f),f.scale(1/y.zoomX,1/y.zoomY),f.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),f.restore()},drawObject:function(f,y){var b=this.fill,_=this.stroke;y?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=b,this.stroke=_},_drawClipPath:function(f,y){y&&(y.canvas=this.canvas,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,y))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var y=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-b/2,y,b)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var y=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-y.x/2,-y.y/2,y.x,y.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,y){var b=y.stroke;b&&(f.lineWidth=y.strokeWidth,f.lineCap=y.strokeLineCap,f.lineDashOffset=y.strokeDashOffset,f.lineJoin=y.strokeLineJoin,f.miterLimit=y.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(f,b):(f.strokeStyle=b.toLive(f,this),this._applyPatternGradientTransform(f,b)):f.strokeStyle=y.stroke)},_setFillStyles:function(f,y){var b=y.fill;b&&(b.toLive?(f.fillStyle=b.toLive(f,this),this._applyPatternGradientTransform(f,y.fill)):f.fillStyle=b)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,y){!y||y.length===0||(1&y.length&&y.push.apply(y,y),f.setLineDash(y))},_renderControls:function(f,y){var b=this.getViewportTransform(),_=this.calcTransformMatrix(),S,T,E;y=y||{},T=typeof y.hasBorders<"u"?y.hasBorders:this.hasBorders,E=typeof y.hasControls<"u"?y.hasControls:this.hasControls,_=i.util.multiplyTransformMatrices(b,_),S=i.util.qrDecompose(_),f.save(),f.translate(S.translateX,S.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(S.angle-=180),f.rotate(a(this.group?S.angle:this.angle)),y.forActiveSelection||this.group?T&&this.drawBordersInGroup(f,S,y):T&&this.drawBorders(f,y),E&&this.drawControls(f,y),f.restore()},_setShadow:function(f){if(this.shadow){var y=this.shadow,b=this.canvas,_,S=b&&b.viewportTransform[0]||1,T=b&&b.viewportTransform[3]||1;y.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),b&&b._isRetinaScaling()&&(S*=i.devicePixelRatio,T*=i.devicePixelRatio),f.shadowColor=y.color,f.shadowBlur=y.blur*i.browserShadowBlurConstant*(S+T)*(_.scaleX+_.scaleY)/4,f.shadowOffsetX=y.offsetX*S*_.scaleX,f.shadowOffsetY=y.offsetY*T*_.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,y){if(!y||!y.toLive)return{offsetX:0,offsetY:0};var b=y.gradientTransform||y.patternTransform,_=-this.width/2+y.offsetX||0,S=-this.height/2+y.offsetY||0;return y.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,_,S):f.transform(1,0,0,1,_,S),b&&f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:_,offsetY:S}},_renderPaintInOrder:function(f){this.paintFirst==="stroke"?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var y=this.getObjectScaling();f.scale(1/y.scaleX,1/y.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,y){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),_=i.util.createCanvasElement(),S,T=this.canvas.getRetinaScaling(),E=b.x/this.scaleX/T,P=b.y/this.scaleY/T;_.width=E,_.height=P,S=_.getContext("2d"),S.beginPath(),S.moveTo(0,0),S.lineTo(E,0),S.lineTo(E,P),S.lineTo(0,P),S.closePath(),S.translate(E/2,P/2),S.scale(b.zoomX/this.scaleX/T,b.zoomY/this.scaleY/T),this._applyPatternGradientTransform(S,y),S.fillStyle=y.toLive(f),S.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(T*this.scaleX/b.zoomX,T*this.scaleY/b.zoomY),f.strokeStyle=S.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var y=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),y=i.util.transformPoint(y,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,y.x+=f.offsetLeft,y.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(y,"center","center")},clone:function(f,y){var b=this.toObject(y);this.constructor.fromObject?this.constructor.fromObject(b,f):i.Object._fromObject("Object",b,f)},cloneAsImage:function(f,y){var b=this.toCanvasElement(y);return f&&f(new i.Image(b)),this},toCanvasElement:function(f){f||(f={});var y=i.util,b=y.saveObjectTransform(this),_=this.group,S=this.shadow,T=Math.abs,E=(f.multiplier||1)*(f.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,f.withoutTransform&&y.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var P=i.util.createCanvasElement(),F=this.getBoundingRect(!0,!0),R=this.shadow,j,H={x:0,y:0},Z,Q,se;R&&(Z=R.blur,R.nonScaling?j={scaleX:1,scaleY:1}:j=this.getObjectScaling(),H.x=2*Math.round(T(R.offsetX)+Z)*T(j.scaleX),H.y=2*Math.round(T(R.offsetY)+Z)*T(j.scaleY)),Q=F.width+H.x,se=F.height+H.y,P.width=Math.ceil(Q),P.height=Math.ceil(se);var le=new i.StaticCanvas(P,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});f.format==="jpeg"&&(le.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(le.width/2,le.height/2),"center","center");var ge=this.canvas;le.add(this);var X=le.toCanvasElement(E||1,f);return this.shadow=S,this.set("canvas",ge),_&&(this.group=_),this.set(b).setCoords(),le._objects=[],le.dispose(),le=null,X},toDataURL:function(f){return f||(f={}),i.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var y=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return y&&this._setOriginToCenter(),this.set("angle",f),y&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,y){y=y||this.canvas.getPointer(f);var b=new i.Point(y.x,y.y),_=this._getLeftTopCoords();return this.angle&&(b=i.util.rotatePoint(b,_,a(-this.angle))),{x:b.x-_.x,y:b.y-_.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),d(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(f,y,b,_){var S=i[f];y=h(y,!0),i.util.enlivenPatterns([y.fill,y.stroke],function(T){typeof T[0]<"u"&&(y.fill=T[0]),typeof T[1]<"u"&&(y.stroke=T[1]),i.util.enlivenObjectEnlivables(y,y,function(){var E=_?new S(y[_],y):new S(y);b&&b(E)})})},i.Object.__uid=0)}(t),function(){var c=e.util.degreesToRadians,i={left:-.5,center:0,right:.5},d={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(h,s,l,a,u){var v=h.x,f=h.y,y,b,_;return typeof s=="string"?s=i[s]:s-=.5,typeof a=="string"?a=i[a]:a-=.5,y=a-s,typeof l=="string"?l=d[l]:l-=.5,typeof u=="string"?u=d[u]:u-=.5,b=u-l,(y||b)&&(_=this._getTransformedDimensions(),v=h.x+y*_.x,f=h.y+b*_.y),new e.Point(v,f)},translateToCenterPoint:function(h,s,l){var a=this.translateToGivenOrigin(h,s,l,"center","center");return this.angle?e.util.rotatePoint(a,h,c(this.angle)):a},translateToOriginPoint:function(h,s,l){var a=this.translateToGivenOrigin(h,"center","center",s,l);return this.angle?e.util.rotatePoint(a,h,c(this.angle)):a},getCenterPoint:function(){var h=new e.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,s){var l=this.getCenterPoint();return this.translateToOriginPoint(l,h,s)},toLocalPoint:function(h,s,l){var a=this.getCenterPoint(),u,v;return typeof s<"u"&&typeof l<"u"?u=this.translateToGivenOrigin(a,"center","center",s,l):u=new e.Point(this.left,this.top),v=new e.Point(h.x,h.y),this.angle&&(v=e.util.rotatePoint(v,a,-c(this.angle))),v.subtractEquals(u)},setPositionByOrigin:function(h,s,l){var a=this.translateToCenterPoint(h,s,l),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(h){var s=c(this.angle),l=this.getScaledWidth(),a=e.util.cos(s)*l,u=e.util.sin(s)*l,v,f;typeof this.originX=="string"?v=i[this.originX]:v=this.originX-.5,typeof h=="string"?f=i[h]:f=h-.5,this.left+=a*(f-v),this.top+=u*(f-v),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(l){return[new e.Point(l.tl.x,l.tl.y),new e.Point(l.tr.x,l.tr.y),new e.Point(l.br.x,l.br.y),new e.Point(l.bl.x,l.bl.y)]}var i=e.util,d=i.degreesToRadians,h=i.multiplyTransformMatrices,s=i.transformPoint;i.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,a){return a?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,a){return c(this._getCoords(l,a))},intersectsWithRect:function(l,a,u,v){var f=this.getCoords(u,v),y=e.Intersection.intersectPolygonRectangle(f,l,a);return y.status==="Intersection"},intersectsWithObject:function(l,a,u){var v=e.Intersection.intersectPolygonPolygon(this.getCoords(a,u),l.getCoords(a,u));return v.status==="Intersection"||l.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(l,a,u)},isContainedWithinObject:function(l,a,u){for(var v=this.getCoords(a,u),f=a?l.aCoords:l.lineCoords,y=0,b=l._getImageLines(f);y<4;y++)if(!l.containsPoint(v[y],b))return!1;return!0},isContainedWithinRect:function(l,a,u,v){var f=this.getBoundingRect(u,v);return f.left>=l.x&&f.left+f.width<=a.x&&f.top>=l.y&&f.top+f.height<=a.y},containsPoint:function(l,y,u,v){var f=this._getCoords(u,v),y=y||this._getImageLines(f),b=this._findCrossPoints(l,y);return b!==0&&b%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,v=this.getCoords(!0,l);return v.some(function(f){return f.x<=u.x&&f.x>=a.x&&f.y<=u.y&&f.y>=a.y})||this.intersectsWithRect(a,u,!0,l)?!0:this._containsCenterOfCanvas(a,u,l)},_containsCenterOfCanvas:function(l,a,u){var v={x:(l.x+a.x)/2,y:(l.y+a.y)/2};return!!this.containsPoint(v,null,!0,u)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,l))return!0;var v=this.getCoords(!0,l).every(function(f){return(f.x>=u.x||f.x<=a.x)&&(f.y>=u.y||f.y<=a.y)});return v&&this._containsCenterOfCanvas(a,u,l)},_getImageLines:function(l){var a={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return a},_findCrossPoints:function(l,a){var u,v,f,y,b,_=0,S;for(var T in a)if(S=a[T],!(S.o.y<l.y&&S.d.y<l.y)&&!(S.o.y>=l.y&&S.d.y>=l.y)&&(S.o.x===S.d.x&&S.o.x>=l.x?b=S.o.x:(u=0,v=(S.d.y-S.o.y)/(S.d.x-S.o.x),f=l.y-u*l.x,y=S.o.y-v*S.o.x,b=-(f-y)/(u-v)),b>=l.x&&(_+=1),_===2))break;return _},getBoundingRect:function(l,a){var u=this.getCoords(l,a);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/u)},scaleToHeight:function(l,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/u)},calcLineCoords:function(){var l=this.getViewportTransform(),a=this.padding,u=d(this.angle),v=i.cos(u),f=i.sin(u),y=v*a,b=f*a,_=y+b,S=y-b,T=this.calcACoords(),E={tl:s(T.tl,l),tr:s(T.tr,l),bl:s(T.bl,l),br:s(T.br,l)};return a&&(E.tl.x-=S,E.tl.y-=_,E.tr.x+=_,E.tr.y-=S,E.bl.x-=_,E.bl.y+=S,E.br.x+=S,E.br.y+=_),E},calcOCoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),v=h(u,a),f=h(v,l),f=h(f,[1/u[0],0,0,1/u[3],0,0]),y=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(_,S,T){b[S]=_.positionHandler(y,f,T)}),b},calcACoords:function(){var l=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=h(a,l),v=this._getTransformedDimensions(),f=v.x/2,y=v.y/2;return{tl:s({x:-f,y:-y},u),tr:s({x:f,y:-y},u),bl:s({x:-f,y},u),br:s({x:f,y},u)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="_",u="";return!l&&this.group&&(u=this.group.transformMatrixKey(l)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var a=this.calcOwnMatrix();if(l||!this.group)return a;var u=this.transformMatrixKey(l),v=this.matrixCache||(this.matrixCache={});return v.key===u?v.value:(this.group&&(a=h(this.group.calcTransformMatrix(!1),a)),v.key=u,v.value=a,a)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var u=this._calcTranslateMatrix(),v={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=l,a.value=i.composeMatrix(v),a.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,a=this.width+l,u=this.height+l;return{x:a,y:u}},_getTransformedDimensions:function(l,a){typeof l>"u"&&(l=this.skewX),typeof a>"u"&&(a=this.skewY);var u,v,f,y=l===0&&a===0;if(this.strokeUniform?(v=this.width,f=this.height):(u=this._getNonTransformedDimensions(),v=u.x,f=u.y),y)return this._finalizeDimensions(v*this.scaleX,f*this.scaleY);var b=i.sizeAfterTransform(v,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:a});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(l,a){return this.strokeUniform?{x:l+this.strokeWidth,y:a+this.strokeWidth}:{x:l,y:a}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions(),u=s(a,l,!0);return u.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(d,h){if(h){if(h.toLive)return d+": url(#SVGID_"+h.id+"); ";var s=new e.Color(h),l=d+": "+s.toRgb()+"; ",a=s.getAlpha();return a!==1&&(l+=d+"-opacity: "+a.toString()+"; "),l}else return d+": none; "}var i=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(d){var h=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",y=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",_=d?"":this.getSvgFilter(),S=c("fill",this.fill),T=c("stroke",this.stroke);return[T,"stroke-width: ",s,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",f,"; ",S,"fill-rule: ",h,"; ","opacity: ",y,";",_,b].join("")},getSvgSpanStyles:function(d,h){var s="; ",a=d.fontFamily?"font-family: "+(d.fontFamily.indexOf("'")===-1&&d.fontFamily.indexOf('"')===-1?"'"+d.fontFamily+"'":d.fontFamily)+s:"",l=d.strokeWidth?"stroke-width: "+d.strokeWidth+s:"",a=a,u=d.fontSize?"font-size: "+d.fontSize+"px"+s:"",v=d.fontStyle?"font-style: "+d.fontStyle+s:"",f=d.fontWeight?"font-weight: "+d.fontWeight+s:"",y=d.fill?c("fill",d.fill):"",b=d.stroke?c("stroke",d.stroke):"",_=this.getSvgTextDecoration(d),S=d.deltaY?"baseline-shift: "+-d.deltaY+"; ":"";return _&&(_="text-decoration: "+_+s),[b,l,a,u,v,f,_,y,S,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(d){return["overline","underline","line-through"].filter(function(h){return d[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(d,h){var s=d?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+e.util.matrixToSVG(s);return l+(h||"")+'" '},_setSVGBg:function(d){if(this.backgroundColor){var h=e.Object.NUM_FRACTION_DIGITS;d.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,h),'" y="',i(-this.height/2,h),'" width="',i(this.width,h),'" height="',i(this.height,h),`"></rect>
`)}},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(d),{reviver:d})},toClipPathSVG:function(d){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(d),{reviver:d})},_createBaseClipPathSVGMarkup:function(d,h){h=h||{};var s=h.reviver,l=h.additionalTransform||"",a=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),u=d.indexOf("COMMON_PARTS");return d[u]=a,s?s(d.join("")):d.join("")},_createBaseSVGMarkup:function(d,h){h=h||{};var s=h.noStyle,l=h.reviver,a=s?"":'style="'+this.getSvgStyles()+'" ',u=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",y=v&&v.absolutePositioned,b=this.stroke,_=this.fill,S=this.shadow,T,E=[],P,F=d.indexOf("COMMON_PARTS"),R=h.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+e.Object.__uid++,P='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(l)+`</clipPath>
`),y&&E.push("<g ",u,this.getSvgCommons(),` >
`),E.push("<g ",this.getSvgTransform(!1),y?"":u+this.getSvgCommons(),` >
`),T=[a,f,s?"":this.addPaintOrder()," ",R?'transform="'+R+'" ':""].join(""),d[F]=T,_&&_.toLive&&E.push(_.toSVG(this)),b&&b.toLive&&E.push(b.toSVG(this)),S&&E.push(S.toSVG(this)),v&&E.push(P),E.push(d.join("")),E.push(`</g>
`),y&&E.push(`</g>
`),l?l(E.join("")):E.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=e.util.object.extend,i="stateProperties";function d(s,l,a){var u={},v=!0;a.forEach(function(f){u[f]=s[f]}),c(s[l],u,v)}function h(s,l,a){if(s===l)return!0;if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(var u=0,v=s.length;u<v;u++)if(!h(s[u],l[u]))return!1;return!0}else if(s&&typeof s=="object"){var f=Object.keys(s),y;if(!l||typeof l!="object"||!a&&f.length!==Object.keys(l).length)return!1;for(var u=0,v=f.length;u<v;u++)if(y=f[u],!(y==="canvas"||y==="group")&&!h(s[y],l[y]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(s){s=s||i;var l="_"+s;return Object.keys(this[l]).length<this[s].length?!0:!h(this[l],this,!0)},saveState:function(s){var l=s&&s.propertySet||i,a="_"+l;return this[a]?(d(this,a,this[l]),s&&s.stateProperties&&d(this,a,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var l=s.propertySet||i;return s.propertySet=l,this["_"+l]={},this.saveState(s),this}})}(),function(){var c=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(i,d){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=i.x,s=i.y,l,a,u=Object.keys(this.oCoords),v=u.length-1,f;for(this.__corner=0;v>=0;v--)if(f=u[v],!!this.isControlVisible(f)&&(a=this._getImageLines(d?this.oCoords[f].touchCorner:this.oCoords[f].corner),l=this._findCrossPoints({x:h,y:s},a),l!==0&&l%2===1))return this.__corner=f,f;return!1},forEachControl:function(i){for(var d in this.controls)i(this.controls[d],d,this)},_setCornerCoords:function(){var i=this.oCoords;for(var d in i){var h=this.controls[d];i[d].corner=h.calcCornerCoords(this.angle,this.cornerSize,i[d].x,i[d].y,!1),i[d].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,i[d].x,i[d].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var d=this.getCenterPoint(),h=this._calculateCurrentDimensions(),s=this.canvas.viewportTransform;return i.translate(d.x,d.y),i.scale(1/s[0],1/s[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-h.x/2,-h.y/2,h.x,h.y),i.restore(),this},drawBorders:function(i,d){d=d||{};var h=this._calculateCurrentDimensions(),s=this.borderScaleFactor,l=h.x+s,a=h.y+s,u=typeof d.hasControls<"u"?d.hasControls:this.hasControls,v=!1;return i.save(),i.strokeStyle=d.borderColor||this.borderColor,this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-a/2,l,a),u&&(i.beginPath(),this.forEachControl(function(f,y,b){f.withConnection&&f.getVisibility(b,y)&&(v=!0,i.moveTo(f.x*l,f.y*a),i.lineTo(f.x*l+f.offsetX,f.y*a+f.offsetY))}),v&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,d,h){h=h||{};var s=e.util.sizeAfterTransform(this.width,this.height,d),l=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,v=s.x+l*(a?this.canvas.getZoom():d.scaleX)+u,f=s.y+l*(a?this.canvas.getZoom():d.scaleY)+u;return i.save(),this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeStyle=h.borderColor||this.borderColor,i.strokeRect(-v/2,-f/2,v,f),i.restore(),this},drawControls:function(i,d){d=d||{},i.save();var h=this.canvas.getRetinaScaling(),s,l;return i.setTransform(h,0,0,h,0,0),i.strokeStyle=i.fillStyle=d.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=d.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,d.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,v){l=v.oCoords[u],a.getVisibility(v,u)&&(s&&(l=e.util.transformPoint(l,s)),a.render(i,l.x,l.y,d,v))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,d){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=d,this},setControlsVisibility:function(i){i||(i={});for(var d in i)this.setControlVisible(d,i[d]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var d=function(){},h=i.onComplete||d,s=i.onChange||d,l=this;return e.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),l.requestRenderAll(),s()},onComplete:function(){c.setCoords(),h()}})},fxCenterObjectV:function(c,i){i=i||{};var d=function(){},h=i.onComplete||d,s=i.onChange||d,l=this;return e.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),l.requestRenderAll(),s()},onComplete:function(){c.setCoords(),h()}})},fxRemove:function(c,i){i=i||{};var d=function(){},h=i.onComplete||d,s=i.onChange||d,l=this;return e.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),l.requestRenderAll(),s()},onComplete:function(){l.remove(c),h()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,d,h=[];for(i in arguments[0])c.push(i);for(var s=0,l=c.length;s<l;s++)i=c[s],d=s!==l-1,h.push(this._animate(i,arguments[0][i],arguments[1],d));return h}else return this._animate.apply(this,arguments)},_animate:function(c,i,d,h){var s=this,l;i=i.toString(),d?d=e.util.object.clone(d):d={},~c.indexOf(".")&&(l=c.split("."));var a=s.colorProperties.indexOf(c)>-1||l&&s.colorProperties.indexOf(l[1])>-1,u=l?this.get(l[0])[l[1]]:this.get(c);"from"in d||(d.from=u),a||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var v={target:this,startValue:d.from,endValue:i,byValue:d.by,easing:d.easing,duration:d.duration,abort:d.abort&&function(f,y,b){return d.abort.call(s,f,y,b)},onChange:function(f,y,b){l?s[l[0]][l[1]]=f:s.set(c,f),!h&&d.onChange&&d.onChange(f,y,b)},onComplete:function(f,y,b){h||(s.setCoords(),d.onComplete&&d.onComplete(f,y,b))}};return a?e.util.animateColor(v.startValue,v.endValue,v.duration,v):e.util.animate(v)}}),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.util.object.clone,s={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof s[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var v=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return d(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,v=a*this.width*.5,f=u*this.height*.5,y=a*this.width*-.5,b=u*this.height*-.5;return{x1:v,x2:y,y1:f,y2:b}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,u,v){v=v||{};var f=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),y=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];u(new i.Line(y,d(f,v)))},i.Line.fromObject=function(a,u){function v(y){delete y.points,u&&u(y)}var f=h(a,!0);f.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",f,v,"points")};function l(a,u){var v=a.origin,f=a.axis1,y=a.axis2,b=a.dimension,_=u.nearest,S=u.center,T=u.farthest;return function(){switch(this.get(v)){case _:return Math.min(this.get(f),this.get(y));case S:return Math.min(this.get(f),this.get(y))+.5*this.get(b);case T:return Math.max(this.get(f),this.get(y))}}}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(s,l){return this.callSuper("_set",s,l),s==="radius"&&this.setRadius(l),this},toObject:function(s){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(s))},_toSVG:function(){var s,l=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)s=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var v=d(this.startAngle),f=d(this.endAngle),y=this.radius,b=i.util.cos(v)*y,_=i.util.sin(v)*y,S=i.util.cos(f)*y,T=i.util.sin(f)*y,E=u>180?"1":"0";s=['<path d="M '+b+" "+_," A "+y+" "+y," 0 ",+E+" 1"," "+S+" "+T,'" ',"COMMON_PARTS",` />
`]}return s},_render:function(s){s.beginPath(),s.arc(0,0,this.radius,d(this.startAngle),d(this.endAngle),!1),this._renderPaintInOrder(s)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(s){return this.radius=s,this.set("width",s*2).set("height",s*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(s,l){var a=i.parseAttributes(s,i.Circle.ATTRIBUTE_NAMES);if(!h(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,l(new i.Circle(a))};function h(s){return"radius"in s&&s.radius>=0}i.Circle.fromObject=function(s,l){i.Object._fromObject("Circle",s,l)}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(d){var h=this.width/2,s=this.height/2;d.beginPath(),d.moveTo(-h,s),d.lineTo(0,-s),d.lineTo(h,s),d.closePath(),this._renderPaintInOrder(d)},_toSVG:function(){var d=this.width/2,h=this.height/2,s=[-d+" "+h,"0 "+-h,d+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',s,'" />']}}),i.Triangle.fromObject=function(d,h){return i.Object._fromObject("Triangle",d,h)}}(t),function(c){var i=c.fabric||(c.fabric={}),d=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,s){switch(this.callSuper("_set",h,s),h){case"rx":this.rx=s,this.set("width",s*2);break;case"ry":this.ry=s,this.set("height",s*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,d,!1),h.restore(),this._renderPaintInOrder(h)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(h,s){var l=i.parseAttributes(h,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,s(new i.Ellipse(l))},i.Ellipse.fromObject=function(h,s){i.Object._fromObject("Ellipse",h,s)}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var s=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,v=-this.width/2,f=-this.height/2,y=s!==0||l!==0,b=1-.5522847498;h.beginPath(),h.moveTo(v+s,f),h.lineTo(v+a-s,f),y&&h.bezierCurveTo(v+a-b*s,f,v+a,f+b*l,v+a,f+l),h.lineTo(v+a,f+u-l),y&&h.bezierCurveTo(v+a,f+u-b*l,v+a-b*s,f+u,v+a-s,f+u),h.lineTo(v+s,f+u),y&&h.bezierCurveTo(v+b*s,f+u,v,f+u-b*l,v,f+u-l),h.lineTo(v,f+l),y&&h.bezierCurveTo(v,f+b*l,v+b*s,f,v+s,f),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,s=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',s,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(h,s,l){if(!h)return s(null);l=l||{};var a=i.parseAttributes(h,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new i.Rect(d(l?i.util.object.clone(l):{},a));u.visible=u.visible&&u.width>0&&u.height>0,s(u)},i.Rect.fromObject=function(h,s){return i.Object._fromObject("Rect",h,s)}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.util.array.min,s=i.util.array.max,l=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,v){v=v||{},this.points=u||[],this.callSuper("initialize",v),this._setPositionDimensions(v)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var v=this._calcDimensions(u),f,y=this.exactBoundingBox?this.strokeWidth:0;this.width=v.width-y,this.height=v.height-y,u.fromSVG||(f=this.translateToGivenOrigin({x:v.left-this.strokeWidth/2+y/2,y:v.top-this.strokeWidth/2+y/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?v.left:f.x),typeof u.top>"u"&&(this.top=u.fromSVG?v.top:f.y),this.pathOffset={x:v.left+this.width/2+y/2,y:v.top+this.height/2+y/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,v=h(u,"x")||0,f=h(u,"y")||0,y=s(u,"x")||0,b=s(u,"y")||0,_=y-v,S=b-f;return{left:v,top:f,width:_,height:S}},toObject:function(u){return d(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],v=this.pathOffset.x,f=this.pathOffset.y,y=i.Object.NUM_FRACTION_DIGITS,b=0,_=this.points.length;b<_;b++)u.push(l(this.points[b].x-v,y),",",l(this.points[b].y-f,y)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var v,f=this.points.length,y=this.pathOffset.x,b=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-y,this.points[0].y-b);for(var _=0;_<f;_++)v=this.points[_],u.lineTo(v.x-y,v.y-b);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(v,f,y){if(!v)return f(null);y||(y={});var b=i.parsePointsAttribute(v.getAttribute("points")),_=i.parseAttributes(v,i[u].ATTRIBUTE_NAMES);_.fromSVG=!0,f(new i[u](b,d(_,y)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,v){return i.Object._fromObject("Polyline",u,v,"points")}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return d(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(h,s){i.Object._fromObject("Polygon",h,s,"points")}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.array.min,h=i.util.array.max,s=i.util.object.extend,l=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,v){v=l(v||{}),delete v.path,this.callSuper("initialize",v),this._setPath(u||[],v)},_setPath:function(u,v){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,v||{})},_renderPathCommands:function(u){var v,f=0,y=0,b=0,_=0,S=0,T=0,E=-this.pathOffset.x,P=-this.pathOffset.y;u.beginPath();for(var F=0,R=this.path.length;F<R;++F)switch(v=this.path[F],v[0]){case"L":b=v[1],_=v[2],u.lineTo(b+E,_+P);break;case"M":b=v[1],_=v[2],f=b,y=_,u.moveTo(b+E,_+P);break;case"C":b=v[5],_=v[6],S=v[3],T=v[4],u.bezierCurveTo(v[1]+E,v[2]+P,S+E,T+P,b+E,_+P);break;case"Q":u.quadraticCurveTo(v[1]+E,v[2]+P,v[3]+E,v[4]+P),b=v[3],_=v[4],S=v[1],T=v[2];break;case"z":case"Z":b=f,_=y,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return s(this.callSuper("toObject",u),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(u){var v=this.toObject(["sourcePath"].concat(u));return v.sourcePath&&delete v.path,v},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:v})},toSVG:function(u){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],v=[],f,y=0,b=0,_=0,S=0,T,E=0,P=this.path.length;E<P;++E){switch(f=this.path[E],f[0]){case"L":_=f[1],S=f[2],T=[];break;case"M":_=f[1],S=f[2],y=_,b=S,T=[];break;case"C":T=i.util.getBoundsOfCurve(_,S,f[1],f[2],f[3],f[4],f[5],f[6]),_=f[5],S=f[6];break;case"Q":T=i.util.getBoundsOfCurve(_,S,f[1],f[2],f[1],f[2],f[3],f[4]),_=f[3],S=f[4];break;case"z":case"Z":_=y,S=b;break}T.forEach(function(se){u.push(se.x),v.push(se.y)}),u.push(_),v.push(S)}var F=d(u)||0,R=d(v)||0,j=h(u)||0,H=h(v)||0,Z=j-F,Q=H-R;return{left:F,top:R,width:Z,height:Q}}}),i.Path.fromObject=function(u,v){if(typeof u.sourcePath=="string"){var f=u.sourcePath;i.loadSVGFromURL(f,function(y){var b=y[0];b.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(_){b.clipPath=_[0],v&&v(b)}):v&&v(b)})}else i.Object._fromObject("Path",u,v,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,v,f){var y=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);y.fromSVG=!0,v(new i.Path(y.d,s(y,f)))}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.array.min,h=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(s,l,a){l=l||{},this._objects=[],a&&this.callSuper("initialize",l),this._objects=s||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var v=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var s=!0,l=this._objects.length;l--;)this._objects[l].setCoords(s)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],l)},_updateObjectCoords:function(s,l){var a=s.left,u=s.top,v=!0;s.set({left:a-l.x,top:u-l.y}),s.group=this,s.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),s&&(l&&i.util.removeTransformFromObject(s,this.group.calcTransformMatrix()),this._objects.push(s),s.group=this,s._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(s){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(s){this.dirty=!0,s.group=this,s._set("canvas",this.canvas)},_onObjectRemoved:function(s){this.dirty=!0,delete s.group},_set:function(s,l){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(s,l);if(s==="canvas")for(;a--;)this._objects[a]._set(s,l);i.Object.prototype._set.call(this,s,l)},toObject:function(s){var l=this.includeDefaultValues,a=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var f=v.includeDefaultValues;v.includeDefaultValues=l;var y=v.toObject(s);return v.includeDefaultValues=f,y}),u=i.Object.prototype.toObject.call(this,s);return u.objects=a,u},toDatalessObject:function(s){var l,a=this.sourcePath;if(a)l=a;else{var u=this.includeDefaultValues;l=this._objects.map(function(f){var y=f.includeDefaultValues;f.includeDefaultValues=u;var b=f.toDatalessObject(s);return f.includeDefaultValues=y,b})}var v=i.Object.prototype.toDatalessObject.call(this,s);return v.objects=l,v},render:function(s){this._transformDone=!0,this.callSuper("render",s),this._transformDone=!1},shouldCache:function(){var s=i.Object.prototype.shouldCache.call(this);if(s){for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return s},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var s=0,l=this._objects.length;s<l;s++)if(this._objects[s].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(s){for(var l=0,a=this._objects.length;l<a;l++)this._objects[l].render(s);this._drawClipPath(s,this.clipPath)},isCacheDirty:function(s){if(this.callSuper("isCacheDirty",s))return!0;if(!this.statefullCache)return!1;for(var l=0,a=this._objects.length;l<a;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-v/2,u,v)}return!0}return!1},_restoreObjectsState:function(){var s=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,s),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(s){s.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var s=this._objects,l=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new i.ActiveSelection([]);return u.set(a),u.type="activeSelection",l.remove(this),s.forEach(function(v){v.group=u,v.dirty=!0,l.add(v)}),u.canvas=l,u._objects=s,l._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var s=!0;return this.forEachObject(function(l){l.setCoords(s)}),this},_calcBounds:function(s){for(var l=[],a=[],u,v,f,y=["tr","br","bl","tl"],b=0,_=this._objects.length,S,T=y.length;b<_;++b){for(u=this._objects[b],f=u.calcACoords(),S=0;S<T;S++)v=y[S],l.push(f[v].x),a.push(f[v].y);u.aCoords=f}this._getBounds(l,a,s)},_getBounds:function(s,l,a){var u=new i.Point(d(s),d(l)),v=new i.Point(h(s),h(l)),f=u.y||0,y=u.x||0,b=v.x-u.x||0,_=v.y-u.y||0;this.width=b,this.height=_,a||this.setPositionByOrigin({x:y,y:f},"left","top")},_toSVG:function(s){for(var l=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)l.push("		",this._objects[a].toSVG(s));return l.push(`</g>
`),l},getSvgStyles:function(){var s=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[s,this.getSvgFilter(),l].join("")},toClipPathSVG:function(s){for(var l=[],a=0,u=this._objects.length;a<u;a++)l.push("	",this._objects[a].toClipPathSVG(s));return this._createBaseClipPathSVGMarkup(l,{reviver:s})}}),i.Group.fromObject=function(s,l){var a=s.objects,u=i.util.object.clone(s,!0);if(delete u.objects,typeof a=="string"){i.loadSVGFromURL(a,function(v){var f=i.util.groupSVGElements(v,s,a),y=u.clipPath;delete u.clipPath,f.set(u),y?i.util.enlivenObjects([y],function(b){f.clipPath=b[0],l&&l(f)}):l&&l(f)});return}i.util.enlivenObjects(a,function(v){i.util.enlivenObjectEnlivables(s,u,function(){l&&l(new i.Group(v,u,!0))})})})}(t),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(d,h){h=h||{},this._objects=d||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var d=this._objects.concat();this._objects=[];var h=i.Object.prototype.toObject.call(this),s=new i.Group([]);if(delete h.type,s.set(h),d.forEach(function(a){a.canvas.remove(a),a.group=s}),s._objects=d,!this.canvas)return s;var l=this.canvas;return l.add(s),l._activeObject=s,s.setCoords(),s},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(d,h,s){d.save(),d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",d,h),s=s||{},typeof s.hasControls>"u"&&(s.hasControls=!1),s.forActiveSelection=!0;for(var l=0,a=this._objects.length;l<a;l++)this._objects[l]._renderControls(d,s);d.restore()}}),i.ActiveSelection.fromObject=function(d,h){i.util.enlivenObjects(d.objects,function(s){delete d.objects,h&&h(new i.ActiveSelection(s,d,!0))})})}(t),function(c){var i=e.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(d,h){h||(h={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",h),this._initElement(d,h)},getElement:function(){return this._element||{}},setElement:function(d,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=d,this._originalElement=d,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(d){var h=e.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(d)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(d){e.util.cleanUpJsdomNode(this[d]),this[d]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var d=this.getElement();return{width:d.naturalWidth||d.width,height:d.naturalHeight||d.height}},_stroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,s=this.height/2;d.beginPath(),d.moveTo(-h,-s),d.lineTo(h,-s),d.lineTo(h,s),d.lineTo(-h,s),d.lineTo(-h,-s),d.closePath()}},toObject:function(d){var h=[];this.filters.forEach(function(l){l&&h.push(l.toObject())});var s=i(this.callSuper("toObject",["cropX","cropY"].concat(d)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(s.resizeFilter=this.resizeFilter.toObject()),s},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var d=[],h=[],s,l=this._element,a=-this.width/2,u=-this.height/2,v="",f="";if(!l)return[];if(this.hasCrop()){var y=e.Object.__uid++;d.push('<clipPath id="imageCrop_'+y+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+y+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,f,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,s=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?d=d.concat(s,h):d=d.concat(h,s),d},getSrc:function(d){var h=d?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(d,h,s){return e.util.loadImage(d,function(l,a){this.setElement(l,s),this._setWidthHeight(),h&&h(this,a)},this,s&&s.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var d=this.resizeFilter,h=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),l=s.scaleX,a=s.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!d||l>h&&a>h){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=a;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var v=e.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,y=u.width,b=u.height;v.width=y,v.height=b,this._element=v,this._lastScaleX=d.scaleX=l,this._lastScaleY=d.scaleY=a,e.filterBackend.applyFilters([d],u,y,b,this._element,f),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(d){if(d=d||this.filters||[],d=d.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),d.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,s=h.naturalWidth||h.width,l=h.naturalHeight||h.height;if(this._element===this._originalElement){var a=e.util.createCanvasElement();a.width=s,a.height=l,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,l),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(d,this._originalElement,s,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(d){e.util.setImageSmoothing(d,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(d),this._renderPaintInOrder(d)},drawCacheOnCanvas:function(d){e.util.setImageSmoothing(d,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,d)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(d){var h=this._element;if(h){var s=this._filterScalingX,l=this._filterScalingY,a=this.width,u=this.height,v=Math.min,f=Math.max,y=f(this.cropX,0),b=f(this.cropY,0),_=h.naturalWidth||h.width,S=h.naturalHeight||h.height,T=y*s,E=b*l,P=v(a*s,_-T),F=v(u*l,S-E),R=-a/2,j=-u/2,H=v(a,_/s-y),Z=v(u,S/l-b);h&&d.drawImage(h,T,E,P,F,R,j,H,Z)}},_needsResize:function(){var d=this.getTotalObjectScaling();return d.scaleX!==this._lastScaleX||d.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(d,h){this.setElement(e.util.getById(d),h),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(d){d||(d={}),this.setOptions(d),this._setWidthHeight(d)},_initFilters:function(d,h){d&&d.length?e.util.enlivenObjects(d,function(s){h&&h(s)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(d){d||(d={});var h=this.getElement();this.width=d.width||h.naturalWidth||h.width||0,this.height=d.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var d=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,s=this._element.height,l=1,a=1,u=0,v=0,f=0,y=0,b,_=this.width,S=this.height,T={width:_,height:S};return d&&(d.alignX!=="none"||d.alignY!=="none")?(d.meetOrSlice==="meet"&&(l=a=e.util.findScaleToFit(this._element,T),b=(_-h*l)/2,d.alignX==="Min"&&(u=-b),d.alignX==="Max"&&(u=b),b=(S-s*a)/2,d.alignY==="Min"&&(v=-b),d.alignY==="Max"&&(v=b)),d.meetOrSlice==="slice"&&(l=a=e.util.findScaleToCover(this._element,T),b=h-_/l,d.alignX==="Mid"&&(f=b/2),d.alignX==="Max"&&(f=b),b=s-S/a,d.alignY==="Mid"&&(y=b/2),d.alignY==="Max"&&(y=b),h=_/l,s=S/a)):(l=_/h,a=S/s),{width:h,height:s,scaleX:l,scaleY:a,offsetLeft:u,offsetTop:v,cropX:f,cropY:y}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(d,h){var s=e.util.object.clone(d);e.util.loadImage(s.src,function(l,a){if(a){h&&h(null,!0);return}e.Image.prototype._initFilters.call(s,s.filters,function(u){s.filters=u||[],e.Image.prototype._initFilters.call(s,[s.resizeFilter],function(v){s.resizeFilter=v[0],e.util.enlivenObjectEnlivables(s,s,function(){var f=new e.Image(l,s);h(f,!1)})})})},null,s.crossOrigin)},e.Image.fromURL=function(d,h,s){e.util.loadImage(d,function(l,a){h&&h(new e.Image(l,s),a)},null,s&&s.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(d,h,s){var l=e.parseAttributes(d,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(l["xlink:href"],h,i(s?e.util.object.clone(s):{},l))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},d=c.onComplete||i,h=c.onChange||i,s=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){s.rotate(l),h()},onComplete:function(){s.setCoords(),d()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(d,h){var s="precision "+h+` float;
void main(){}`,l=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(l,s),d.compileShader(l),!!d.getShaderParameter(l,d.COMPILE_STATUS)}e.isWebglSupported=function(d){if(e.isLikelyNode)return!1;d=d||e.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),s=h.getContext("webgl")||h.getContext("experimental-webgl"),l=!1;if(s){e.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),l=e.maxTextureSize>=d;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(c(s,a[u])){e.webGlPrecision=a[u];break}}return this.isSupported=l,l},e.WebglFilterBackend=i;function i(d){d&&d.tileSize&&(this.tileSize=d.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(d,h){this.dispose(),this.createWebGLCanvas(d,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(d,h)},chooseFastestCopyGLTo2DMethod:function(d,h){var s=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(s&&l&&a&&u){var v=e.util.createCanvasElement(),f=new ArrayBuffer(d*h*4);if(e.forceGLPutImageData){this.imageBuffer=f,this.copyGLTo2D=x;return}var y={imageBuffer:f,destinationWidth:d,destinationHeight:h,targetCanvas:v},b,_,S;v.width=d,v.height=h,b=window.performance.now(),m.call(y,this.gl,y),_=window.performance.now()-b,b=window.performance.now(),x.call(y,this.gl,y),S=window.performance.now()-b,_>S?(this.imageBuffer=f,this.copyGLTo2D=x):this.copyGLTo2D=m}},createWebGLCanvas:function(d,h){var s=e.util.createCanvasElement();s.width=d,s.height=h;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=s.getContext("webgl",l);a||(a=s.getContext("experimental-webgl",l)),a&&(a.clearColor(0,0,0,0),this.canvas=s,this.gl=a)},applyFilters:function(d,h,s,l,a,u){var v=this.gl,f;u&&(f=this.getCachedTexture(u,h));var y={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:s,sourceHeight:l,destinationWidth:s,destinationHeight:l,context:v,sourceTexture:this.createTexture(v,s,l,!f&&h),targetTexture:this.createTexture(v,s,l),originalTexture:f||this.createTexture(v,s,l,!f&&h),passes:d.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},b=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,b),d.forEach(function(_){_&&_.applyTo(y)}),p(y),this.copyGLTo2D(v,y),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(y.sourceTexture),v.deleteTexture(y.targetTexture),v.deleteFramebuffer(b),a.getContext("2d").setTransform(1,0,0,1,0,0),y},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(d,h,s,l,a){var u=d.createTexture();return d.bindTexture(d.TEXTURE_2D,u),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,a||d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,a||d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),l?d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,l):d.texImage2D(d.TEXTURE_2D,0,d.RGBA,h,s,0,d.RGBA,d.UNSIGNED_BYTE,null),u},getCachedTexture:function(d,h){if(this.textureCache[d])return this.textureCache[d];var s=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[d]=s,s},evictCachesForKey:function(d){this.textureCache[d]&&(this.gl.deleteTexture(this.textureCache[d]),delete this.textureCache[d])},copyGLTo2D:m,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var d=this.gl,h={renderer:"",vendor:""};if(!d)return h;var s=d.getExtension("WEBGL_debug_renderer_info");if(s){var l=d.getParameter(s.UNMASKED_RENDERER_WEBGL),a=d.getParameter(s.UNMASKED_VENDOR_WEBGL);l&&(h.renderer=l.toLowerCase()),a&&(h.vendor=a.toLowerCase())}return this.gpuInfo=h,h}}}();function p(c){var i=c.targetCanvas,d=i.width,h=i.height,s=c.destinationWidth,l=c.destinationHeight;(d!==s||h!==l)&&(i.width=s,i.height=l)}function m(c,i){var d=c.canvas,h=i.targetCanvas,s=h.getContext("2d");s.translate(0,h.height),s.scale(1,-1);var l=d.height-h.height;s.drawImage(d,0,l,h.width,h.height,0,0,h.width,h.height)}function x(c,i){var d=i.targetCanvas,h=d.getContext("2d"),s=i.destinationWidth,l=i.destinationHeight,a=s*l*4,u=new Uint8Array(this.imageBuffer,0,a),v=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,s,l,c.RGBA,c.UNSIGNED_BYTE,u);var f=new ImageData(v,s,l);h.putImageData(f,0,0)}(function(){var c=function(){};e.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(d,h,s,l,a){var u=a.getContext("2d");u.drawImage(h,0,0,s,l);var v=u.getImageData(0,0,s,l),f=u.getImageData(0,0,s,l),y={sourceWidth:s,sourceHeight:l,imageData:v,originalEl:h,originalImageData:f,canvasEl:a,ctx:u,filterBackend:this};return d.forEach(function(b){b.applyTo(y)}),(y.imageData.width!==s||y.imageData.height!==l)&&(a.width=y.imageData.width,a.height=y.imageData.height),u.putImageData(y.imageData,0,0),y}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,d){i=i||this.fragmentSource,d=d||this.vertexSource,e.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var h=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(h,d),c.compileShader(h),!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(h));var s=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(s,i),c.compileShader(s),!c.getShaderParameter(s,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(s));var l=c.createProgram();if(c.attachShader(l,h),c.attachShader(l,s),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(l));var a=this.getAttributeLocations(c,l),u=this.getUniformLocations(c,l)||{};return u.uStepW=c.getUniformLocation(l,"uStepW"),u.uStepH=c.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,d){var h=i.aPosition,s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,s),c.enableVertexAttribArray(h),c.vertexAttribPointer(h,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,d,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,d,h;c.passes>1?(d=c.destinationWidth,h=c.destinationHeight,(c.sourceWidth!==d||c.sourceHeight!==h)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,d,h)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=e.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var d=i[c].length;d--;)if(this[c][d]!==i[c][d])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,d=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(d.program),this.sendAttributeData(i,d.attributeLocations,c.aPosition),i.uniform1f(d.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(d.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,d.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,d){c.activeTexture(d),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(c,i){var d=new e.Image.filters[c.type](c);return i&&i(d),d},function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.ColorMatrix=h(d.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(s){this.callSuper("initialize",s),this.matrix=this.matrix.slice(0)},applyTo2d:function(s){var l=s.imageData,a=l.data,u=a.length,v=this.matrix,f,y,b,_,S,T=this.colorsOnly;for(S=0;S<u;S+=4)f=a[S],y=a[S+1],b=a[S+2],T?(a[S]=f*v[0]+y*v[1]+b*v[2]+v[4]*255,a[S+1]=f*v[5]+y*v[6]+b*v[7]+v[9]*255,a[S+2]=f*v[10]+y*v[11]+b*v[12]+v[14]*255):(_=a[S+3],a[S]=f*v[0]+y*v[1]+b*v[2]+_*v[3]+v[4]*255,a[S+1]=f*v[5]+y*v[6]+b*v[7]+_*v[8]+v[9]*255,a[S+2]=f*v[10]+y*v[11]+b*v[12]+_*v[13]+v[14]*255,a[S+3]=f*v[15]+y*v[16]+b*v[17]+_*v[18]+v[19]*255)},getUniformLocations:function(s,l){return{uColorMatrix:s.getUniformLocation(l,"uColorMatrix"),uConstants:s.getUniformLocation(l,"uConstants")}},sendUniformData:function(s,l){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],v=[a[4],a[9],a[14],a[19]];s.uniformMatrix4fv(l.uColorMatrix,!1,u),s.uniform4fv(l.uConstants,v)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Brightness=h(d.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(s){if(this.brightness!==0){var l=s.imageData,a=l.data,u,v=a.length,f=Math.round(this.brightness*255);for(u=0;u<v;u+=4)a[u]=a[u]+f,a[u+1]=a[u+1]+f,a[u+2]=a[u+2]+f}},getUniformLocations:function(s,l){return{uBrightness:s.getUniformLocation(l,"uBrightness")}},sendUniformData:function(s,l){s.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.Image.filters,s=i.util.createClass;h.Convolute=s(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),v=this.fragmentSource[u];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,v)),l.programCache[u]},applyTo2d:function(l){var a=l.imageData,u=a.data,v=this.matrix,f=Math.round(Math.sqrt(v.length)),y=Math.floor(f/2),b=a.width,_=a.height,S=l.ctx.createImageData(b,_),T=S.data,E=this.opaque?1:0,P,F,R,j,H,Z,Q,se,le,ge,X,ie,k;for(X=0;X<_;X++)for(ge=0;ge<b;ge++){for(H=(X*b+ge)*4,P=0,F=0,R=0,j=0,k=0;k<f;k++)for(ie=0;ie<f;ie++)Q=X+k-y,Z=ge+ie-y,!(Q<0||Q>=_||Z<0||Z>=b)&&(se=(Q*b+Z)*4,le=v[k*f+ie],P+=u[se]*le,F+=u[se+1]*le,R+=u[se+2]*le,E||(j+=u[se+3]*le));T[H]=P,T[H+1]=F,T[H+2]=R,E?T[H+3]=u[H+3]:T[H+3]=j}l.imageData=S},getUniformLocations:function(l,a){return{uMatrix:l.getUniformLocation(a,"uMatrix"),uOpaque:l.getUniformLocation(a,"uOpaque"),uHalfSize:l.getUniformLocation(a,"uHalfSize"),uSize:l.getUniformLocation(a,"uSize")}},sendUniformData:function(l,a){l.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return d(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Grayscale=h(d.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(s){var l=s.imageData,a=l.data,u,v=a.length,f,y=this.mode;for(u=0;u<v;u+=4)y==="average"?f=(a[u]+a[u+1]+a[u+2])/3:y==="lightness"?f=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:y==="luminosity"&&(f=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=f,a[u+1]=f,a[u+2]=f},retrieveShader:function(s){var l=this.type+"_"+this.mode;if(!s.programCache.hasOwnProperty(l)){var a=this.fragmentSource[this.mode];s.programCache[l]=this.createProgram(s.context,a)}return s.programCache[l]},getUniformLocations:function(s,l){return{uMode:s.getUniformLocation(l,"uMode")}},sendUniformData:function(s,l){var a=1;s.uniform1i(l.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Invert=h(d.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(s){var l=s.imageData,a=l.data,u,v=a.length;for(u=0;u<v;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(s,l){return{uInvert:s.getUniformLocation(l,"uInvert")}},sendUniformData:function(s,l){s.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.Image.filters,s=i.util.createClass;h.Noise=s(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var a=l.imageData,u=a.data,v,f=u.length,y=this.noise,b;for(v=0,f=u.length;v<f;v+=4)b=(.5-Math.random())*y,u[v]+=b,u[v+1]+=b,u[v+2]+=b}},getUniformLocations:function(l,a){return{uNoise:l.getUniformLocation(a,"uNoise"),uSeed:l.getUniformLocation(a,"uSeed")}},sendUniformData:function(l,a){l.uniform1f(a.uNoise,this.noise/255),l.uniform1f(a.uSeed,Math.random())},toObject:function(){return d(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Pixelate=h(d.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(s){var l=s.imageData,a=l.data,u=l.height,v=l.width,f,y,b,_,S,T,E,P,F,R,j;for(y=0;y<u;y+=this.blocksize)for(b=0;b<v;b+=this.blocksize)for(f=y*4*v+b*4,_=a[f],S=a[f+1],T=a[f+2],E=a[f+3],R=Math.min(y+this.blocksize,u),j=Math.min(b+this.blocksize,v),P=y;P<R;P++)for(F=b;F<j;F++)f=P*4*v+F*4,a[f]=_,a[f+1]=S,a[f+2]=T,a[f+3]=E},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(s,l){return{uBlocksize:s.getUniformLocation(l,"uBlocksize"),uStepW:s.getUniformLocation(l,"uStepW"),uStepH:s.getUniformLocation(l,"uStepH")}},sendUniformData:function(s,l){s.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.extend,h=i.Image.filters,s=i.util.createClass;h.RemoveColor=s(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var a=l.imageData,u=a.data,v,f=this.distance*255,y,b,_,S=new i.Color(this.color).getSource(),T=[S[0]-f,S[1]-f,S[2]-f],E=[S[0]+f,S[1]+f,S[2]+f];for(v=0;v<u.length;v+=4)y=u[v],b=u[v+1],_=u[v+2],y>T[0]&&b>T[1]&&_>T[2]&&y<E[0]&&b<E[1]&&_<E[2]&&(u[v+3]=0)},getUniformLocations:function(l,a){return{uLow:l.getUniformLocation(a,"uLow"),uHigh:l.getUniformLocation(a,"uHigh")}},sendUniformData:function(l,a){var u=new i.Color(this.color).getSource(),v=parseFloat(this.distance),f=[0+u[0]/255-v,0+u[1]/255-v,0+u[2]/255-v,1],y=[u[0]/255+v,u[1]/255+v,u[2]/255+v,1];l.uniform4fv(a.uLow,f),l.uniform4fv(a.uHigh,y)},toObject:function(){return d(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in s)d[l]=h(d.ColorMatrix,{type:l,matrix:s[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric,d=i.Image.filters,h=i.util.createClass;d.BlendColor=h(d.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(s){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[s]+`}
}`},retrieveShader:function(s){var l=this.type+"_"+this.mode,a;return s.programCache.hasOwnProperty(l)||(a=this.buildSource(this.mode),s.programCache[l]=this.createProgram(s.context,a)),s.programCache[l]},applyTo2d:function(s){var l=s.imageData,a=l.data,u=a.length,v,f,y,b,_,S,T,E=1-this.alpha;T=new i.Color(this.color).getSource(),v=T[0]*this.alpha,f=T[1]*this.alpha,y=T[2]*this.alpha;for(var P=0;P<u;P+=4)switch(b=a[P],_=a[P+1],S=a[P+2],this.mode){case"multiply":a[P]=b*v/255,a[P+1]=_*f/255,a[P+2]=S*y/255;break;case"screen":a[P]=255-(255-b)*(255-v)/255,a[P+1]=255-(255-_)*(255-f)/255,a[P+2]=255-(255-S)*(255-y)/255;break;case"add":a[P]=b+v,a[P+1]=_+f,a[P+2]=S+y;break;case"diff":case"difference":a[P]=Math.abs(b-v),a[P+1]=Math.abs(_-f),a[P+2]=Math.abs(S-y);break;case"subtract":a[P]=b-v,a[P+1]=_-f,a[P+2]=S-y;break;case"darken":a[P]=Math.min(b,v),a[P+1]=Math.min(_,f),a[P+2]=Math.min(S,y);break;case"lighten":a[P]=Math.max(b,v),a[P+1]=Math.max(_,f),a[P+2]=Math.max(S,y);break;case"overlay":a[P]=v<128?2*b*v/255:255-2*(255-b)*(255-v)/255,a[P+1]=f<128?2*_*f/255:255-2*(255-_)*(255-f)/255,a[P+2]=y<128?2*S*y/255:255-2*(255-S)*(255-y)/255;break;case"exclusion":a[P]=v+b-2*v*b/255,a[P+1]=f+_-2*f*_/255,a[P+2]=y+S-2*y*S/255;break;case"tint":a[P]=v+b*E,a[P+1]=f+_*E,a[P+2]=y+S*E}},getUniformLocations:function(s,l){return{uColor:s.getUniformLocation(l,"uColor")}},sendUniformData:function(s,l){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,s.uniform4fv(l.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric,d=i.Image.filters,h=i.util.createClass;d.BlendImage=h(d.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(s){var l=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return s.programCache.hasOwnProperty(l)||(s.programCache[l]=this.createProgram(s.context,a)),s.programCache[l]},applyToWebGL:function(s){var l=s.context,a=this.createTexture(s.filterBackend,this.image);this.bindAdditionalTexture(l,a,l.TEXTURE1),this.callSuper("applyToWebGL",s),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(s,l){return s.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var s=this.image,l=s._element.width,a=s._element.height;return[1/s.scaleX,0,0,0,1/s.scaleY,0,-s.left/l,-s.top/a,1]},applyTo2d:function(s){var l=s.imageData,a=s.filterBackend.resources,u=l.data,v=u.length,f=l.width,y=l.height,b,_,S,T,E,P,F,R,j,H,Z=this.image,Q;a.blendImage||(a.blendImage=i.util.createCanvasElement()),j=a.blendImage,H=j.getContext("2d"),j.width!==f||j.height!==y?(j.width=f,j.height=y):H.clearRect(0,0,f,y),H.setTransform(Z.scaleX,0,0,Z.scaleY,Z.left,Z.top),H.drawImage(Z._element,0,0,f,y),Q=H.getImageData(0,0,f,y).data;for(var se=0;se<v;se+=4)switch(E=u[se],P=u[se+1],F=u[se+2],R=u[se+3],b=Q[se],_=Q[se+1],S=Q[se+2],T=Q[se+3],this.mode){case"multiply":u[se]=E*b/255,u[se+1]=P*_/255,u[se+2]=F*S/255,u[se+3]=R*T/255;break;case"mask":u[se+3]=T;break}},getUniformLocations:function(s,l){return{uTransformMatrix:s.getUniformLocation(l,"uTransformMatrix"),uImage:s.getUniformLocation(l,"uImage")}},sendUniformData:function(s,l){var a=this.calculateMatrix();s.uniform1i(l.uImage,1),s.uniformMatrix3fv(l.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(s,l){i.Image.fromObject(s.image,function(a){var u=i.util.object.clone(s);u.image=a,l(new i.Image.filters.BlendImage(u))})}}(t),function(c){var i=c.fabric||(c.fabric={}),d=Math.pow,h=Math.floor,s=Math.sqrt,l=Math.abs,a=Math.round,u=Math.sin,v=Math.ceil,f=i.Image.filters,y=i.util.createClass;f.Resize=y(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,_){return{uDelta:b.getUniformLocation(_,"uDelta"),uTaps:b.getUniformLocation(_,"uTaps")}},sendUniformData:function(b,_){b.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(b){var _=this.getFilterWindow(),S=this.type+"_"+_;if(!b.programCache.hasOwnProperty(S)){var T=this.generateShader(_);b.programCache[S]=this.createProgram(b.context,T)}return b.programCache[S]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,S=this.getFilterWindow(),T=new Array(S),E=1;E<=S;E++)T[E-1]=b(E*_);return T},generateShader:function(T){for(var _=new Array(T),S=this.fragmentSourceTOP,T,E=1;E<=T;E++)_[E-1]=E+".0 * uDelta";return S+="uniform float uTaps["+T+`];
`,S+=`void main() {
`,S+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,S+=`  float sum = 1.0;
`,_.forEach(function(P,F){S+="  color += texture2D(uTexture, vTexCoord + "+P+") * uTaps["+F+`];
`,S+="  color += texture2D(uTexture, vTexCoord - "+P+") * uTaps["+F+`];
`,S+="  sum += 2.0 * uTaps["+F+`];
`}),S+=`  gl_FragColor = color / sum;
`,S+="}",S},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(_){if(_>=b||_<=-b)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var S=_/b;return u(_)/_*u(S)/S}},applyTo2d:function(b){var _=b.imageData,S=this.scaleX,T=this.scaleY;this.rcpScaleX=1/S,this.rcpScaleY=1/T;var E=_.width,P=_.height,F=a(E*S),R=a(P*T),j;this.resizeType==="sliceHack"?j=this.sliceByTwo(b,E,P,F,R):this.resizeType==="hermite"?j=this.hermiteFastResize(b,E,P,F,R):this.resizeType==="bilinear"?j=this.bilinearFiltering(b,E,P,F,R):this.resizeType==="lanczos"&&(j=this.lanczosResize(b,E,P,F,R)),b.imageData=j},sliceByTwo:function(b,_,S,T,E){var P=b.imageData,F=.5,R=!1,j=!1,H=_*F,Z=S*F,Q=i.filterBackend.resources,se,le,ge=0,X=0,ie=_,k=0;for(Q.sliceByTwo||(Q.sliceByTwo=document.createElement("canvas")),se=Q.sliceByTwo,(se.width<_*1.5||se.height<S)&&(se.width=_*1.5,se.height=S),le=se.getContext("2d"),le.clearRect(0,0,_*1.5,S),le.putImageData(P,0,0),T=h(T),E=h(E);!R||!j;)_=H,S=Z,T<h(H*F)?H=h(H*F):(H=T,R=!0),E<h(Z*F)?Z=h(Z*F):(Z=E,j=!0),le.drawImage(se,ge,X,_,S,ie,k,H,Z),ge=ie,X=k,k+=Z;return le.getImageData(ge,X,T,E)},lanczosResize:function(b,_,S,T,E){function P(N){var W,K,B,M,Y,q,re,ee,he,pe,ve;for(k.x=(N+.5)*Z,z.x=h(k.x),W=0;W<E;W++){for(k.y=(W+.5)*Q,z.y=h(k.y),Y=0,q=0,re=0,ee=0,he=0,K=z.x-ge;K<=z.x+ge;K++)if(!(K<0||K>=_)){pe=h(1e3*l(K-k.x)),ie[pe]||(ie[pe]={});for(var ne=z.y-X;ne<=z.y+X;ne++)ne<0||ne>=S||(ve=h(1e3*l(ne-k.y)),ie[pe][ve]||(ie[pe][ve]=H(s(d(pe*se,2)+d(ve*le,2))/1e3)),B=ie[pe][ve],B>0&&(M=(ne*_+K)*4,Y+=B,q+=B*F[M],re+=B*F[M+1],ee+=B*F[M+2],he+=B*F[M+3]))}M=(W*T+N)*4,j[M]=q/Y,j[M+1]=re/Y,j[M+2]=ee/Y,j[M+3]=he/Y}return++N<T?P(N):R}var F=b.imageData.data,R=b.ctx.createImageData(T,E),j=R.data,H=this.lanczosCreate(this.lanczosLobes),Z=this.rcpScaleX,Q=this.rcpScaleY,se=2/this.rcpScaleX,le=2/this.rcpScaleY,ge=v(Z*this.lanczosLobes/2),X=v(Q*this.lanczosLobes/2),ie={},k={},z={};return P(0)},bilinearFiltering:function(b,_,S,T,E){var P,F,R,j,H,Z,Q,se,le,ge,X,ie,k=0,z,N=this.rcpScaleX,W=this.rcpScaleY,K=4*(_-1),B=b.imageData,M=B.data,Y=b.ctx.createImageData(T,E),q=Y.data;for(Q=0;Q<E;Q++)for(se=0;se<T;se++)for(H=h(N*se),Z=h(W*Q),le=N*se-H,ge=W*Q-Z,z=4*(Z*_+H),X=0;X<4;X++)P=M[z+X],F=M[z+4+X],R=M[z+K+X],j=M[z+K+4+X],ie=P*(1-le)*(1-ge)+F*le*(1-ge)+R*ge*(1-le)+j*le*ge,q[k++]=ie;return Y},hermiteFastResize:function(b,_,S,T,E){for(var P=this.rcpScaleX,F=this.rcpScaleY,R=v(P/2),j=v(F/2),H=b.imageData,Z=H.data,Q=b.ctx.createImageData(T,E),se=Q.data,le=0;le<E;le++)for(var ge=0;ge<T;ge++){for(var X=(ge+le*T)*4,ie=0,k=0,z=0,N=0,W=0,K=0,B=0,M=(le+.5)*F,Y=h(le*F);Y<(le+1)*F;Y++)for(var q=l(M-(Y+.5))/j,re=(ge+.5)*P,ee=q*q,he=h(ge*P);he<(ge+1)*P;he++){var pe=l(re-(he+.5))/R,ve=s(ee+pe*pe);ve>1&&ve<-1||(ie=2*ve*ve*ve-3*ve*ve+1,ie>0&&(pe=4*(he+Y*_),B+=ie*Z[pe+3],z+=ie,Z[pe+3]<255&&(ie=ie*Z[pe+3]/250),N+=ie*Z[pe],W+=ie*Z[pe+1],K+=ie*Z[pe+2],k+=ie))}se[X]=N/k,se[X+1]=W/k,se[X+2]=K/k,se[X+3]=B/z}return Q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Contrast=h(d.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(s){if(this.contrast!==0){var l=s.imageData,a,v,u=l.data,v=u.length,f=Math.floor(this.contrast*255),y=259*(f+255)/(255*(259-f));for(a=0;a<v;a+=4)u[a]=y*(u[a]-128)+128,u[a+1]=y*(u[a+1]-128)+128,u[a+2]=y*(u[a+2]-128)+128}},getUniformLocations:function(s,l){return{uContrast:s.getUniformLocation(l,"uContrast")}},sendUniformData:function(s,l){s.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Saturation=h(d.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(s){if(this.saturation!==0){var l=s.imageData,a=l.data,u=a.length,v=-this.saturation,f,y;for(f=0;f<u;f+=4)y=Math.max(a[f],a[f+1],a[f+2]),a[f]+=y!==a[f]?(y-a[f])*v:0,a[f+1]+=y!==a[f+1]?(y-a[f+1])*v:0,a[f+2]+=y!==a[f+2]?(y-a[f+2])*v:0}},getUniformLocations:function(s,l){return{uSaturation:s.getUniformLocation(l,"uSaturation")}},sendUniformData:function(s,l){s.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Vibrance=h(d.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(s){if(this.vibrance!==0){var l=s.imageData,a=l.data,u=a.length,v=-this.vibrance,f,y,b,_;for(f=0;f<u;f+=4)y=Math.max(a[f],a[f+1],a[f+2]),b=(a[f]+a[f+1]+a[f+2])/3,_=Math.abs(y-b)*2/255*v,a[f]+=y!==a[f]?(y-a[f])*_:0,a[f+1]+=y!==a[f+1]?(y-a[f+1])*_:0,a[f+2]+=y!==a[f+2]?(y-a[f+2])*_:0}},getUniformLocations:function(s,l){return{uVibrance:s.getUniformLocation(l,"uVibrance")}},sendUniformData:function(s,l){s.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Blur=h(d.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(s){s.webgl?(this.aspectRatio=s.sourceWidth/s.sourceHeight,s.passes++,this._setupFrameBuffer(s),this.horizontal=!0,this.applyToWebGL(s),this._swapTextures(s),this._setupFrameBuffer(s),this.horizontal=!1,this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},applyTo2d:function(s){s.imageData=this.simpleBlur(s)},simpleBlur:function(s){var l=s.filterBackend.resources,a,u,v=s.imageData.width,f=s.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),a=l.blurLayer1,u=l.blurLayer2,(a.width!==v||a.height!==f)&&(u.width=a.width=v,u.height=a.height=f);var y=a.getContext("2d"),b=u.getContext("2d"),_=15,S,T,E,P,F=this.blur*.06*.5;for(y.putImageData(s.imageData,0,0),b.clearRect(0,0,v,f),P=-_;P<=_;P++)S=(Math.random()-.5)/4,T=P/_,E=F*T*v+S,b.globalAlpha=1-Math.abs(T),b.drawImage(a,E,S),y.drawImage(u,0,0),b.globalAlpha=1,b.clearRect(0,0,u.width,u.height);for(P=-_;P<=_;P++)S=(Math.random()-.5)/4,T=P/_,E=F*T*f+S,b.globalAlpha=1-Math.abs(T),b.drawImage(a,S,E),y.drawImage(u,0,0),b.globalAlpha=1,b.clearRect(0,0,u.width,u.height);s.ctx.drawImage(a,0,0);var R=s.ctx.getImageData(0,0,a.width,a.height);return y.globalAlpha=1,y.clearRect(0,0,a.width,a.height),R},getUniformLocations:function(s,l){return{delta:s.getUniformLocation(l,"uDelta")}},sendUniformData:function(s,l){var a=this.chooseRightDelta();s.uniform2fv(l.delta,a)},chooseRightDelta:function(){var s=1,l=[0,0],a;return this.horizontal?this.aspectRatio>1&&(s=1/this.aspectRatio):this.aspectRatio<1&&(s=this.aspectRatio),a=s*this.blur*.12,this.horizontal?l[0]=a:l[1]=a,l}}),d.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Gamma=h(d.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(s){this.gamma=[1,1,1],d.BaseFilter.prototype.initialize.call(this,s)},applyTo2d:function(s){var l=s.imageData,a=l.data,u=this.gamma,v=a.length,f=1/u[0],y=1/u[1],b=1/u[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,v=256;_<v;_++)this.rVals[_]=Math.pow(_/255,f)*255,this.gVals[_]=Math.pow(_/255,y)*255,this.bVals[_]=Math.pow(_/255,b)*255;for(_=0,v=a.length;_<v;_+=4)a[_]=this.rVals[a[_]],a[_+1]=this.gVals[a[_+1]],a[_+2]=this.bVals[a[_+2]]},getUniformLocations:function(s,l){return{uGamma:s.getUniformLocation(l,"uGamma")}},sendUniformData:function(s,l){s.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.Composed=h(d.BaseFilter,{type:"Composed",subFilters:[],initialize:function(s){this.callSuper("initialize",s),this.subFilters=this.subFilters.slice(0)},applyTo:function(s){s.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(s)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(s){return s.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(s){return!s.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(s,l){var a=s.subFilters||[],u=a.map(function(f){return new i.Image.filters[f.type](f)}),v=new i.Image.filters.Composed({subFilters:u});return l&&l(v),v}}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.Image.filters,h=i.util.createClass;d.HueRotation=h(d.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var s=this.rotation*Math.PI,l=i.util.cos(s),a=i.util.sin(s),u=1/3,v=Math.sqrt(u)*a,f=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+f/3,this.matrix[1]=u*f-v,this.matrix[2]=u*f+v,this.matrix[5]=u*f+v,this.matrix[6]=l+u*f,this.matrix[7]=u*f-v,this.matrix[10]=u*f-v,this.matrix[11]=u*f+v,this.matrix[12]=l+u*f},isNeutralState:function(s){return this.calculateMatrix(),d.BaseFilter.prototype.isNeutralState.call(this,s)},applyTo:function(s){this.calculateMatrix(),d.BaseFilter.prototype.applyTo.call(this,s)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),d=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(h),cacheProperties:i.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(s,l){this.styles=l?l.styles||{}:{},this.text=s,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var s=this.path;s&&(s.segmentsInfo=i.util.getPathSegmentsInfo(s.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var s=this._splitTextIntoLines(this.text);return this.textLines=s.lines,this._textLines=s.graphemeLines,this._unwrappedTextLines=s._unwrappedLines,this._text=s.graphemeText,s},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var s,l,a,u,v,f,y,b=0,_=this._textLines.length;b<_;b++)if(!(this.textAlign!=="justify"&&(b===_-1||this.isEndOfWrapping(b)))&&(u=0,v=this._textLines[b],l=this.getLineWidth(b),l<this.width&&(y=this.textLines[b].match(this._reSpacesAndTabs)))){a=y.length,s=(this.width-l)/a;for(var S=0,T=v.length;S<=T;S++)f=this.__charBounds[b][S],this._reSpaceAndTab.test(v[S])?(f.width+=s,f.kernedWidth+=s,f.left+=u,u+=s):f.left+=u}},isEndOfWrapping:function(s){return s===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var s=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return s.width+=l*s.zoomX,s.height+=l*s.zoomY,s},_render:function(s){var l=this.path;l&&!l.isNotVisible()&&l._render(s),this._setTextStyles(s),this._renderTextLinesBackground(s),this._renderTextDecoration(s,"underline"),this._renderText(s),this._renderTextDecoration(s,"overline"),this._renderTextDecoration(s,"linethrough")},_renderText:function(s){this.paintFirst==="stroke"?(this._renderTextStroke(s),this._renderTextFill(s)):(this._renderTextFill(s),this._renderTextStroke(s))},_setTextStyles:function(s,l,a){if(s.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":s.textBaseline="middle";break;case"ascender":s.textBaseline="top";break;case"descender":s.textBaseline="bottom";break}s.font=this._getFontDeclaration(l,a)},calcTextWidth:function(){for(var s=this.getLineWidth(0),l=1,a=this._textLines.length;l<a;l++){var u=this.getLineWidth(l);u>s&&(s=u)}return s},_renderTextLine:function(s,l,a,u,v,f){this._renderChars(s,l,a,u,v,f)},_renderTextLinesBackground:function(s){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,a,u=s.fillStyle,v,f,y=this._getLeftOffset(),b=this._getTopOffset(),_=0,S=0,T,E,P=this.path,F,R=0,j=this._textLines.length;R<j;R++){if(l=this.getHeightOfLine(R),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",R)){b+=l;continue}v=this._textLines[R],a=this._getLineLeftOffset(R),S=0,_=0,f=this.getValueOfPropertyAt(R,0,"textBackgroundColor");for(var H=0,Z=v.length;H<Z;H++)T=this.__charBounds[R][H],E=this.getValueOfPropertyAt(R,H,"textBackgroundColor"),P?(s.save(),s.translate(T.renderLeft,T.renderTop),s.rotate(T.angle),s.fillStyle=E,E&&s.fillRect(-T.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),T.width,l/this.lineHeight),s.restore()):E!==f?(F=y+a+_,this.direction==="rtl"&&(F=this.width-F-S),s.fillStyle=f,f&&s.fillRect(F,b,S,l/this.lineHeight),_=T.left,S=T.width,f=E):S+=T.kernedWidth;E&&!P&&(F=y+a+_,this.direction==="rtl"&&(F=this.width-F-S),s.fillStyle=E,s.fillRect(F,b,S,l/this.lineHeight)),b+=l}s.fillStyle=u,this._removeShadow(s)}},getFontCache:function(s){var l=s.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var a=i.charWidthsCache[l],u=s.fontStyle.toLowerCase()+"_"+(s.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(s,l,a,u){var v=this.getFontCache(l),f=this._getFontDeclaration(l),y=this._getFontDeclaration(u),b=a+s,_=f===y,S,T,E,P=l.fontSize/this.CACHE_FONT_SIZE,F;if(a&&v[a]!==void 0&&(E=v[a]),v[s]!==void 0&&(F=S=v[s]),_&&v[b]!==void 0&&(T=v[b],F=T-E),S===void 0||E===void 0||T===void 0){var R=this.getMeasuringContext();this._setTextStyles(R,l,!0)}return S===void 0&&(F=S=R.measureText(s).width,v[s]=S),E===void 0&&_&&a&&(E=R.measureText(a).width,v[a]=E),_&&T===void 0&&(T=R.measureText(b).width,v[b]=T,F=T-E),{width:S*P,kernedWidth:F*P}},getHeightOfChar:function(s,l){return this.getValueOfPropertyAt(s,l,"fontSize")},measureLine:function(s){var l=this._measureLine(s);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(s){var l=0,a,u,v=this._textLines[s],f,y,b=0,_=new Array(v.length),S=0,T,E,P=this.path,F=this.pathSide==="right";for(this.__charBounds[s]=_,a=0;a<v.length;a++)u=v[a],y=this._getGraphemeBox(u,s,a,f),_[a]=y,l+=y.kernedWidth,f=u;if(_[a]={left:y?y.left+y.width:0,width:0,kernedWidth:0,height:this.fontSize},P){switch(E=P.segmentsInfo[P.segmentsInfo.length-1].length,T=i.util.getPointOnPath(P.path,0,P.segmentsInfo),T.x+=P.pathOffset.x,T.y+=P.pathOffset.y,this.textAlign){case"left":S=F?E-l:0;break;case"center":S=(E-l)/2;break;case"right":S=F?0:E-l;break}for(S+=this.pathStartOffset*(F?-1:1),a=F?v.length-1:0;F?a>=0:a<v.length;F?a--:a++)y=_[a],S>E?S%=E:S<0&&(S+=E),this._setGraphemeOnPath(S,y,T),S+=y.kernedWidth}return{width:l,numOfSpaces:b}},_setGraphemeOnPath:function(s,l,a){var u=s+l.kernedWidth/2,v=this.path,f=i.util.getPointOnPath(v.path,u,v.segmentsInfo);l.renderLeft=f.x-a.x,l.renderTop=f.y-a.y,l.angle=f.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(s,l,a,u,v){var f=this.getCompleteStyleDeclaration(l,a),y=u?this.getCompleteStyleDeclaration(l,a-1):{},b=this._measureChar(s,f,u,y),_=b.kernedWidth,S=b.width,T;this.charSpacing!==0&&(T=this._getWidthOfCharSpacing(),S+=T,_+=T);var E={width:S,left:0,height:f.fontSize,kernedWidth:_,deltaY:f.deltaY};if(a>0&&!v){var P=this.__charBounds[l][a-1];E.left=P.left+P.width+b.kernedWidth-b.width}return E},getHeightOfLine:function(s){if(this.__lineHeights[s])return this.__lineHeights[s];for(var l=this._textLines[s],a=this.getHeightOfChar(s,0),u=1,v=l.length;u<v;u++)a=Math.max(this.getHeightOfChar(s,u),a);return this.__lineHeights[s]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var s,l=0,a=0,u=this._textLines.length;a<u;a++)s=this.getHeightOfLine(a),l+=a===u-1?s/this.lineHeight:s;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(s,l){s.save();for(var a=0,u=this._getLeftOffset(),v=this._getTopOffset(),f=0,y=this._textLines.length;f<y;f++){var b=this.getHeightOfLine(f),_=b/this.lineHeight,S=this._getLineLeftOffset(f);this._renderTextLine(l,s,this._textLines[f],u+S,v+a+_,f),a+=b}s.restore()},_renderTextFill:function(s){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(s,"fillText")},_renderTextStroke:function(s){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this._setLineDash(s,this.strokeDashArray),s.beginPath(),this._renderTextCommon(s,"strokeText"),s.closePath(),s.restore())},_renderChars:function(s,l,a,u,v,f){var y=this.getHeightOfLine(f),b=this.textAlign.indexOf("justify")!==-1,_,S,T="",E,P=0,F,R=this.path,j=!b&&this.charSpacing===0&&this.isEmptyStyles(f)&&!R,H=this.direction==="ltr",Z=this.direction==="ltr"?1:-1,Q,se=l.canvas.getAttribute("dir");if(l.save(),se!==this.direction&&(l.canvas.setAttribute("dir",H?"ltr":"rtl"),l.direction=H?"ltr":"rtl",l.textAlign=H?"left":"right"),v-=y*this._fontSizeFraction/this.lineHeight,j){this._renderChar(s,l,f,0,a.join(""),u,v,y),l.restore();return}for(var le=0,ge=a.length-1;le<=ge;le++)F=le===ge||this.charSpacing||R,T+=a[le],E=this.__charBounds[f][le],P===0?(u+=Z*(E.kernedWidth-E.width),P+=E.width):P+=E.kernedWidth,b&&!F&&this._reSpaceAndTab.test(a[le])&&(F=!0),F||(_=_||this.getCompleteStyleDeclaration(f,le),S=this.getCompleteStyleDeclaration(f,le+1),F=i.util.hasStyleChanged(_,S,!1)),F&&(R?(l.save(),l.translate(E.renderLeft,E.renderTop),l.rotate(E.angle),this._renderChar(s,l,f,le,T,-P/2,0,y),l.restore()):(Q=u,this._renderChar(s,l,f,le,T,Q,v,y)),T="",_=S,u+=Z*P,P=0);l.restore()},_applyPatternGradientTransformText:function(s){var l=i.util.createCanvasElement(),a,u=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return l.width=u,l.height=v,a=l.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,v),a.lineTo(0,v),a.closePath(),a.translate(u/2,v/2),a.fillStyle=s.toLive(a),this._applyPatternGradientTransform(a,s),a.fill(),a.createPattern(l,"no-repeat")},handleFiller:function(s,l,a){var u,v;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,v=-this.height/2,s.translate(u,v),s[l]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:v}):(s[l]=a.toLive(s,this),this._applyPatternGradientTransform(s,a)):(s[l]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(s,l){return s.lineWidth=l.strokeWidth,s.lineCap=this.strokeLineCap,s.lineDashOffset=this.strokeDashOffset,s.lineJoin=this.strokeLineJoin,s.miterLimit=this.strokeMiterLimit,this.handleFiller(s,"strokeStyle",l.stroke)},_setFillStyles:function(s,l){return this.handleFiller(s,"fillStyle",l.fill)},_renderChar:function(s,l,a,u,v,f,y){var b=this._getStyleDeclaration(a,u),_=this.getCompleteStyleDeclaration(a,u),S=s==="fillText"&&_.fill,T=s==="strokeText"&&_.stroke&&_.strokeWidth,E,P;!T&&!S||(l.save(),S&&(E=this._setFillStyles(l,_)),T&&(P=this._setStrokeStyles(l,_)),l.font=this._getFontDeclaration(_),b&&b.textBackgroundColor&&this._removeShadow(l),b&&b.deltaY&&(y+=b.deltaY),S&&l.fillText(v,f-E.offsetX,y-E.offsetY),T&&l.strokeText(v,f-P.offsetX,y-P.offsetY),l.restore())},setSuperscript:function(s,l){return this._setScript(s,l,this.superscript)},setSubscript:function(s,l){return this._setScript(s,l,this.subscript)},_setScript:function(s,l,a){var u=this.get2DCursorLocation(s,!0),v=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),f=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),y={fontSize:v*a.size,deltaY:f+v*a.baseline};return this.setSelectionStyles(y,s,l),this},_getLineLeftOffset:function(s){var l=this.getLineWidth(s),a=this.width-l,u=this.textAlign,v=this.direction,y,f=0,y=this.isEndOfWrapping(s);return u==="justify"||u==="justify-center"&&!y||u==="justify-right"&&!y||u==="justify-left"&&!y?0:(u==="center"&&(f=a/2),u==="right"&&(f=a),u==="justify-center"&&(f=a/2),u==="justify-right"&&(f=a),v==="rtl"&&(f-=a),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var s=this._forceClearCache;return s||(s=this.hasStateChanged("_dimensionAffectingProps")),s&&(this.dirty=!0,this._forceClearCache=!1),s},getLineWidth:function(s){if(this.__lineWidths[s]!==void 0)return this.__lineWidths[s];var l=this.measureLine(s),a=l.width;return this.__lineWidths[s]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(s,l,a){var u=this._getStyleDeclaration(s,l);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(s,l){if(!(!this[l]&&!this.styleHas(l))){for(var a,u,v,f,y,b,_,S,T=this._getLeftOffset(),E=this._getTopOffset(),P,F,R,j,H,Z,Q,se,le=this.path,ge=this._getWidthOfCharSpacing(),X=this.offsets[l],ie=0,k=this._textLines.length;ie<k;ie++){if(a=this.getHeightOfLine(ie),!this[l]&&!this.styleHas(l,ie)){E+=a;continue}_=this._textLines[ie],Z=a/this.lineHeight,f=this._getLineLeftOffset(ie),F=0,R=0,S=this.getValueOfPropertyAt(ie,0,l),se=this.getValueOfPropertyAt(ie,0,"fill"),P=E+Z*(1-this._fontSizeFraction),u=this.getHeightOfChar(ie,0),y=this.getValueOfPropertyAt(ie,0,"deltaY");for(var z=0,N=_.length;z<N;z++)if(j=this.__charBounds[ie][z],H=this.getValueOfPropertyAt(ie,z,l),Q=this.getValueOfPropertyAt(ie,z,"fill"),v=this.getHeightOfChar(ie,z),b=this.getValueOfPropertyAt(ie,z,"deltaY"),le&&H&&Q)s.save(),s.fillStyle=se,s.translate(j.renderLeft,j.renderTop),s.rotate(j.angle),s.fillRect(-j.kernedWidth/2,X*v+b,j.kernedWidth,this.fontSize/15),s.restore();else if((H!==S||Q!==se||v!==u||b!==y)&&R>0){var W=T+f+F;this.direction==="rtl"&&(W=this.width-W-R),S&&se&&(s.fillStyle=se,s.fillRect(W,P+X*u+y,R,this.fontSize/15)),F=j.left,R=j.width,S=H,se=Q,u=v,y=b}else R+=j.kernedWidth;var W=T+f+F;this.direction==="rtl"&&(W=this.width-W-R),s.fillStyle=Q,H&&Q&&s.fillRect(W,P+X*u+y,R-ge,this.fontSize/15),E+=a}this._removeShadow(s)}},_getFontDeclaration:function(s,l){var a=s||this,u=this.fontFamily,v=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,f=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||v?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,l?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",f].join(" ")},render:function(s){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",s)))},_splitTextIntoLines:function(s){for(var l=s.split(this._reNewline),a=new Array(l.length),u=[`
`],v=[],f=0;f<l.length;f++)a[f]=i.util.string.graphemeSplit(l[f]),v=v.concat(a[f],u);return v.pop(),{_unwrappedLines:a,lines:l,graphemeText:v,graphemeLines:a}},toObject:function(s){var l=h.concat(s),a=this.callSuper("toObject",l);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(s,l){this.callSuper("set",s,l);var a=!1,u=!1;if(typeof s=="object")for(var v in s)v==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(v)!==-1,u=u||v==="path";else a=this._dimensionAffectingProps.indexOf(s)!==-1,u=s==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(s,l,a){if(!s)return l(null);var u=i.parseAttributes(s,i.Text.ATTRIBUTE_NAMES),v=u.textAnchor||"left";if(a=i.util.object.extend(a?d(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var f=u.textDecoration;f.indexOf("underline")!==-1&&(a.underline=!0),f.indexOf("overline")!==-1&&(a.overline=!0),f.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var y="";"textContent"in s?y=s.textContent:"firstChild"in s&&s.firstChild!==null&&"data"in s.firstChild&&s.firstChild.data!==null&&(y=s.firstChild.data),y=y.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=a.strokeWidth;a.strokeWidth=0;var _=new i.Text(y,a),S=_.getScaledHeight()/_.height,T=(_.height+_.strokeWidth)*_.lineHeight-_.height,E=T*S,P=_.getScaledHeight()+E,F=0;v==="center"&&(F=_.getScaledWidth()/2),v==="right"&&(F=_.getScaledWidth()),_.set({left:_.left-F,top:_.top-(P-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof b<"u"?b:1}),l(_)},i.Text.fromObject=function(s,l){var a=d(s),u=s.path;return delete a.path,i.Object._fromObject("Text",a,function(v){v.styles=i.util.stylesFromArray(s.styles,s.text),u?i.Object._fromObject("Path",u,function(f){v.set("path",f),l(v)},"path"):l(v)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var d in i)for(var h in i[d])for(var s in i[d][h])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var d=typeof i>"u"?this.styles:{0:this.styles[i]};for(var h in d)for(var s in d[h])if(typeof d[h][s][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,d=0,h,s,l=!0,a=0,u;for(var v in i){h=0;for(var f in i[v]){var u=i[v][f],y=u.hasOwnProperty(c);d++,y?(s?u[c]!==s&&(l=!1):s=u[c],u[c]===this[c]&&delete u[c]):l=!1,Object.keys(u).length!==0?h++:delete i[v][f]}h===0&&delete i[v]}for(var b=0;b<this._textLines.length;b++)a+=this._textLines[b].length;l&&d===a&&(this[c]=s,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,d,h,s;for(h in i){d=i[h];for(s in d)delete d[s][c],Object.keys(d[s]).length===0&&delete d[s];Object.keys(d).length===0&&delete i[h]}}},_extendStyles:function(c,i){var d=this.get2DCursorLocation(c);this._getLineStyle(d.lineIndex)||this._setLineStyle(d.lineIndex),this._getStyleDeclaration(d.lineIndex,d.charIndex)||this._setStyleDeclaration(d.lineIndex,d.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(d.lineIndex,d.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var d=i?this._unwrappedTextLines:this._textLines,h=d.length,s=0;s<h;s++){if(c<=d[s].length)return{lineIndex:s,charIndex:c};c-=d[s].length+this.missingNewlineOffset(s)}return{lineIndex:s-1,charIndex:d[s-1].length<c?d[s-1].length:c}},getSelectionStyles:function(c,i,d){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var h=[],s=c;s<i;s++)h.push(this.getStyleAtPosition(s,d));return h},getStyleAtPosition:function(c,i){var d=this.get2DCursorLocation(c),h=i?this.getCompleteStyleDeclaration(d.lineIndex,d.charIndex):this._getStyleDeclaration(d.lineIndex,d.charIndex);return h||{}},setSelectionStyles:function(c,i,d){typeof i>"u"&&(i=this.selectionStart||0),typeof d>"u"&&(d=this.selectionEnd||i);for(var h=i;h<d;h++)this._extendStyles(h,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var d=this.styles&&this.styles[c];return d?d[i]:null},getCompleteStyleDeclaration:function(c,i){for(var d=this._getStyleDeclaration(c,i)||{},h={},s,l=0;l<this._styleProperties.length;l++)s=this._styleProperties[l],h[s]=typeof d[s]>"u"?this[s]:d[s];return h},_setStyleDeclaration:function(c,i,d){this.styles[c][i]=d},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,d){this.callSuper("initialize",i,d),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,d){this[i]!==d&&(this._fireSelectionChanged(),this[i]=d),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var d=this.canvas.contextTop,h=this.canvas.viewportTransform;d.save(),d.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(d),this._clearTextArea(d),i||d.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),d=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,d):this.renderSelection(i,d),d.restore()}},_clearTextArea:function(i){var d=this.width+4,h=this.height+4;i.clearRect(-d/2,-h/2,d,h)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var d=this._getLeftOffset(),h=this._getTopOffset(),s=this._getCursorBoundariesOffsets(i);return{left:d,top:h,leftOffset:s.left,topOffset:s.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var d,h,s,l=0,a=0,u,v=this.get2DCursorLocation(i);s=v.charIndex,h=v.lineIndex;for(var f=0;f<h;f++)l+=this.getHeightOfLine(f);d=this._getLineLeftOffset(h);var y=this.__charBounds[h][s];return y&&(a=y.left),this.charSpacing!==0&&s===this._textLines[h].length&&(a-=this._getWidthOfCharSpacing()),u={top:l,left:d+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,d){var h=this.get2DCursorLocation(),s=h.lineIndex,l=h.charIndex>0?h.charIndex-1:0,a=this.getValueOfPropertyAt(s,l,"fontSize"),u=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/u,f=i.topOffset,y=this.getValueOfPropertyAt(s,l,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,d),d.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,l,"fill"),d.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,d.fillRect(i.left+i.leftOffset-v/2,f+i.top+y,v,a)},renderSelection:function(i,d){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,s=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(h),u=this.get2DCursorLocation(s),v=a.lineIndex,f=u.lineIndex,y=a.charIndex<0?0:a.charIndex,b=u.charIndex<0?0:u.charIndex,_=v;_<=f;_++){var S=this._getLineLeftOffset(_)||0,T=this.getHeightOfLine(_),E=0,P=0,F=0;if(_===v&&(P=this.__charBounds[v][y].left),_>=v&&_<f)F=l&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===f)if(b===0)F=this.__charBounds[f][b].left;else{var R=this._getWidthOfCharSpacing();F=this.__charBounds[f][b-1].left+this.__charBounds[f][b-1].width-R}E=T,(this.lineHeight<1||_===f&&this.lineHeight>1)&&(T/=this.lineHeight);var j=i.left+S+P,H=F-P,Z=T,Q=0;this.inCompositionMode?(d.fillStyle=this.compositionColor||"black",Z=1,Q=T):d.fillStyle=this.selectionColor,this.direction==="rtl"&&(j=this.width-j-H),d.fillRect(j,i.top+i.topOffset+Q,H,Z),i.topOffset+=E}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),d=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:d}}}),e.IText.fromObject=function(i,d){var h=e.util.stylesFromArray(i.styles,i.text),s=Object.assign({},i,{styles:h});if(c(s),s.styles)for(var l in s.styles)for(var a in s.styles[l])c(s.styles[l][a]);e.Object._fromObject("IText",s,d,"text")}}(),function(){var c=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var d=i.canvas;d&&(d._hasITextHandlers||(d._hasITextHandlers=!0,i._initCanvasHandlers(d)),d._iTextInstances=d._iTextInstances||[],d._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var d=i.canvas;d&&(d._iTextInstances=d._iTextInstances||[],e.util.removeFromArray(d._iTextInstances,i),d._iTextInstances.length===0&&(d._hasITextHandlers=!1,i._removeCanvasHandlers(d)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(d){d.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,d,h,s){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",d,{duration:h,onComplete:function(){l.isAborted||i[s]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var d=this,h=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){d._tick()},h)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,d=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&d&&d.clearContext(d.contextTop||d.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var d=0,h=i-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)d++,h--;for(;/\S/.test(this._text[h])&&h>-1;)d++,h--;return i-d},findWordBoundaryRight:function(i){var d=0,h=i;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)d++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)d++,h++;return i+d},findLineBoundaryLeft:function(i){for(var d=0,h=i-1;!/\n/.test(this._text[h])&&h>-1;)d++,h--;return i-d},findLineBoundaryRight:function(i){for(var d=0,h=i;!/\n/.test(this._text[h])&&h<this._text.length;)d++,h++;return i+d},searchWordBoundary:function(i,d){for(var h=this._text,s=this._reSpace.test(h[i])?i-1:i,l=h[s],a=e.reNonWord;!a.test(l)&&s>0&&s<h.length;)s+=d,l=h[s];return a.test(l)&&(s+=d===1?0:1),s},selectWord:function(i){i=i||this.selectionStart;var d=this.searchWordBoundary(i,-1),h=this.searchWordBoundary(i,1);this.selectionStart=d,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var d=this.findLineBoundaryLeft(i),h=this.findLineBoundaryRight(i);return this.selectionStart=d,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(d){d.selected=!1,d.isEditing&&d.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var d=this.getSelectionStartFromPointer(i.e),h=this.selectionStart,s=this.selectionEnd;(d!==this.__selectionStartOnMouseDown||h===s)&&(h===d||s===d)||(d>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=d):(this.selectionStart=d,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==s)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,d,h){var s=h.slice(0,i),l=e.util.string.graphemeSplit(s).length;if(i===d)return{selectionStart:l,selectionEnd:l};var a=h.slice(i,d),u=e.util.string.graphemeSplit(a).length;return{selectionStart:l,selectionEnd:l+u}},fromGraphemeToStringSelection:function(i,d,h){var s=h.slice(0,i),l=s.join("").length;if(i===d)return{selectionStart:l,selectionEnd:l};var a=h.slice(i,d),u=a.join("").length;return{selectionStart:l,selectionEnd:l+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,d=this._getCursorBoundaries(i),h=this.get2DCursorLocation(i),s=h.lineIndex,l=h.charIndex,a=this.getValueOfPropertyAt(s,l,"fontSize")*this.lineHeight,u=d.leftOffset,v=this.calcTransformMatrix(),f={x:d.left+u,y:d.top+d.topOffset+a},y=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,_=b.width/y,S=b.height/y,T=_-a,E=S-a,P=b.clientWidth/_,F=b.clientHeight/S;return f=e.util.transformPoint(f,v),f=e.util.transformPoint(f,this.canvas.viewportTransform),f.x*=P,f.y*=F,f.x<0&&(f.x=0),f.x>T&&(f.x=T),f.y<0&&(f.y=0),f.y>E&&(f.y=E),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,d=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,d&&(d.blur&&d.blur(),d.parentNode&&d.parentNode.removeChild(d)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,d){var h=this.get2DCursorLocation(i,!0),s=this.get2DCursorLocation(d,!0),l=h.lineIndex,a=h.charIndex,u=s.lineIndex,v=s.charIndex,f,y;if(l!==u){if(this.styles[l])for(f=a;f<this._unwrappedTextLines[l].length;f++)delete this.styles[l][f];if(this.styles[u])for(f=v;f<this._unwrappedTextLines[u].length;f++)y=this.styles[u][f],y&&(this.styles[l]||(this.styles[l]={}),this.styles[l][a+f-v]=y);for(f=l+1;f<=u;f++)delete this.styles[f];this.shiftLineStyles(u,l-u)}else if(this.styles[l]){y=this.styles[l];var b=v-a,_,S;for(f=a;f<v;f++)delete y[f];for(S in this.styles[l])_=parseInt(S,10),_>=v&&(y[_-b]=y[S],delete y[S])}},shiftLineStyles:function(i,d){var h=c(this.styles);for(var s in this.styles){var l=parseInt(s,10);l>i&&(this.styles[l+d]=h[l],h[l-d]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,d,h,s){var l,a={},u=!1,v=this._unwrappedTextLines[i].length===d;h||(h=1),this.shiftLineStyles(i,h),this.styles[i]&&(l=this.styles[i][d===0?d:d-1]);for(var f in this.styles[i]){var y=parseInt(f,10);y>=d&&(u=!0,a[y-d]=this.styles[i][f],v&&d===0||delete this.styles[i][f])}var b=!1;for(u&&!v&&(this.styles[i+h]=a,b=!0),b&&h--;h>0;)s&&s[h-1]?this.styles[i+h]={0:c(s[h-1])}:l?this.styles[i+h]={0:c(l)}:delete this.styles[i+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(i,d,h,s){this.styles||(this.styles={});var l=this.styles[i],a=l?c(l):{};h||(h=1);for(var u in a){var v=parseInt(u,10);v>=d&&(l[v+h]=a[v],a[v-h]||delete l[v])}if(this._forceClearCache=!0,s){for(;h--;)Object.keys(s[h]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][d+h]=c(s[h]));return}if(l)for(var f=l[d?d-1:1];f&&h--;)this.styles[i][d+h]=c(f)},insertNewStyleBlock:function(i,d,h){for(var s=this.get2DCursorLocation(d,!0),l=[0],a=0,u=0;u<i.length;u++)i[u]===`
`?(a++,l[a]=0):l[a]++;l[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,l[0],h),h=h&&h.slice(l[0]+1)),a&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+l[0],a);for(var u=1;u<a;u++)l[u]>0?this.insertCharStyleObject(s.lineIndex+u,0,l[u],h):h&&this.styles[s.lineIndex+u]&&h[0]&&(this.styles[s.lineIndex+u][0]=h[0]),h=h&&h.slice(l[u]+1);l[u]>0&&this.insertCharStyleObject(s.lineIndex+u,0,l[u],h)},setSelectionStartEndWithShift:function(i,d,h){h<=i?(d===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=h):h>i&&h<d?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(d===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=d),this.selectionEnd=h)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),d=this.selectionStart,h=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(d,h,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),d=0,h=0,s=0,l=0,a=0,u,v,f=0,y=this._textLines.length;f<y&&s<=i.y;f++)s+=this.getHeightOfLine(f)*this.scaleY,a=f,f>0&&(l+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));u=this._getLineLeftOffset(a),h=u*this.scaleX,v=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+h);for(var b=0,_=v.length;b<_&&(d=h,h+=this.__charBounds[a][b].kernedWidth*this.scaleX,h<=i.x);b++)l++;return this._getNewSelectionStartFromOffset(i,d,h,l,_)},_getNewSelectionStartFromOffset:function(c,i,d,h,s){var l=c.x-i,a=d-c.x,u=a>l||a<0?0:1,v=h+u;return this.flipX&&(v=s-v),v>this._text.length&&(v=this._text.length),v}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var d=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,s=d.length,l,a,u=s-h,v=this.selectionStart,f=this.selectionEnd,y=v!==f,b,_,S;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var T=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),E=v>T.selectionStart;y?(l=this._text.slice(v,f),u+=f-v):s<h&&(E?l=this._text.slice(f+u,f):l=this._text.slice(v,v-u)),a=d.slice(T.selectionEnd-u,T.selectionEnd),l&&l.length&&(a.length&&(b=this.getSelectionStyles(v,v+1,!1),b=a.map(function(){return b[0]})),y?(_=v,S=f):E?(_=f-l.length,S=f):(_=f,S=f+l.length),this.removeStyleFromTo(_,S)),a.length&&(i&&a.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(b=e.copiedTextStyle),this.insertNewStyleBlock(a,v,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(c,i){var d=this._getLineLeftOffset(c),h;return i>0&&(h=this.__charBounds[c][i-1],d+=h.left+h.width),d},getDownCursorOffset:function(c,i){var d=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(d),s=h.lineIndex;if(s===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-d;var l=h.charIndex,a=this._getWidthBeforeCursor(s,l),u=this._getIndexOnLine(s+1,a),v=this._textLines[s].slice(l);return v.length+u+1+this.missingNewlineOffset(s)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var d=this._getSelectionForOffset(c,i),h=this.get2DCursorLocation(d),s=h.lineIndex;if(s===0||c.metaKey||c.keyCode===33)return-d;var l=h.charIndex,a=this._getWidthBeforeCursor(s,l),u=this._getIndexOnLine(s-1,a),v=this._textLines[s].slice(0,l),f=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+u-v.length+(1-f)},_getIndexOnLine:function(c,i){for(var d=this._textLines[c],h=this._getLineLeftOffset(c),s=h,l=0,a,u,v=0,f=d.length;v<f;v++)if(a=this.__charBounds[c][v].width,s+=a,s>i){u=!0;var y=s-a,b=s,_=Math.abs(y-i),S=Math.abs(b-i);l=S<_?v:v-1;break}return u||(l=d.length-1),l},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var d="get"+c+"CursorOffset",h=this[d](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,d){var h;if(c.altKey)h=this["findWordBoundary"+d](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)h=this["findLineBoundary"+d](this[i]);else return this[i]+=d==="Left"?-1:1,!0;if(typeof h<"u"&&this[i]!==h)return this[i]=h,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var d="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?d+="Shift":d+="outShift",this[d](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,d,h){typeof h>"u"&&(h=d),h>d&&this.removeStyleFromTo(d,h);var s=e.util.string.graphemeSplit(c);this.insertNewStyleBlock(s,d,i),this._text=[].concat(this._text.slice(0,d),s,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=e.util.toFixed,i=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var d=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(d.textTop,d.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(d){var h=!0,s=this.getSvgTextDecoration(this);return[d.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",s?'text-decoration="'+s+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",d.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(d,h){var s=[],l=[],a=d,u;this._setSVGBg(l);for(var v=0,f=this._textLines.length;v<f;v++)u=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(l,v,h+u,a),this._setSVGTextLineText(s,v,h+u,a),a+=this.getHeightOfLine(v);return{textSpans:s,textBgRects:l}},_createTextCharSpan:function(d,h,s,l){var a=d!==d.trim()||d.match(i),u=this.getSvgSpanStyles(h,a),v=u?'style="'+u+'"':"",f=h.deltaY,y="",b=e.Object.NUM_FRACTION_DIGITS;return f&&(y=' dy="'+c(f,b)+'" '),['<tspan x="',c(s,b),'" y="',c(l,b),'" ',y,v,">",e.util.string.escapeXml(d),"</tspan>"].join("")},_setSVGTextLineText:function(d,h,s,l){var a=this.getHeightOfLine(h),u=this.textAlign.indexOf("justify")!==-1,v,f,y="",b,_,S=0,T=this._textLines[h],E;l+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var P=0,F=T.length-1;P<=F;P++)E=P===F||this.charSpacing,y+=T[P],b=this.__charBounds[h][P],S===0?(s+=b.kernedWidth-b.width,S+=b.width):S+=b.kernedWidth,u&&!E&&this._reSpaceAndTab.test(T[P])&&(E=!0),E||(v=v||this.getCompleteStyleDeclaration(h,P),f=this.getCompleteStyleDeclaration(h,P+1),E=e.util.hasStyleChanged(v,f,!0)),E&&(_=this._getStyleDeclaration(h,P)||{},d.push(this._createTextCharSpan(y,_,s,l)),y="",v=f,s+=S,S=0)},_pushTextBgRect:function(d,h,s,l,a,u){var v=e.Object.NUM_FRACTION_DIGITS;d.push("		<rect ",this._getFillAttributes(h),' x="',c(s,v),'" y="',c(l,v),'" width="',c(a,v),'" height="',c(u,v),`"></rect>
`)},_setSVGTextLineBg:function(d,h,s,l){for(var a=this._textLines[h],u=this.getHeightOfLine(h)/this.lineHeight,v=0,f=0,y,b,_=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),S=0,T=a.length;S<T;S++)y=this.__charBounds[h][S],b=this.getValueOfPropertyAt(h,S,"textBackgroundColor"),b!==_?(_&&this._pushTextBgRect(d,_,s+f,l,v,u),f=y.left,v=y.width,_=b):v+=y.kernedWidth;b&&this._pushTextBgRect(d,b,s+f,l,v,u)},_getFillAttributes:function(d){var h=d&&typeof d=="string"?new e.Color(d):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+d+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(d){for(var h=0,s=0,l=0;l<d;l++)h+=this.getHeightOfLine(l);return s=this.getHeightOfLine(l),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(d){var h=e.Object.prototype.getSvgStyles.call(this,d);return h+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(d){for(var h=0,s=0,l=0,a={},u=0;u<d.graphemeLines.length;u++)d.graphemeText[l]===`
`&&u>0?(s=0,l++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(d.graphemeText[l])&&u>0&&(s++,l++),a[u]={line:h,offset:s},l+=d.graphemeLines[u].length,s+=d.graphemeLines[u].length;return a},styleHas:function(d,h){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[h];s&&(h=s.line)}return i.Text.prototype.styleHas.call(this,d,h)},isEmptyStyles:function(d){if(!this.styles)return!0;var h=0,s=d+1,l,a,u=!1,v=this._styleMap[d],f=this._styleMap[d+1];v&&(d=v.line,h=v.offset),f&&(s=f.line,u=s===d,l=f.offset),a=typeof d>"u"?this.styles:{line:this.styles[d]};for(var y in a)for(var b in a[y])if(b>=h&&(!u||b<l))for(var _ in a[y][b])return!1;return!0},_getStyleDeclaration:function(d,h){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[d];if(!s)return null;d=s.line,h=s.offset+h}return this.callSuper("_getStyleDeclaration",d,h)},_setStyleDeclaration:function(d,h,s){var l=this._styleMap[d];d=l.line,h=l.offset+h,this.styles[d][h]=s},_deleteStyleDeclaration:function(d,h){var s=this._styleMap[d];d=s.line,h=s.offset+h,delete this.styles[d][h]},_getLineStyle:function(d){var h=this._styleMap[d];return!!this.styles[h.line]},_setLineStyle:function(d){var h=this._styleMap[d];this.styles[h.line]={}},_wrapText:function(d,h){var s=[],l;for(this.isWrapping=!0,l=0;l<d.length;l++)s=s.concat(this._wrapLine(d[l],l,h));return this.isWrapping=!1,s},_measureWord:function(d,h,s){var l=0,a,u=!0;s=s||0;for(var v=0,f=d.length;v<f;v++){var y=this._getGraphemeBox(d[v],h,v+s,a,u);l+=y.kernedWidth,a=d[v]}return l},_wrapLine:function(d,h,s,j){var a=0,u=this.splitByGrapheme,v=[],f=[],y=u?i.util.string.graphemeSplit(d):d.split(this._wordJoiners),b="",_=0,S=u?"":" ",T=0,E=0,P=0,F=!0,R=this._getWidthOfCharSpacing(),j=j||0;y.length===0&&y.push([]),s-=j;for(var H=0;H<y.length;H++)b=u?y[H]:i.util.string.graphemeSplit(y[H]),T=this._measureWord(b,h,_),_+=b.length,a+=E+T-R,a>s&&!F?(v.push(f),f=[],a=T,F=!0):a+=R,!F&&!u&&f.push(S),f=f.concat(b),E=u?0:this._measureWord([S],h,_),_++,F=!1,T>P&&(P=T);return H&&v.push(f),P+j>this.dynamicMinWidth&&(this.dynamicMinWidth=P-R+j),v},isEndOfWrapping:function(d){return!this._styleMap[d+1]||this._styleMap[d+1].line!==this._styleMap[d].line},missingNewlineOffset:function(d){return this.splitByGrapheme?this.isEndOfWrapping(d)?1:0:1},_splitTextIntoLines:function(d){for(var h=i.Text.prototype._splitTextIntoLines.call(this,d),s=this._wrapText(h.lines,this.width),l=new Array(s.length),a=0;a<s.length;a++)l[a]=s[a].join("");return h.lines=l,h.graphemeLines=s,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var d={};for(var h in this._styleMap)this._textLines[h]&&(d[this._styleMap[h].line]=1);for(var h in this.styles)d[h]||delete this.styles[h]},toObject:function(d){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(d))}}),i.Textbox.fromObject=function(d,h){var s=i.util.stylesFromArray(d.styles,d.text),l=Object.assign({},d,{styles:s});return i.Object._fromObject("Textbox",l,h,"text")}}(t),function(){var c=e.controlsUtils,i=c.scaleSkewCursorStyleHandler,d=c.scaleCursorStyleHandler,h=c.scalingEqually,s=c.scalingYOrSkewingX,l=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,u=e.Object.prototype.controls;if(u.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mr=new e.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:a}),u.mb=new e.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:s,getActionName:a}),u.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:s,getActionName:a}),u.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:d,actionHandler:h}),u.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:d,actionHandler:h}),u.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:d,actionHandler:h}),u.br=new e.Control({x:.5,y:.5,cursorStyleHandler:d,actionHandler:h}),u.mtr=new e.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var v=e.Textbox.prototype.controls={};v.mtr=u.mtr,v.tr=u.tr,v.br=u.br,v.tl=u.tl,v.bl=u.bl,v.mt=u.mt,v.mb=u.mb,v.mr=new e.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),v.ml=new e.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(yt);const vs={deleteFile:`<?xml version="1.0" encoding="UTF-8"?>
    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="3-2" transform="translate(-1084.000000, -467.000000)">
                <g id="-15" transform="translate(1084.000000, 467.000000)">
                    <circle id="" stroke="#EEEEEE" fill="#FFFFFF" cx="10" cy="10" r="9.5"></circle>
                    <g id="-14" transform="translate(7.000000, 7.000000)" stroke="#666666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
                        <line x1="6" y1="0" x2="0" y2="6" id="-2"></line>
                        <line x1="6" y1="0" x2="0" y2="6" id="-2" transform="translate(3.000000, 3.000000) scale(-1, 1) translate(-3.000000, -3.000000) "></line>
                    </g>
                </g>
            </g>
        </g>
    </svg>`,cloneFile:`<?xml version="1.0" encoding="UTF-8"?>
    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="3-2" transform="translate(-1084.000000, -557.000000)">
                <g id="-15-2" transform="translate(1084.000000, 557.000000)">
                    <circle id="" stroke="#EEEEEE" fill="#FFFFFF" cx="10" cy="10" r="9.5"></circle>
                    <g id="" transform="translate(10.500000, 9.500000) rotate(180.000000) translate(-10.500000, -9.500000) translate(6.000000, 5.000000)" stroke="#666666" stroke-width="1.3">
                        <rect id="" x="3" y="-5.00222086e-12" width="6" height="6" rx="1"></rect>
                        <path d="M5.5,8.5 L2.5,8.5 C1.3954305,8.5 0.5,7.6045695 0.5,6.5 L0.5,3.5 L0.5,3.5" id="-3" stroke-linecap="round" stroke-linejoin="round"></path>
                    </g>
                </g>
            </g>
        </g>
    </svg>`,rotateFile:`<?xml version="1.0" encoding="UTF-8"?>
    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="3-2" transform="translate(-1174.000000, -467.000000)">
                <g id="-15" transform="translate(1174.000000, 467.000000)">
                    <circle id="" stroke="#EEEEEE" fill="#FFFFFF" cx="10" cy="10" r="9.5"></circle>
                    <g id="" transform="translate(4.000000, 5.000000)" fill="#666666" fill-rule="nonzero">
                        <path d="M5.89053289,8.86248149 C5.78793375,8.86099646 5.68542826,8.85585178 5.58323027,8.84705819 C5.54163406,8.84381118 5.50003785,8.83731715 5.45844164,8.83244663 C5.37864482,8.82189384 5.29884801,8.81215281 5.220749,8.79754125 C5.17236157,8.78861197 5.12567195,8.77724742 5.07898232,8.76588286 C5.0028328,8.74980303 4.9272417,8.73139385 4.85232541,8.71068365 C4.81582261,8.70013086 4.78101762,8.68795456 4.74536373,8.67659002 C4.65930842,8.64995693 4.57435548,8.62017066 4.49069304,8.58729717 C4.47201719,8.57999139 4.45419024,8.57106211 4.43551439,8.56294457 C4.3383225,8.5228512 4.24288299,8.47897999 4.14943432,8.43144055 L4.1358519,8.42494653 C3.82218017,8.2604431 3.53438771,8.054386 3.28100729,7.81288463 L3.26827377,7.79989658 C3.18996914,7.72487738 3.1154635,7.64631807 3.04501246,7.56448816 L3.00002065,7.50928895 C2.46694945,6.87445039 2.17645561,6.0846347 2.17658543,5.27047366 L3.16555659,5.27047366 L1.58235384,3 L0,5.27047366 L0.989820051,5.27047366 C0.989820051,6.26568307 1.31410072,7.18783469 1.8650383,7.95007092 C1.87182952,7.96143546 1.87607403,7.97280001 1.88371415,7.98254104 C1.94143951,8.0612811 2.00425828,8.13352713 2.06537924,8.20658493 L2.13329142,8.29100726 C2.22412397,8.39572342 2.32004993,8.49394555 2.41852259,8.59054418 C2.42786051,8.59866172 2.43634954,8.60921451 2.44568746,8.61814379 C2.77675934,8.93472752 3.15027634,9.20098257 3.55774944,9.41366191 C3.68573921,9.48028151 3.8165843,9.5417578 3.94994229,9.59792988 L4.04077484,9.63770579 C4.14518982,9.67829345 4.2521515,9.71482234 4.35996209,9.74972773 C4.41089623,9.76596279 4.46183037,9.7830096 4.5136134,9.79843292 C4.60869046,9.82522078 4.70461642,9.84713811 4.80224017,9.86905544 C4.86675674,9.883667 4.93042441,9.89909031 4.9957899,9.91126661 C5.02380367,9.91694889 5.04927074,9.92425467 5.07643561,9.92831343 C5.16811706,9.94454849 5.26064741,9.95266603 5.35232886,9.96321882 L5.45080152,9.97620686 C6.62665383,10.0897546 7.80592292,9.79436635 8.77255613,9.14415986 C9.02089143,8.95783189 9.07354259,8.61835548 8.8924498,8.37112696 C8.71135701,8.12389843 8.35972479,8.05520481 8.09173651,8.21470245 C7.43808175,8.65304917 6.6732208,8.87222253 5.89053289,8.86248149 L5.89053289,8.86248149 Z M10.1505549,2.05485966 C10.1421138,2.04186963 10.1370491,2.02887961 10.1277639,2.01670146 C10.0602351,1.92333565 9.98679752,1.83727674 9.91251583,1.75040594 L9.88719254,1.71793087 C9.39423263,1.14096523 8.7646649,0.686054494 8.05125316,0.391324517 L7.99216545,0.366156338 C7.87820128,0.321978664 7.76277904,0.281363535 7.64608033,0.244374855 C7.60387483,0.230572948 7.56335755,0.215959174 7.51946382,0.203781024 C7.41769604,0.174742084 7.31493738,0.149017987 7.21136365,0.126652741 C7.15396417,0.11447459 7.09572058,0.100672695 7.0383211,0.0893064223 C7.00962136,0.0836232861 6.98176573,0.0755045154 6.95391009,0.0706332574 C6.87625196,0.0576432287 6.79774972,0.0519600926 6.72009161,0.0422175766 C6.66606856,0.0357225623 6.61373374,0.0276038026 6.55971069,0.0227325447 C6.42946244,0.0114180483 6.2988105,0.00491824536 6.16804362,0.00324750162 C6.14440854,0.00324750162 6.12161757,0 6.09798249,0 L6.08616495,0.00162374526 C5.08119056,0.00132023614 4.10065368,0.299616885 3.2786549,0.855717927 C3.0929312,0.966898896 2.98627111,1.16767518 3.0014242,1.37757525 C3.01657729,1.58747533 3.15106361,1.77214696 3.35098078,1.8575734 C3.55089796,1.94299984 3.78352754,1.9152002 3.95563116,1.78531663 C4.68276112,1.29329583 5.5694501,1.06885183 6.45419694,1.15286476 C6.48796134,1.15611227 6.52172575,1.16098353 6.55380192,1.16504291 C6.64243348,1.17559731 6.73106504,1.18777546 6.81800837,1.20401299 C6.85599333,1.21131988 6.89397827,1.22025052 6.93111912,1.22836929 C7.01637424,1.24704245 7.10162935,1.26733936 7.18435213,1.29088379 L7.26369848,1.31686383 C7.35823881,1.34690327 7.45193502,1.37856645 7.54394301,1.41510091 L7.57179864,1.42727906 C8.12131429,1.6546045 8.60414524,2.00533519 8.98061833,2.44374855 L8.98737121,2.45186731 C9.53658777,3.09320737 9.83679529,3.89830288 9.83654593,4.72918117 L8.85146949,4.72918117 L10.4257347,7 L12,4.72836929 L11.0166118,4.72836929 C11.0171856,3.7729937 10.715085,2.84012881 10.1505549,2.05404778 L10.1505549,2.05485966 Z" id=""></path>
                    </g>
                </g>
            </g>
        </g>
    </svg>`,zoomFile:`<?xml version="1.0" encoding="UTF-8"?>
    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="3-2" transform="translate(-1174.000000, -557.000000)">
                <g id="-15-3" transform="translate(1174.000000, 557.000000)">
                    <circle id="" stroke="#EEEEEE" fill="#FFFFFF" cx="10" cy="10" r="9.5"></circle>
                    <g id="" transform="translate(9.500000, 10.500000) rotate(90.000000) translate(-9.500000, -10.500000) translate(5.000000, 6.000000)" stroke="#666666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.3">
                        <g id="-16" transform="translate(0.500000, 0.500000)">
                            <path d="M5,7.5 L1,7.5 C0.44771525,7.5 6.76353751e-17,7.05228475 0,6.5 L0,2.5 L0,2.5" id="-3"></path>
                            <path d="M7.5,5 L3.5,5 C2.94771525,5 2.5,4.55228475 2.5,4 L2.5,-9.09494702e-13 L2.5,-9.09494702e-13" id="-3" transform="translate(5.000000, 2.500000) rotate(180.000000) translate(-5.000000, -2.500000) "></path>
                        </g>
                    </g>
                </g>
            </g>
        </g>
    </svg>`,zoomX:`<svg width="12" height="24" viewBox="0 0 12 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g filter="url(#filter0_d)">
    <rect x="4" y="4" width="4" height="16" rx="2" fill="white"/>
    <rect x="4.25" y="4.25" width="3.5" height="15.5" rx="1.75" stroke="black" stroke-opacity="0.3" stroke-width="0.5"/>
    </g>
    <defs>
    <filter id="filter0_d" x="0" y="0" width="12" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset/>
    <feGaussianBlur stdDeviation="2"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.137674 0 0 0 0 0.190937 0 0 0 0 0.270833 0 0 0 0.15 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    </defs>
    </svg>
    `,zoomY:`<svg width="24" height="12" viewBox="0 0 24 12" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g filter="url(#filter0_d)">
    <rect x="20" y="4" width="4" height="16" rx="2" transform="rotate(90 20 4)" fill="white"/>
    <rect x="19.75" y="4.25" width="3.5" height="15.5" rx="1.75" transform="rotate(90 19.75 4.25)" stroke="black" stroke-opacity="0.3" stroke-width="0.5"/>
    </g>
    <defs>
    <filter id="filter0_d" x="0" y="0" width="24" height="12" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset/>
    <feGaussianBlur stdDeviation="2"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.137674 0 0 0 0 0.190937 0 0 0 0 0.270833 0 0 0 0.15 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    </defs>
    </svg>
    `},NP=`data:image/svg+xml,${encodeURIComponent(vs.zoomX)}`,Df=document.createElement("img");Df.src=NP;const zP=`data:image/svg+xml,${encodeURIComponent(vs.zoomY)}`,Mf=document.createElement("img");Mf.src=zP;const WP=`data:image/svg+xml,${encodeURIComponent(vs.deleteFile)}`,Zv=document.createElement("img");Zv.src=WP;const HP=`data:image/svg+xml,${encodeURIComponent(vs.cloneFile)}`,Qv=document.createElement("img");Qv.src=HP;const UP=`data:image/svg+xml,${encodeURIComponent(vs.rotateFile)}`,em=document.createElement("img");em.src=UP;const VP=`data:image/svg+xml,${encodeURIComponent(vs.zoomFile)}`,tm=document.createElement("img");tm.src=VP;const an=yt.fabric.controlsUtils,gg=yt.fabric.Object.prototype.controls.br;function Hr(t){return function(e,n,r,p,m){const x=this.cornerSize;e.save(),e.translate(n,r),e.rotate(yt.fabric.util.degreesToRadians(m.angle)),e.drawImage(t,-x/2,-x/2,x,x),e.restore()}}yt.fabric.Object.prototype.set({transparentCorners:!0,borderColor:"rgb(187, 143, 206)",borderScaleFactor:2.5,borderOpacityWhenMoving:1,cornerSize:20,cornerStyle:"circle",cornerColor:"#000",cornerStrokeColor:"#000"});yt.fabric.Object.prototype.controls.ml=new yt.fabric.Control({x:-.5,y:0,offsetX:-1,offsetY:0,cursorStyleHandler:an.scaleSkewCursorStyleHandler,actionHandler:an.scalingXOrSkewingY,getActionName:an.scaleOrSkewActionName,render:Hr(Df),cornerSize:20});yt.fabric.Object.prototype.controls.mr=new yt.fabric.Control({x:.5,y:0,offsetX:-1,offsetY:0,cursorStyleHandler:an.scaleSkewCursorStyleHandler,actionHandler:an.scalingXOrSkewingY,getActionName:an.scaleOrSkewActionName,render:Hr(Df),cornerSize:20});yt.fabric.Object.prototype.controls.mt=new yt.fabric.Control({x:0,y:-.5,offsetX:-1,offsetY:0,cursorStyleHandler:an.scaleSkewCursorStyleHandler,actionHandler:an.scalingYOrSkewingX,getActionName:an.scaleOrSkewActionName,render:Hr(Mf),cornerSize:20});yt.fabric.Object.prototype.controls.bt=new yt.fabric.Control({x:0,y:.5,offsetX:-1,offsetY:0,cursorStyleHandler:an.scaleSkewCursorStyleHandler,actionHandler:an.scalingYOrSkewingX,getActionName:an.scaleOrSkewActionName,render:Hr(Mf),cornerSize:20});yt.fabric.Object.prototype.controls.tl=new yt.fabric.Control({...Za.topLeft,offsetY:0,objectCaching:!1,cursorStyle:"pointer",mouseUpHandler:GP,render:Hr(Zv),cornerSize:20});yt.fabric.Object.prototype.controls.bl=new yt.fabric.Control({...Za.bottomLeft,offsetY:0,offsetX:0,objectCaching:!1,cursorStyle:"pointer",mouseUpHandler:YP,render:Hr(Qv),cornerSize:20});yt.fabric.Object.prototype.controls.tr=new yt.fabric.Control({...Za.topRight,offsetY:0,offsetX:0,cursorStyle:"pointer",objectCaching:!1,actionHandler:an.rotationWithSnapping,cursorStyleHandler:an.rotationStyleHandler,render:Hr(em),cornerSize:20,actionName:"rotate"});yt.fabric.Object.prototype.controls.br=new yt.fabric.Control({...Za.bottomRight,offsetY:0,offsetX:0,objectCaching:!1,cursorStyle:"pointer",actionHandler:gg.actionHandler,cursorStyleHandler:gg.cursorStyleHandler,render:Hr(tm),cornerSize:20,actionName:"zoom"});"mb|mtr".split("|").forEach(t=>{yt.fabric.Object.prototype.setControlVisible(t,!1)});function GP(t,e){const n=e.target,{canvas:r}=n;r.remove(n),r.requestRenderAll()}function YP(t,e){const{target:n}=e,{canvas:r}=n;n.clone(p=>{p.left+=50,p.top+=50,r.add(p),r.setActiveObject(p)})}const Bi=yt.fabric,ha=ls(),Rr=class Rr{constructor(){Je(this,"canvas");Je(this,"setCanvas",e=>{this.canvas=e});Je(this,"updateCanvasRect",(e,n)=>{const{canvas:r}=this;r.setWidth(parseInt(`${e/ha}`,10)),r.setHeight(parseInt(`${n/ha}`,10))});Je(this,"addImage",({imageTag:e,width:n,height:r,selectable:p=!1,autocenter:m=!0,position:x={},scale:c=1,autoFocus:i=!0,removeCurrentSelected:d=!0,borderRadius:h=30})=>{const{canvas:s,getSelected:l}=this,a=e;a.setAttribute("crossOrigin","Anonymous");const u={width:n,height:r,top:0,left:0};if(m&&p&&!hu(x)){let v=n,f=r;c!==0&&(v*=c,f*=c),u.left=(s.width-v)/2,u.top=(s.height-f)/2}if(hu(x)&&pg.isNumber(x.left)&&pg.isNumber(x.top)&&(u.left=x.left,u.top=x.top),d){const v=l();v&&!v._objects&&(s.remove(v),u.left=v.left,u.top=v.top)}Bi.Image.fromURL(a.src,v=>{v.set({selectable:p,cornerRadius:30,transparentCorners:!0,...u}),p?(c!==1&&(v.scaleToHeight(r*c),v.scaleToWidth(n*c)),s.add(v),i&&s.setActiveObject(v)):(p||(v.scaleToHeight(s.height),v.scaleToWidth(s.width)),s.backgroundImage=v),s.renderAll()},{crossOrigin:"Anonymous",id:Ni()})});Je(this,"removeBackgroundImage",()=>{const{canvas:e}=this;e.backgroundImage=void 0,e.renderAll()});Je(this,"setBackgroundColor",({color:e})=>{const{canvas:n}=this;n.backgroundColor=e,n.renderAll()});Je(this,"getCanvasRect",()=>{const{canvas:e}=this,n=e.lowerCanvasEl,{width:r,height:p}=n;return{width:Math.floor(r/ha),height:Math.floor(p/ha)}});Je(this,"addImageFromURL",({url:e,selectable:n=!0,scale:r=1,position:p={},autoFocus:m})=>{const{getSelected:x,getSelectedType:c,getCanvasRect:i,addImage:d}=this,h=new Image;let s=r;const l=x();return l&&c(l)==="i-text"?Promise.reject(new Error("Text cannot be replaced with an image")):new Promise((a,u)=>{h.setAttribute("crossOrigin","Anonymous"),h.onload=()=>{h.onload=()=>{};const{width:v,height:f}=h,y=i();r===1&&((v>y.width*.6||f>y.height*.6)&&(s=Math.min(y.width/v*.6,y.height/f*.6)),l&&l.scaleX&&(s=l.scaleX)),d({imageTag:h,width:v,height:f,selectable:n,scale:s,position:p,autoFocus:m}),Promise.resolve(()=>a(!0))},h.onerror=()=>{h.onerror=()=>{},u(new Error("Failed to obtain sticker resources"))},h.src=e})});Je(this,"getSelected",()=>{const{canvas:e}=this;return e?e.getActiveObject():null});Je(this,"getSelectedType",e=>{const n=e||this.getSelected();return n?n.type:""});Je(this,"unSelectAll",()=>{const{canvas:e}=this;e&&e.discardActiveObject&&(e.discardActiveObject(),e.renderAll())});Je(this,"clear",()=>{this.canvas.clear()});Je(this,"changeCanvasBackgroundImage",e=>{const{canvas:n}=this;e.setAttribute("crossOrigin","Anonymous"),Bi.Image.fromURL(e.src,r=>{r.scaleToHeight(n.height),r.scaleToWidth(n.width),n.backgroundImage=r,n.renderAll()},{crossOrigin:"Anonymous"})});Je(this,"insertText",({text:e="DuelPeak",defaultStyle:n=Jv.textStyle,autocenter:r=!0,scale:p})=>{const{canvas:m,changeStyle:x}=this,c={width:150},i={id:Ni(),left:0,top:10,fontSize:60,fontWeight:400,fill:"#333",charSpacing:0,paintFirst:"stroke",...c,...n},d=new Bi.IText(e,i);if(p&&(d.set("scaleX",p),d.set("scaleY",p)),r){const{width:h,height:s}=m,l=parseInt(`${(h-d.width)/2}`,10),a=parseInt(`${(s-d.height)/2}`,10);d.set({left:l,top:a})}d.bringToFront(),m.add(d),m.renderAll(),m.setActiveObject(d),x({fill:n.fill||"#333"})});Je(this,"insertRect",e=>{const n=new Bi.Rect({left:100,top:100,width:400,height:300,objectCaching:!1,stroke:"pink",strokeWidth:3,...e});n.set("id",Ni()),this.canvas.add(n),this.canvas.setActiveObject(n)});Je(this,"translateFontCss2Attribute",e=>{const n={borderWidth:"strokeWidth",borderColor:"stroke",shadowColor:"shadowColor"},r={};return Object.keys(e).forEach(p=>{const m=n[p];p==="shadowColor"?r.shadow=new Bi.Shadow({color:e.shadowColor,offsetX:3,offsetY:3,blur:0}):m?r[m]=e[p]:r[p]=e[p]}),r});Je(this,"changeStyle",(e={})=>{const{canvas:n,getSelected:r,translateFontCss2Attribute:p}=this,m=r();if(m&&m.set){const x=p(e);x.shadow||(x.shadow={}),m.set(x),n.renderAll(),kn.next({type:"object:modified",data:m})}else return new Error("Please Select Text first!");return!0});Je(this,"setLayout",e=>{const{canvas:n,getSelected:r}=this,p=r();if(p){switch(e){case"top":p.set("top",0);break;case"right":p.set("left",n.width-p.width*p.scaleX);break;case"bottom":p.set("top",n.height-p.height*p.scaleY);break;case"left":p.set("left",0);break;case"center":p.center();break;case"x-center":const m=p.get("top");p.center(),p.set("top",m);break;case"y-center":const x=p.get("left");p.center(),p.set("left",x);break}n.renderAll()}});Je(this,"changeShapeFillColor",e=>{const{canvas:n,getSelected:r}=this;if(!e)return;const m=r().getElement();if(I_(m)){if(m.src.startsWith("http:")||m.src.startsWith("https:"))m.src.includes(".svg")&&F_(m.src).then(x=>{if(!x)return;x.includes("fill=")||(x=x.replace("<path ",'<path fill="#333" '));const c=x.replace(/#[\w]{3,6}/g,e);m.src=`${Rs},${encodeURIComponent(c)}`,m.onload=()=>{m.onload=()=>{},n.renderAll()}});else if(m.src.startsWith(Rs)){const{src:x}=m;let c=decodeURIComponent(x);c.includes("fill=")||(c=c.replace("<path ",'<path fill="#333" ')),c=c.replace(`${Rs},`,"").replace(/#[\w]{3,6}/g,e),m.src=`${Rs},${encodeURIComponent(c)}`,m.onload=()=>{m.onload=()=>{},n.renderAll()}}}});Je(this,"checkImageCanBeColored",e=>{var n,r,p;return((n=e==null?void 0:e.src)!=null&&n.startsWith("http:")||(r=e==null?void 0:e.src)!=null&&r.startsWith("https:"))&&e.src.includes(".svg")?!0:(p=e==null?void 0:e.src)==null?void 0:p.startsWith(Rs)});Je(this,"changeTextOrShapeColor",e=>{const{getSelectedType:n,getSelected:r,changeStyle:p,changeShapeFillColor:m}=this,x=n(r());x==="i-text"||x==="rect"?p({fill:e}):m(e)});Je(this,"markGroup",()=>{var r;const{canvas:e}=this,n=e.getActiveObject();((r=n==null?void 0:n._objects)==null?void 0:r.length)>1&&(n.toGroup(),n.id=Ni())});Je(this,"ungroup",()=>{const{canvas:e}=this,n=e.getActiveObject();(n==null?void 0:n.type)==="group"&&n.toActiveSelection()});Je(this,"selectById",e=>{const{canvas:n}=this,p=n.getObjects().find(m=>m.id===e);p&&(n.setActiveObject(p),n.renderAll())});Je(this,"noSelect",()=>{const{canvas:e}=this,n=e.getActiveObject();n&&n.set("selectable",!1)});Je(this,"canSelect",()=>{const{canvas:e}=this,n=e.getActiveObject();n&&n.set("selectable",!0)});Je(this,"updateProps",(e,n)=>{const{canvas:r}=this,p=r.getActiveObject();p&&(p.set(e,n),r.renderAll())});Je(this,"moveDirOfZ",e=>{const{canvas:n}=this,r=n.getActiveObject();if(r&&n&&n.bringForward)switch(e){case"+1":n.bringForward(r);break;case"top":n.bringToFront(r);break;case"-1":n.sendBackwards(r);break;case"bottom":n.sendToBack(r);break}});Je(this,"removeSelected",()=>{const e=this.getSelected();e&&(this.canvas.discardActiveObject(),this.canvas.remove(e))})}};Je(Rr,"instance"),Je(Rr,"getInstance",()=>(Rr.instance||(Rr.instance=new Rr),Rr.instance));let Hu=Rr;const nm=Hu.getInstance(),Oe=nm;window.ccc=nm;function XP(t){D.useEffect(()=>{Oe.canvas&&(Oe.canvas.on("before:selection:cleared",e=>{}),Oe.canvas.on("selection:updated",e=>{kn.next({type:"selection:updated",data:Nt.get(e,"selected[0]")})}),Oe.canvas.on("selection:cleared",e=>{kn.next({type:"selection:cleared"})}),Oe.canvas.on("selection:created",e=>{kn.next({type:"selection:created",data:Nt.get(e,"selected[0]")})}),Oe.canvas.on("object:moving",e=>{kn.next({type:"object:moving",data:e.target})}),Oe.canvas.on("object:added",e=>{kn.next({type:"object:added",data:Nt.get(e,"selected[0]")})}),Oe.canvas.on("object:modified",e=>{kn.next({type:"object:modified",data:e.target})}),Oe.canvas.on("object:removed",e=>{kn.next({type:"object:removed"})}),Oe.canvas.on("object:scaling",e=>{kn.next({type:"object:scaling",data:e.target})}),Oe.canvas.on("mouseup:before",e=>{kn.next({type:"mouseup:before",data:e})}),Oe.canvas.on("after:render",e=>{kn.next({type:"after:render"})}))},[t])}var rm={},Qa={},el={exports:{}},Vs={exports:{}};(function(){var t,e,n,r,p,m;typeof performance<"u"&&performance!==null&&performance.now?Vs.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Vs.exports=function(){return(t()-p)/1e6},e=process.hrtime,t=function(){var x;return x=e(),x[0]*1e9+x[1]},r=t(),m=process.uptime()*1e9,p=r-m):Date.now?(Vs.exports=function(){return Date.now()-n},n=Date.now()):(Vs.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(ot);var $P=Vs.exports,qP=$P,br=typeof window>"u"?ot:window,da=["moz","webkit"],Qi="AnimationFrame",os=br["request"+Qi],to=br["cancel"+Qi]||br["cancelRequest"+Qi];for(var Bs=0;!os&&Bs<da.length;Bs++)os=br[da[Bs]+"Request"+Qi],to=br[da[Bs]+"Cancel"+Qi]||br[da[Bs]+"CancelRequest"+Qi];if(!os||!to){var Gc=0,vg=0,Zr=[],KP=1e3/60;os=function(t){if(Zr.length===0){var e=qP(),n=Math.max(0,KP-(e-Gc));Gc=n+e,setTimeout(function(){var r=Zr.slice(0);Zr.length=0;for(var p=0;p<r.length;p++)if(!r[p].cancelled)try{r[p].callback(Gc)}catch(m){setTimeout(function(){throw m},0)}},Math.round(n))}return Zr.push({handle:++vg,callback:t,cancelled:!1}),vg},to=function(t){for(var e=0;e<Zr.length;e++)Zr[e].handle===t&&(Zr[e].cancelled=!0)}}el.exports=function(t){return os.call(br,t)};el.exports.cancel=function(){to.apply(br,arguments)};el.exports.polyfill=function(t){t||(t=br),t.requestAnimationFrame=os,t.cancelAnimationFrame=to};var JP=el.exports,tl={exports:{}},Yc=null,mg=["Webkit","Moz","O","ms"],ZP=function(e){Yc||(Yc=document.createElement("div"));var n=Yc.style;if(e in n)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),p=mg.length;p>=0;p--){var m=mg[p]+r;if(m in n)return m}return!1},QP=rA,eA=/\s/,tA=/(_|-|\.|:)/,nA=/([a-z][A-Z]|[A-Z][a-z])/;function rA(t){return eA.test(t)?t.toLowerCase():tA.test(t)?(sA(t)||t).toLowerCase():nA.test(t)?aA(t).toLowerCase():t.toLowerCase()}var iA=/[\W_]+(.|$)/g;function sA(t){return t.replace(iA,function(e,n){return n?" "+n:""})}var oA=/(.)([A-Z]+)/g;function aA(t){return t.replace(oA,function(e,n,r){return n+" "+r.toLowerCase().split("").join(" ")})}var lA=QP,cA=uA;function uA(t){return lA(t).replace(/[\W_]+(.|$)/g,function(e,n){return n?" "+n:""}).trim()}var fA=cA,hA=dA;function dA(t){return fA(t).replace(/\s(\w)/g,function(e,n){return n.toUpperCase()})}var pA={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},gA=function(t,e){return typeof e=="number"&&!pA[t]?e+"px":e},vA=ZP,mA=hA,Ea={float:"cssFloat"},yA=gA;function Ba(t,e,n){var r=Ea[e];if(typeof r>"u"&&(r=xA(e)),r){if(n===void 0)return t.style[r];t.style[r]=yA(r,n)}}function bA(t,e){for(var n in e)e.hasOwnProperty(n)&&Ba(t,n,e[n])}function xA(t){var e=mA(t),n=vA(e);return Ea[e]=Ea[t]=Ea[n]=n,n}function im(){arguments.length===2?typeof arguments[1]=="string"?arguments[0].style.cssText=arguments[1]:bA(arguments[0],arguments[1]):Ba(arguments[0],arguments[1],arguments[2])}tl.exports=im;tl.exports.set=im;tl.exports.get=function(t,e){return Array.isArray(e)?e.reduce(function(n,r){return n[r]=Ba(t,r||""),n},{}):Ba(t,e||"")};var sm=tl.exports,om={},If={};Object.defineProperty(If,"__esModule",{value:!0});function wA(t){if(!t)return 0;var e=t.clientHeight,n=getComputedStyle(t),r=n.paddingTop,p=n.paddingBottom;return e-parseFloat(r)-parseFloat(p)}If.default=wA;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});function _A(t){if(!t)return 0;var e=t.clientWidth,n=getComputedStyle(t),r=n.paddingLeft,p=n.paddingRight;return e-parseFloat(r)-parseFloat(p)}Ff.default=_A;var Lf={},SA=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lf,"__esModule",{value:!0});var CA=SA(sm),Li=void 0,yg=am();function TA(){var t=am();return yg!==t&&(Li=bg(),yg=t),typeof Li=="number"?Li:(typeof document<"u"?Li=bg():Li=0,Li||0)}Lf.default=TA;function bg(){var t=document.createElement("div");(0,CA.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function am(){return typeof window>"u"?1:window.screen.availWidth/document.documentElement.clientWidth}var jf={};Object.defineProperty(jf,"__esModule",{value:!0});function OA(t){return typeof t=="string"}jf.default=OA;var Rf={},Uu=ot&&ot.__assign||function(){return Uu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p])}return t},Uu.apply(this,arguments)},EA=ot&&ot.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,r=Object.getOwnPropertySymbols(t);p<r.length;p++)e.indexOf(r[p])<0&&Object.prototype.propertyIsEnumerable.call(t,r[p])&&(n[r[p]]=t[r[p]]);return n};Object.defineProperty(Rf,"__esModule",{value:!0});var xg={root:"rc-scrollbars-container",view:"rc-scrollbars-view",trackVertical:"rc-scrollbars-track rc-scrollbars-track-v",trackHorizontal:"rc-scrollbars-track rc-scrollbars-track-h",thumbVertical:"rc-scrollbars-thumb rc-scrollbars-thumb-v",thumbHorizontal:"rc-scrollbars-thumb rc-scrollbars-thumb-h"};function PA(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]="".concat(t[r]," ").concat(e[r]||""),n},{}):t}function AA(t){var e=t.className,n=t.classes,r=xg.root,p=EA(xg,["root"]);return Uu({root:[r,e,n==null?void 0:n.root].filter(Boolean).join(" ")},PA(p,t.classes))}Rf.default=AA;var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});function kA(){return!1}Bf.default=kA;(function(t){var e=ot&&ot.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFalse=t.getFinalClasses=t.isString=t.getScrollbarWidth=t.getInnerWidth=t.getInnerHeight=void 0;var n=If;Object.defineProperty(t,"getInnerHeight",{enumerable:!0,get:function(){return e(n).default}});var r=Ff;Object.defineProperty(t,"getInnerWidth",{enumerable:!0,get:function(){return e(r).default}});var p=Lf;Object.defineProperty(t,"getScrollbarWidth",{enumerable:!0,get:function(){return e(p).default}});var m=jf;Object.defineProperty(t,"isString",{enumerable:!0,get:function(){return e(m).default}});var x=Rf;Object.defineProperty(t,"getFinalClasses",{enumerable:!0,get:function(){return e(x).default}});var c=Bf;Object.defineProperty(t,"returnFalse",{enumerable:!0,get:function(){return e(c).default}})})(om);var nl={},jr=ot&&ot.__assign||function(){return jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p])}return t},jr.apply(this,arguments)};Object.defineProperty(nl,"__esModule",{value:!0});nl.createStyles=void 0;function DA(t){var e=jr({position:"absolute",right:2,bottom:2,zIndex:100},!t&&{borderRadius:3});return{containerStyleDefault:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},containerStyleAutoHeight:{height:"auto"},viewStyleDefault:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},viewStyleAutoHeight:{position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},viewStyleUniversalInitial:{overflow:"hidden",marginRight:0,marginBottom:0},trackHorizontalStyleDefault:jr(jr({},e),{left:2,height:6}),trackVerticalStyleDefault:jr(jr({},e),{top:2,width:6}),thumbStyleDefault:jr({position:"relative",display:"block",height:"100%",cursor:"pointer",borderRadius:"inherit"},!t&&{backgroundColor:"rgba(0,0,0,.2)"}),disableSelectStyle:{userSelect:"none"},disableSelectStyleReset:{userSelect:"auto"}}}nl.createStyles=DA;var MA=ot&&ot.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,p){r.__proto__=p}||function(r,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(r[m]=p[m])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=ot&&ot.__assign||function(){return ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p])}return t},ft.apply(this,arguments)},IA=ot&&ot.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var p=Object.getOwnPropertyDescriptor(e,n);(!p||("get"in p?!e.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,p)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),FA=ot&&ot.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lm=ot&&ot.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&IA(e,t,n);return FA(e,t),e},LA=ot&&ot.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,r=Object.getOwnPropertySymbols(t);p<r.length;p++)e.indexOf(r[p])<0&&Object.prototype.propertyIsEnumerable.call(t,r[p])&&(n[r[p]]=t[r[p]]);return n},jA=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.Scrollbars=void 0;var Ns=lm(D),Qr=D,Xc=lm(JP),qn=jA(sm),Kn=om,RA=nl,BA=function(t){MA(e,t);function e(n){var r=t.call(this,n)||this;return r.container=null,r.dragging=!1,r.scrolling=!1,r.trackMouseOver=!1,r.styles=(0,RA.createStyles)(r.props.disableDefaultStyles),r.getScrollLeft=r.getScrollLeft.bind(r),r.getScrollTop=r.getScrollTop.bind(r),r.getScrollWidth=r.getScrollWidth.bind(r),r.getScrollHeight=r.getScrollHeight.bind(r),r.getClientWidth=r.getClientWidth.bind(r),r.getClientHeight=r.getClientHeight.bind(r),r.getValues=r.getValues.bind(r),r.getThumbHorizontalWidth=r.getThumbHorizontalWidth.bind(r),r.getThumbVerticalHeight=r.getThumbVerticalHeight.bind(r),r.getScrollLeftForOffset=r.getScrollLeftForOffset.bind(r),r.getScrollTopForOffset=r.getScrollTopForOffset.bind(r),r.scrollLeft=r.scrollLeft.bind(r),r.scrollTop=r.scrollTop.bind(r),r.scrollToLeft=r.scrollToLeft.bind(r),r.scrollToTop=r.scrollToTop.bind(r),r.scrollToRight=r.scrollToRight.bind(r),r.scrollToBottom=r.scrollToBottom.bind(r),r.handleTrackMouseEnter=r.handleTrackMouseEnter.bind(r),r.handleTrackMouseLeave=r.handleTrackMouseLeave.bind(r),r.handleHorizontalTrackMouseDown=r.handleHorizontalTrackMouseDown.bind(r),r.handleVerticalTrackMouseDown=r.handleVerticalTrackMouseDown.bind(r),r.handleHorizontalThumbMouseDown=r.handleHorizontalThumbMouseDown.bind(r),r.handleVerticalThumbMouseDown=r.handleVerticalThumbMouseDown.bind(r),r.handleWindowResize=r.handleWindowResize.bind(r),r.handleScroll=r.handleScroll.bind(r),r.handleDrag=r.handleDrag.bind(r),r.handleDragEnd=r.handleDragEnd.bind(r),r.state={didMountUniversal:!1,scrollbarWidth:(0,Kn.getScrollbarWidth)()},r}return e.prototype.componentDidMount=function(){this.addListeners(),this.update(),this.componentDidMountUniversal()},e.prototype.componentDidMountUniversal=function(){var n=this.props.universal;n&&this.setState({didMountUniversal:!0})},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.componentWillUnmount=function(){this.removeListeners(),this.requestFrame&&(0,Xc.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)},e.prototype.getScrollLeft=function(){return this.view?this.view.scrollLeft:0},e.prototype.getScrollTop=function(){return this.view?this.view.scrollTop:0},e.prototype.getScrollWidth=function(){return this.view?this.view.scrollWidth:0},e.prototype.getScrollHeight=function(){return this.view?this.view.scrollHeight:0},e.prototype.getClientWidth=function(){return this.view?this.view.clientWidth:0},e.prototype.getClientHeight=function(){return this.view?this.view.clientHeight:0},e.prototype.getValues=function(){var n=this.view||{},r=n.scrollLeft,p=r===void 0?0:r,m=n.scrollTop,x=m===void 0?0:m,c=n.scrollWidth,i=c===void 0?0:c,d=n.scrollHeight,h=d===void 0?0:d,s=n.clientWidth,l=s===void 0?0:s,a=n.clientHeight,u=a===void 0?0:a;return{left:p/(i-l)||0,top:x/(h-u)||0,scrollLeft:p,scrollTop:x,scrollWidth:i,scrollHeight:h,clientWidth:l,clientHeight:u}},e.prototype.getThumbHorizontalWidth=function(){if(!this.view||!this.trackHorizontal)return 0;var n=this.props,r=n.thumbSize,p=n.thumbMinSize,m=this.view,x=m.scrollWidth,c=m.clientWidth,i=(0,Kn.getInnerWidth)(this.trackHorizontal),d=Math.ceil(c/x*i);return i===d?0:r||Math.max(d,p)},e.prototype.getThumbVerticalHeight=function(){if(!this.view||!this.trackVertical)return 0;var n=this.props,r=n.thumbSize,p=n.thumbMinSize,m=this.view,x=m.scrollHeight,c=m.clientHeight,i=(0,Kn.getInnerHeight)(this.trackVertical),d=Math.ceil(c/x*i);return i===d?0:r||Math.max(d,p)},e.prototype.getScrollLeftForOffset=function(n){if(!this.view||!this.trackHorizontal)return 0;var r=this.view,p=r.scrollWidth,m=r.clientWidth,x=(0,Kn.getInnerWidth)(this.trackHorizontal),c=this.getThumbHorizontalWidth();return n/(x-c)*(p-m)},e.prototype.getScrollTopForOffset=function(n){if(!this.view||!this.trackVertical)return 0;var r=this.view,p=r.scrollHeight,m=r.clientHeight,x=(0,Kn.getInnerHeight)(this.trackVertical),c=this.getThumbVerticalHeight();return n/(x-c)*(p-m)},e.prototype.scrollLeft=function(n){n===void 0&&(n=0),this.view&&(this.view.scrollLeft=n)},e.prototype.scrollTop=function(n){n===void 0&&(n=0),this.view&&(this.view.scrollTop=n)},e.prototype.scrollToLeft=function(){this.view&&(this.view.scrollLeft=0)},e.prototype.scrollToTop=function(){this.view&&(this.view.scrollTop=0)},e.prototype.scrollToRight=function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)},e.prototype.scrollToBottom=function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)},e.prototype.scrollToY=function(n){this.view&&(this.view.scrollTop=n)},e.prototype.addListeners=function(){if(!(typeof document>"u"||!this.view||!this.trackHorizontal||!this.trackVertical||!this.thumbVertical||!this.thumbHorizontal)){var n=this,r=n.view,p=n.trackHorizontal,m=n.trackVertical,x=n.thumbHorizontal,c=n.thumbVertical;r.addEventListener("scroll",this.handleScroll),this.state.scrollbarWidth&&(p.addEventListener("mouseenter",this.handleTrackMouseEnter),p.addEventListener("mouseleave",this.handleTrackMouseLeave),p.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),m.addEventListener("mouseenter",this.handleTrackMouseEnter),m.addEventListener("mouseleave",this.handleTrackMouseLeave),m.addEventListener("mousedown",this.handleVerticalTrackMouseDown),x.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),c.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}},e.prototype.removeListeners=function(){if(!(typeof document>"u"||!this.view||!this.trackHorizontal||!this.trackVertical||!this.thumbVertical||!this.thumbHorizontal)){var n=this,r=n.view,p=n.trackHorizontal,m=n.trackVertical,x=n.thumbHorizontal,c=n.thumbVertical;r.removeEventListener("scroll",this.handleScroll),this.state.scrollbarWidth&&(p.removeEventListener("mouseenter",this.handleTrackMouseEnter),p.removeEventListener("mouseleave",this.handleTrackMouseLeave),p.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),m.removeEventListener("mouseenter",this.handleTrackMouseEnter),m.removeEventListener("mouseleave",this.handleTrackMouseLeave),m.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),x.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),c.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}},e.prototype.handleScroll=function(n){var r=this,p=this.props,m=p.onScroll,x=p.onScrollFrame;m&&m(n),this.update(function(c){var i=c.scrollLeft,d=c.scrollTop;r.viewScrollLeft=i,r.viewScrollTop=d,x&&x(c)}),this.detectScrolling()},e.prototype.handleScrollStart=function(){var n=this.props.onScrollStart;n&&n(),this.handleScrollStartAutoHide()},e.prototype.handleScrollStartAutoHide=function(){var n=this.props.autoHide;n&&this.showTracks()},e.prototype.handleScrollStop=function(){var n=this.props.onScrollStop;n&&n(),this.handleScrollStopAutoHide()},e.prototype.handleScrollStopAutoHide=function(){var n=this.props.autoHide;n&&this.hideTracks()},e.prototype.handleWindowResize=function(){this.update()},e.prototype.handleHorizontalTrackMouseDown=function(n){if(this.view){n.preventDefault();var r=n.target,p=n.clientX,m=r.getBoundingClientRect().left,x=this.getThumbHorizontalWidth(),c=Math.abs(m-p)-x/2;this.view.scrollLeft=this.getScrollLeftForOffset(c)}},e.prototype.handleVerticalTrackMouseDown=function(n){if(this.view){n.preventDefault();var r=n.target,p=n.clientY,m=r.getBoundingClientRect().top,x=this.getThumbVerticalHeight(),c=Math.abs(m-p)-x/2;this.view.scrollTop=this.getScrollTopForOffset(c)}},e.prototype.handleHorizontalThumbMouseDown=function(n){n.preventDefault(),this.handleDragStart(n);var r=n.target,p=n.clientX,m=r.offsetWidth,x=r.getBoundingClientRect().left;this.prevPageX=m-(p-x)},e.prototype.handleVerticalThumbMouseDown=function(n){n.preventDefault(),this.handleDragStart(n);var r=n.target,p=n.clientY,m=r.offsetHeight,x=r.getBoundingClientRect().top;this.prevPageY=m-(p-x)},e.prototype.setupDragging=function(){(0,qn.default)(document.body,this.styles.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=Kn.returnFalse},e.prototype.teardownDragging=function(){(0,qn.default)(document.body,this.styles.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=null},e.prototype.handleDragStart=function(n){this.dragging=!0,n.stopImmediatePropagation(),this.setupDragging()},e.prototype.handleDrag=function(n){if(this.prevPageX&&this.trackHorizontal&&this.view){var r=n.clientX,p=this.trackHorizontal.getBoundingClientRect().left,m=this.getThumbHorizontalWidth(),x=m-this.prevPageX,c=-p+r-x;this.view.scrollLeft=this.getScrollLeftForOffset(c)}if(this.prevPageY&&this.trackVertical&&this.view){var i=n.clientY,d=this.trackVertical.getBoundingClientRect().top,h=this.getThumbVerticalHeight(),x=h-this.prevPageY,c=-d+i-x;this.view.scrollTop=this.getScrollTopForOffset(c)}return!1},e.prototype.handleDragEnd=function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()},e.prototype.handleDragEndAutoHide=function(){var n=this.props.autoHide;n&&this.hideTracks()},e.prototype.handleTrackMouseEnter=function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()},e.prototype.handleTrackMouseEnterAutoHide=function(){var n=this.props.autoHide;n&&this.showTracks()},e.prototype.handleTrackMouseLeave=function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()},e.prototype.handleTrackMouseLeaveAutoHide=function(){var n=this.props.autoHide;n&&this.hideTracks()},e.prototype.showTracks=function(){clearTimeout(this.hideTracksTimeout),(0,qn.default)(this.trackHorizontal,{opacity:1}),(0,qn.default)(this.trackVertical,{opacity:1})},e.prototype.hideTracks=function(){var n=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var r=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,qn.default)(n.trackHorizontal,{opacity:0}),(0,qn.default)(n.trackVertical,{opacity:0})},r)}},e.prototype.detectScrolling=function(){var n=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){n.lastViewScrollLeft===n.viewScrollLeft&&n.lastViewScrollTop===n.viewScrollTop&&(clearInterval(n.detectScrollingInterval),n.scrolling=!1,n.handleScrollStop()),n.lastViewScrollLeft=n.viewScrollLeft,n.lastViewScrollTop=n.viewScrollTop},100))},e.prototype.raf=function(n){var r=this;this.requestFrame&&Xc.default.cancel(this.requestFrame),this.requestFrame=(0,Xc.default)(function(){r.requestFrame=void 0,n()})},e.prototype.update=function(n){var r=this;this.raf(function(){return r._update(n)})},e.prototype._update=function(n){var r=this.props,p=r.onUpdate,m=r.hideTracksWhenNotNeeded,x=this.getValues(),c=(0,Kn.getScrollbarWidth)();if(this.state.scrollbarWidth!==c&&this.setState({scrollbarWidth:c}),this.state.scrollbarWidth){var i=x.scrollLeft,d=x.clientWidth,h=x.scrollWidth,s=(0,Kn.getInnerWidth)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),a=i/(h-d)*(s-l),u={width:l,transform:"translateX(".concat(a,"px)")},v=x.scrollTop,f=x.clientHeight,y=x.scrollHeight,b=(0,Kn.getInnerHeight)(this.trackVertical),_=this.getThumbVerticalHeight(),S=v/(y-f)*(b-_),T={height:_,transform:"translateY(".concat(S,"px)")};if(m){var E={visibility:h>d?"visible":"hidden"},P={visibility:y>f?"visible":"hidden"};(0,qn.default)(this.trackHorizontal,E),(0,qn.default)(this.trackVertical,P)}(0,qn.default)(this.thumbHorizontal,u),(0,qn.default)(this.thumbVertical,T)}p&&p(x),typeof n=="function"&&n(x)},e.prototype.render=function(){var n=this,r=this.state,p=r.scrollbarWidth,m=r.didMountUniversal,x=this.props,c=x.autoHeight,i=x.autoHeightMax,d=x.autoHeightMin,h=x.autoHide,s=x.autoHideDuration;x.autoHideTimeout;var l=x.children;x.classes,x.hideTracksWhenNotNeeded,x.onScroll,x.onScrollFrame,x.onScrollStart,x.onScrollStop,x.onUpdate;var a=x.renderThumbHorizontal,u=x.renderThumbVertical,v=x.renderTrackHorizontal,f=x.renderTrackVertical,y=x.renderView,b=x.style,_=x.tagName;x.thumbMinSize,x.thumbSize;var S=x.universal;x.disableDefaultStyles;var T=LA(x,["autoHeight","autoHeightMax","autoHeightMin","autoHide","autoHideDuration","autoHideTimeout","children","classes","hideTracksWhenNotNeeded","onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderThumbHorizontal","renderThumbVertical","renderTrackHorizontal","renderTrackVertical","renderView","style","tagName","thumbMinSize","thumbSize","universal","disableDefaultStyles"]),E=this.styles,P=E.containerStyleAutoHeight,F=E.containerStyleDefault,R=E.thumbStyleDefault,j=E.trackHorizontalStyleDefault,H=E.trackVerticalStyleDefault,Z=E.viewStyleAutoHeight,Q=E.viewStyleDefault,se=E.viewStyleUniversalInitial,le=ft(ft(ft({},F),c&&ft(ft({},P),{minHeight:d,maxHeight:i})),b),ge=ft(ft(ft(ft(ft({},Q),{marginRight:p?-p:0,marginBottom:p?-p:0}),c&&ft(ft({},Z),{minHeight:typeof d=="string"?"calc(".concat(d," + ").concat(p,"px)"):d+p,maxHeight:typeof i=="string"?"calc(".concat(i," + ").concat(p,"px)"):i+p})),c&&S&&!m&&{minHeight:d,maxHeight:i}),S&&!m&&se),X={transition:"opacity ".concat(s,"ms"),opacity:0},ie=ft(ft(ft({},j),h&&X),(!p||S&&!m)&&{display:"none"}),k=ft(ft(ft({},H),h&&X),(!p||S&&!m)&&{display:"none"}),z=(0,Kn.getFinalClasses)(this.props);return(0,Qr.createElement)(_,ft(ft({},T),{className:z.root,style:le,ref:function(N){n.container=N}}),[(0,Qr.cloneElement)(y({style:ge,className:z.view}),{key:"view",ref:function(N){n.view=N}},l),(0,Qr.cloneElement)(v({style:ie,className:z.trackHorizontal}),{key:"trackHorizontal",ref:function(N){n.trackHorizontal=N}},(0,Qr.cloneElement)(a({style:R,className:z.thumbHorizontal}),{ref:function(N){n.thumbHorizontal=N}})),(0,Qr.cloneElement)(f({style:k,className:z.trackVertical}),{key:"trackVertical",ref:function(N){n.trackVertical=N}},(0,Qr.cloneElement)(u({style:R,className:z.thumbVertical}),{ref:function(N){n.thumbVertical=N}}))])},e.defaultProps={autoHeight:!1,autoHeightMax:200,autoHeightMin:0,autoHide:!1,autoHideDuration:200,autoHideTimeout:1e3,disableDefaultStyles:!1,hideTracksWhenNotNeeded:!1,renderThumbHorizontal:function(n){return Ns.createElement("div",ft({},n))},renderThumbVertical:function(n){return Ns.createElement("div",ft({},n))},renderTrackHorizontal:function(n){return Ns.createElement("div",ft({},n))},renderTrackVertical:function(n){return Ns.createElement("div",ft({},n))},renderView:function(n){return Ns.createElement("div",ft({},n))},tagName:"div",thumbMinSize:30,universal:!1},e}(Qr.Component);Qa.Scrollbars=BA;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var e=Qa;Object.defineProperty(t,"Scrollbars",{enumerable:!0,get:function(){return e.Scrollbars}}),t.default=e.Scrollbars})(rm);const wr=tf(rm);var rl={exports:{}},cm={};function um(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=um(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function wg(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=um(t))&&(r&&(r+=" "),r+=e);return r}const NA=Object.freeze(Object.defineProperty({__proto__:null,clsx:wg,default:wg},Symbol.toStringTag,{value:"Module"})),zA=Jg(NA);var _t={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.dontSetMe=GA;nr.findInArray=WA;nr.int=VA;nr.isFunction=HA;nr.isNum=UA;function WA(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function HA(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function UA(t){return typeof t=="number"&&!isNaN(t)}function VA(t){return parseInt(t,10)}function GA(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.browserPrefixToKey=hm;gi.browserPrefixToStyle=YA;gi.default=void 0;gi.getPrefix=fm;const $c=["Moz","Webkit","O","ms"];function fm(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<$c.length;r++)if(hm(e,$c[r])in n)return $c[r];return""}function hm(t,e){return e?"".concat(e).concat(XA(t)):t}function YA(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function XA(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}gi.default=fm();Object.defineProperty(_t,"__esModule",{value:!0});_t.addClassName=gm;_t.addEvent=KA;_t.addUserSelectStyles=ak;_t.createCSSTransform=rk;_t.createSVGTransform=ik;_t.getTouch=sk;_t.getTouchIdentifier=ok;_t.getTranslation=Nf;_t.innerHeight=ek;_t.innerWidth=tk;_t.matchesSelector=pm;_t.matchesSelectorAndParentsTo=qA;_t.offsetXYFromParent=nk;_t.outerHeight=ZA;_t.outerWidth=QA;_t.removeClassName=vm;_t.removeEvent=JA;_t.removeUserSelectStyles=lk;var mn=nr,_g=$A(gi);function dm(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(dm=function(r){return r?n:e})(t)}function $A(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=dm(e);if(n&&n.has(t))return n.get(t);var r={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in t)if(m!=="default"&&Object.prototype.hasOwnProperty.call(t,m)){var x=p?Object.getOwnPropertyDescriptor(t,m):null;x&&(x.get||x.set)?Object.defineProperty(r,m,x):r[m]=t[m]}return r.default=t,n&&n.set(t,r),r}let pa="";function pm(t,e){return pa||(pa=(0,mn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,mn.isFunction)(t[n])})),(0,mn.isFunction)(t[pa])?t[pa](e):!1}function qA(t,e,n){let r=t;do{if(pm(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function KA(t,e,n,r){if(!t)return;const p={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,p):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function JA(t,e,n,r){if(!t)return;const p={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,p):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function ZA(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,mn.int)(n.borderTopWidth),e+=(0,mn.int)(n.borderBottomWidth),e}function QA(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,mn.int)(n.borderLeftWidth),e+=(0,mn.int)(n.borderRightWidth),e}function ek(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,mn.int)(n.paddingTop),e-=(0,mn.int)(n.paddingBottom),e}function tk(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,mn.int)(n.paddingLeft),e-=(0,mn.int)(n.paddingRight),e}function nk(t,e,n){const p=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),m=(t.clientX+e.scrollLeft-p.left)/n,x=(t.clientY+e.scrollTop-p.top)/n;return{x:m,y:x}}function rk(t,e){const n=Nf(t,e,"px");return{[(0,_g.browserPrefixToKey)("transform",_g.default)]:n}}function ik(t,e){return Nf(t,e,"")}function Nf(t,e,n){let{x:r,y:p}=t,m="translate(".concat(r).concat(n,",").concat(p).concat(n,")");if(e){const x="".concat(typeof e.x=="string"?e.x:e.x+n),c="".concat(typeof e.y=="string"?e.y:e.y+n);m="translate(".concat(x,", ").concat(c,")")+m}return m}function sk(t,e){return t.targetTouches&&(0,mn.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,mn.findInArray)(t.changedTouches,n=>e===n.identifier)}function ok(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function ak(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&gm(t.body,"react-draggable-transparent-selection")}function lk(t){if(t)try{if(t.body&&vm(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function gm(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function vm(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.canDragX=fk;rr.canDragY=hk;rr.createCoreData=pk;rr.createDraggableData=gk;rr.getBoundPosition=ck;rr.getControlPosition=dk;rr.snapToGrid=uk;var gn=nr,Yi=_t;function ck(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:vk(r);const p=zf(t);if(typeof r=="string"){const{ownerDocument:m}=p,x=m.defaultView;let c;if(r==="parent"?c=p.parentNode:c=m.querySelector(r),!(c instanceof x.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const i=c,d=x.getComputedStyle(p),h=x.getComputedStyle(i);r={left:-p.offsetLeft+(0,gn.int)(h.paddingLeft)+(0,gn.int)(d.marginLeft),top:-p.offsetTop+(0,gn.int)(h.paddingTop)+(0,gn.int)(d.marginTop),right:(0,Yi.innerWidth)(i)-(0,Yi.outerWidth)(p)-p.offsetLeft+(0,gn.int)(h.paddingRight)-(0,gn.int)(d.marginRight),bottom:(0,Yi.innerHeight)(i)-(0,Yi.outerHeight)(p)-p.offsetTop+(0,gn.int)(h.paddingBottom)-(0,gn.int)(d.marginBottom)}}return(0,gn.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,gn.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,gn.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,gn.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function uk(t,e,n){const r=Math.round(e/t[0])*t[0],p=Math.round(n/t[1])*t[1];return[r,p]}function fk(t){return t.props.axis==="both"||t.props.axis==="x"}function hk(t){return t.props.axis==="both"||t.props.axis==="y"}function dk(t,e,n){const r=typeof e=="number"?(0,Yi.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const p=zf(n),m=n.props.offsetParent||p.offsetParent||p.ownerDocument.body;return(0,Yi.offsetXYFromParent)(r||t,m,n.props.scale)}function pk(t,e,n){const r=!(0,gn.isNum)(t.lastX),p=zf(t);return r?{node:p,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:p,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function gk(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function vk(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function zf(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var il={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.default=mk;function mk(){}Object.defineProperty(il,"__esModule",{value:!0});il.default=void 0;var qc=bk(D),tn=Wf(_0),yk=Wf(Zg),Ut=_t,Mr=rr,Kc=nr,zs=Wf(sl);function Wf(t){return t&&t.__esModule?t:{default:t}}function mm(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(mm=function(r){return r?n:e})(t)}function bk(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=mm(e);if(n&&n.has(t))return n.get(t);var r={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in t)if(m!=="default"&&Object.prototype.hasOwnProperty.call(t,m)){var x=p?Object.getOwnPropertyDescriptor(t,m):null;x&&(x.get||x.set)?Object.defineProperty(r,m,x):r[m]=t[m]}return r.default=t,n&&n.set(t,r),r}function qt(t,e,n){return e=xk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xk(t){var e=wk(t,"string");return typeof e=="symbol"?e:String(e)}function wk(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Un={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ir=Un.mouse,ol=class extends qc.Component{constructor(){super(...arguments),qt(this,"dragging",!1),qt(this,"lastX",NaN),qt(this,"lastY",NaN),qt(this,"touchIdentifier",null),qt(this,"mounted",!1),qt(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Ut.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Ut.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const p=(0,Ut.getTouchIdentifier)(e);this.touchIdentifier=p;const m=(0,Mr.getControlPosition)(e,p,this);if(m==null)return;const{x,y:c}=m,i=(0,Mr.createCoreData)(this,x,c);(0,zs.default)("DraggableCore: handleDragStart: %j",i),(0,zs.default)("calling",this.props.onStart),!(this.props.onStart(e,i)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ut.addUserSelectStyles)(r),this.dragging=!0,this.lastX=x,this.lastY=c,(0,Ut.addEvent)(r,Ir.move,this.handleDrag),(0,Ut.addEvent)(r,Ir.stop,this.handleDragStop))}),qt(this,"handleDrag",e=>{const n=(0,Mr.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:p}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX,i=p-this.lastY;if([c,i]=(0,Mr.snapToGrid)(this.props.grid,c,i),!c&&!i)return;r=this.lastX+c,p=this.lastY+i}const m=(0,Mr.createCoreData)(this,r,p);if((0,zs.default)("DraggableCore: handleDrag: %j",m),this.props.onDrag(e,m)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const i=document.createEvent("MouseEvents");i.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(i)}return}this.lastX=r,this.lastY=p}),qt(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Mr.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:p}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX||0,d=p-this.lastY||0;[i,d]=(0,Mr.snapToGrid)(this.props.grid,i,d),r=this.lastX+i,p=this.lastY+d}const m=(0,Mr.createCoreData)(this,r,p);if(this.props.onStop(e,m)===!1||this.mounted===!1)return!1;const c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,Ut.removeUserSelectStyles)(c.ownerDocument),(0,zs.default)("DraggableCore: handleDragStop: %j",m),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,zs.default)("DraggableCore: Removing handlers"),(0,Ut.removeEvent)(c.ownerDocument,Ir.move,this.handleDrag),(0,Ut.removeEvent)(c.ownerDocument,Ir.stop,this.handleDragStop))}),qt(this,"onMouseDown",e=>(Ir=Un.mouse,this.handleDragStart(e))),qt(this,"onMouseUp",e=>(Ir=Un.mouse,this.handleDragStop(e))),qt(this,"onTouchStart",e=>(Ir=Un.touch,this.handleDragStart(e))),qt(this,"onTouchEnd",e=>(Ir=Un.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Ut.addEvent)(e,Un.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Ut.removeEvent)(n,Un.mouse.move,this.handleDrag),(0,Ut.removeEvent)(n,Un.touch.move,this.handleDrag),(0,Ut.removeEvent)(n,Un.mouse.stop,this.handleDragStop),(0,Ut.removeEvent)(n,Un.touch.stop,this.handleDragStop),(0,Ut.removeEvent)(e,Un.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ut.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:yk.default.findDOMNode(this)}render(){return qc.cloneElement(qc.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};il.default=ol;qt(ol,"displayName","DraggableCore");qt(ol,"propTypes",{allowAnyClick:tn.default.bool,children:tn.default.node.isRequired,disabled:tn.default.bool,enableUserSelectHack:tn.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:tn.default.arrayOf(tn.default.number),handle:tn.default.string,cancel:tn.default.string,nodeRef:tn.default.object,onStart:tn.default.func,onDrag:tn.default.func,onStop:tn.default.func,onMouseDown:tn.default.func,scale:tn.default.number,className:Kc.dontSetMe,style:Kc.dontSetMe,transform:Kc.dontSetMe});qt(ol,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var e=l(D),n=h(_0),r=h(Zg),p=h(zA),m=_t,x=rr,c=nr,i=h(il),d=h(sl);function h(b){return b&&b.__esModule?b:{default:b}}function s(b){if(typeof WeakMap!="function")return null;var _=new WeakMap,S=new WeakMap;return(s=function(T){return T?S:_})(b)}function l(b,_){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var S=s(_);if(S&&S.has(b))return S.get(b);var T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in b)if(P!=="default"&&Object.prototype.hasOwnProperty.call(b,P)){var F=E?Object.getOwnPropertyDescriptor(b,P):null;F&&(F.get||F.set)?Object.defineProperty(T,P,F):T[P]=b[P]}return T.default=b,S&&S.set(b,T),T}function a(){return a=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(b[T]=S[T])}return b},a.apply(this,arguments)}function u(b,_,S){return _=v(_),_ in b?Object.defineProperty(b,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[_]=S,b}function v(b){var _=f(b,"string");return typeof _=="symbol"?_:String(_)}function f(b,_){if(typeof b!="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var T=S.call(b,_||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(_,S){let{position:T}=_,{prevPropsPosition:E}=S;return T&&(!E||T.x!==E.x||T.y!==E.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:T,prevPropsPosition:E}),{x:T.x,y:T.y,prevPropsPosition:{...T}}):null}constructor(_){super(_),u(this,"onDragStart",(S,T)=>{if((0,d.default)("Draggable: onDragStart: %j",T),this.props.onStart(S,(0,x.createDraggableData)(this,T))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),u(this,"onDrag",(S,T)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",T);const E=(0,x.createDraggableData)(this,T),P={x:E.x,y:E.y,slackX:0,slackY:0};if(this.props.bounds){const{x:R,y:j}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[H,Z]=(0,x.getBoundPosition)(this,P.x,P.y);P.x=H,P.y=Z,P.slackX=this.state.slackX+(R-P.x),P.slackY=this.state.slackY+(j-P.y),E.x=P.x,E.y=P.y,E.deltaX=P.x-this.state.x,E.deltaY=P.y-this.state.y}if(this.props.onDrag(S,E)===!1)return!1;this.setState(P)}),u(this,"onDragStop",(S,T)=>{if(!this.state.dragging||this.props.onStop(S,(0,x.createDraggableData)(this,T))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",T);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:R,y:j}=this.props.position;P.x=R,P.y=j}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,S;return(_=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:S,children:T,defaultPosition:E,defaultClassName:P,defaultClassNameDragging:F,defaultClassNameDragged:R,position:j,positionOffset:H,scale:Z,...Q}=this.props;let se={},le=null;const X=!!!j||this.state.dragging,ie=j||E,k={x:(0,x.canDragX)(this)&&X?this.state.x:ie.x,y:(0,x.canDragY)(this)&&X?this.state.y:ie.y};this.state.isElementSVG?le=(0,m.createSVGTransform)(k,H):se=(0,m.createCSSTransform)(k,H);const z=(0,p.default)(T.props.className||"",P,{[F]:this.state.dragging,[R]:this.state.dragged});return e.createElement(i.default,a({},Q,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(T),{className:z,style:{...T.props.style,...se},transform:le}))}}t.default=y,u(y,"displayName","Draggable"),u(y,"propTypes",{...i.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),u(y,"defaultProps",{...i.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(cm);const{default:ym,DraggableCore:_k}=cm;rl.exports=ym;rl.exports.default=ym;rl.exports.DraggableCore=_k;var Sk=rl.exports;const Ck=tf(Sk);function Tk(t){D.useEffect(()=>{const e=()=>{t()};return window.addEventListener("resize",e),()=>{window.removeEventListener("reset",e)}},[])}function Ok({keyUpCallback:t,keyDownCallback:e}){D.useEffect(()=>{const n=p=>{e&&e(p)},r=p=>{t&&t(p)};return document.addEventListener("keydown",n),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}},[])}const bm=()=>{const t=document.querySelector("#artboard");t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})},ji="#eee",Sg={format:"png",multiplier:ls()};function Ek(){const{update:t,scale:e}=zr(),{addOneImage:n,updateStep:r}=Ha(),p=()=>{const d=Oe.canvas.toDataURL(Sg),h=`${Ni()}.png`,s=L_(d,h);j_(s,h)},m=()=>{const d=Oe.canvas.toDataURL(Sg);n(d),r(2)},x=()=>t({scale:e+5}),c=()=>t({scale:e-5}),i=d=>t({scale:d});return D.useEffect(()=>{const d=document.querySelector("#artboard");d&&(d.parentNode.style.scale=e/100)},[e]),C.jsxs(Mn,{className:"centerControl",boxShadow:"12.5px 12.5px 10px rgba(0, 0, 0, 0.035),100px 100px 80px rgba(0, 0, 0, 0.07)",transform:"translateX(-50%)",position:"fixed",bottom:4,left:"50%",height:30,bg:"rgb(39, 174, 96)",borderRadius:6,gap:3,px:3,py:4,children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Export Artboard",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"download",onClick:p,fill:ji})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Move Artboard Into Screen Center",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"pos_center",onClick:bm,fill:ji})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Zoom Out",bg:"gray.300",color:"black",children:C.jsx(Fe,{userSelect:"none",onMouseDown:x,children:C.jsx(st,{type:"add",fill:ji})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Reset Zoom",bg:"gray.300",color:"black",children:C.jsx(C.Fragment,{children:C.jsxs(Ef,{children:[C.jsxs(Tv,{color:ji,as:Fe,children:[e,"%"]}),C.jsxs(Pf,{style:{transform:"translateX(-30px)"},children:[C.jsx(Gt,{onClick:()=>i(30),children:"30%"}),C.jsx(Gt,{onClick:()=>i(50),children:"50%"}),C.jsx(Gt,{onClick:()=>i(80),children:"80%"}),C.jsx(Gt,{onClick:()=>i(100),children:"100%"}),C.jsx(Gt,{onClick:()=>i(130),children:"130%"}),C.jsx(Gt,{onClick:()=>i(150),children:"150%"}),C.jsx(Gt,{onClick:()=>i(200),children:"200%"})]})]})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Zoom In",bg:"gray.300",color:"black",children:C.jsx(Fe,{onClick:c,children:C.jsx(st,{type:"reduce",fill:ji})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Save",bg:"gray.300",color:"black",children:C.jsx(Fe,{onClick:m,children:C.jsx(st,{type:"save",fill:ji})})})]})}function Pk(){var b;const[t,e]=D.useState(!1),[n,r]=D.useState(0),[p,m]=D.useState(0),[x={},c]=D.useState({}),{type:i}=x,d=i==="group",h=!d&&Array.isArray(x==null?void 0:x._objects)&&((b=x==null?void 0:x._objects)==null?void 0:b.length)>1,{selectable:s}=x,l=()=>{c(Nt.cloneDeep(Oe.getSelected()))},a=()=>{Oe.markGroup(),l()},u=()=>{Oe.ungroup(),l()},v=()=>{Oe.noSelect(),l(),Oe.unSelectAll(),c(void 0)},f=()=>{Oe.canSelect(),l(),Oe.unSelectAll(),c(void 0)},y=_=>{Oe.moveDirOfZ(_),Oe.unSelectAll(),c(void 0)};return D.useEffect(()=>{const _=S=>{var T;S.preventDefault(),S.stopPropagation(),((T=S.target)==null?void 0:T.nodeName.toLowerCase())==="canvas"&&(e(E=>!E),r(S.pageX),m(S.pageY),c(Oe.getSelected()||void 0))};return document.body.addEventListener("contextmenu",_),()=>{document.body.removeEventListener("contextmenu",_)}},[]),Nt.isEmpty(x)?null:C.jsxs(mr,{children:[t?C.jsx(mr,{position:"absolute",inset:0,zIndex:999,onClick:()=>e(!1)}):null,C.jsx(Mn,{pos:"absolute",left:n,top:p,zIndex:1e3,children:C.jsx(Ef,{isOpen:t,children:C.jsxs(Pf,{children:[C.jsxs(Gt,{onClick:()=>y("+1"),children:[C.jsx(st,{type:"dir_down2"}),C.jsx(Fe,{ml:1,children:"bringForward"})]}),C.jsxs(Gt,{onClick:()=>y("top"),children:[C.jsx(st,{type:"dir_up2"}),C.jsx(Fe,{ml:1,children:"bringToFront"})]}),C.jsxs(Gt,{onClick:()=>y("-1"),children:[C.jsx(st,{type:"dir_down"}),C.jsx(Fe,{ml:1,children:"sendBackwards"})]}),C.jsxs(Gt,{onClick:()=>y("bottom"),children:[C.jsx(st,{type:"dir_up"}),C.jsx(Fe,{ml:1,children:"sendToBack"})]}),s?C.jsxs(Gt,{onClick:v,children:[C.jsx(st,{type:"lock"}),C.jsx(Fe,{ml:1,children:"Lock"})]}):C.jsxs(Gt,{onClick:f,children:[C.jsx(st,{type:"unlock"}),C.jsx(Fe,{ml:1,children:"UnLock"})]}),h?C.jsxs(Gt,{onClick:a,children:[C.jsx(st,{type:"group"}),C.jsx(Fe,{ml:1,children:"Group"})]}):null,d?C.jsxs(Gt,{onClick:u,children:[C.jsx(st,{type:"ungroup"}),C.jsx(Fe,{ml:1,children:"UnGroup"})]}):null]})})})]})}function Ak({children:t,onOk:e,okText:n,content:r,title:p}){const{isOpen:m,onOpen:x,onClose:c}=cs(),i=D.useCallback(()=>{e(),c()},[]);return C.jsxs(C.Fragment,{children:[C.jsx("div",{onClick:x,children:t}),C.jsxs(fi,{blockScrollOnMount:!1,isOpen:m,onClose:c,children:[C.jsx(hs,{}),C.jsxs(hi,{children:[p?C.jsx(fs,{children:p}):null,C.jsx(pi,{}),C.jsx(di,{children:C.jsx(Fe,{fontWeight:"bold",mb:"1rem",children:r})}),C.jsxs(Lv,{children:[C.jsx(Ot,{variant:"ghost",mr:3,onClick:c,children:"Close"}),C.jsx(Ot,{colorScheme:"blue",onClick:i,children:n})]})]})]})]})}const Jc={title:"Change Artboard Background Color",description:"Your changed the artboard color",duration:2e3,isClosable:!0};function Hf(){const t=rf();return e=>{Qg(e)?t({...Jc,title:"Error!",description:e.message,status:"error"}):typeof e=="string"?t({...Jc,title:"Success",description:e,status:"success"}):hu(e)&&t({...Jc,status:"success",...e})}}const kk=["#f9ebea","#f2d7d5","#e6b0aa","#d98880","#cd6155","#c0392b","#a93226","#922b21","#7b241c","#641e16","#fdedec","#fadbd8","#f5b7b1","#f1948a","#ec7063","#e74c3c","#cb4335","#b03a2e","#943126","#78281f","#f5eef8","#ebdef0","#d7bde2","#c39bd3","#af7ac5","#9b59b6","#884ea0","#76448a","#633974","#512e5f","#f4ecf7","#e8daef","#d2b4de","#bb8fce","#a569bd","#8e44ad","#7d3c98","#6c3483","#5b2c6f","#4a235a","#eaf2f8","#d4e6f1","#a9cce3","#7fb3d5","#5499c7","#2980b9","#2471a3","#1f618d","#1a5276","#154360","#ebf5fb","#d6eaf8","#aed6f1","#85c1e9","#5dade2","#3498db","#2e86c1","#2874a6","#21618c","#1b4f72","#e8f8f5","#d1f2eb","#a3e4d7","#76d7c4","#48c9b0","#1abc9c","#17a589","#148f77","#117864","#0e6251","#e8f6f3","#d0ece7","#a2d9ce","#73c6b6","#45b39d","#16a085","#138d75","#117a65","#0e6655","#0b5345","#e9f7ef","#d4efdf","#a9dfbf","#7dcea0","#52be80","#27ae60","#229954","#1e8449","#196f3d","#145a32","#eafaf1","#d5f5e3","#abebc6","#82e0aa","#58d68d","#2ecc71","#28b463","#239b56","#1d8348","#186a3b","#fef9e7","#fcf3cf","#f9e79f","#f7dc6f","#f4d03f","#f1c40f","#d4ac0d","#b7950b","#9a7d0a","#7d6608","#fef5e7","#fdebd0","#fad7a0","#f8c471","#f5b041","#f39c12","#d68910","#b9770e","#9c640c","#7e5109","#fdf2e9","#fae5d3","#f5cba7","#f0b27a","#eb984e","#e67e22","#ca6f1e","#af601a","#935116","#784212","#fbeee6","#f6ddcc","#edbb99","#e59866","#dc7633","#d35400","#ba4a00","#a04000","#873600","#6e2c00","#fdfefe","#fbfcfc","#f7f9f9","#f4f6f7","#f0f3f4","#ecf0f1","#d0d3d4","#b3b6b7","#979a9a","#7b7d7d","#f8f9f9","#f2f3f4","#e5e7e9","#d7dbdd","#cacfd2","#bdc3c7","#a6acaf","#909497","#797d7f","#626567","#f4f6f6","#eaeded","#d5dbdb","#bfc9ca","#aab7b8","#95a5a6","#839192","#717d7e","#5f6a6a","#4d5656","#f2f4f4","#e5e8e8","#ccd1d1","#b2babb","#99a3a4","#7f8c8d","#707b7c","#616a6b","#515a5a","#424949","#ebedef","#d6dbdf","#aeb6bf","#85929e","#5d6d7e","#34495e","#2e4053","#283747","#212f3c","#1b2631","#eaecee","#d5d8dc","#abb2b9","#808b96","#566573","#2c3e50","#273746","#212f3d","#1c2833","#17202a"],al=kk,Uf=[{palette:["#FF6633","#FFB399","#FF33FF","#FFFF99"]},{palette:["#00B3E6","#E6B333","#3366E6","#999966"]},{palette:["#99FF99","#B34D4D","#80B300","#809900"]},{palette:["#E6B333","#6680B3","#66991A","#FF99E6"]},{palette:["#CCFF1A","#FF1A66","#E6331A","#33FFCC"]},{palette:["#66994D","#B366CC","#4D8000","#B33300"]},{palette:["#FF99CC","#FFCC99","#FFFF99","#00B3E6"]},{palette:["#3366E6","#999966","#99FF99","#B34D4D"]},{palette:["#80B300","#809900","#E6B333","#6680B3"]},{palette:["#FF99E6","#CCFF1A","#FF1A66","#E6331A"]},{palette:["#66991A","#FFCC99","#B366CC","#4D8000"]},{palette:["#CCFF99","#CC99FF","#99CCFF","#FF99CC"]},{palette:["#FFCC00","#FF9900","#FF6600","#666699"]},{palette:["#969696","#003366","#339966","#993300"]},{palette:["#CCCCFF","#666699","#FFCCCC","#CC99CC"]},{palette:["#99CC99","#FF6666","#669999","#993366"]},{palette:["#99CCCC","#CC99FF","#CCCC99","#FFCC99"]},{palette:["#336699","#33FF33","#CCFFFF","#FFCC00"]},{palette:["#FF99CC","#CC9999","#99CC99","#FFCC99"]},{palette:["#FFCC00","#FF9900","#FF6600","#666699"]},{palette:["#969696","#003366","#339966","#993300"]},{palette:["#CCCCFF","#666699","#FFCCCC","#CC99CC"]},{palette:["#99CC99","#FF6666","#669999","#993366"]},{palette:["#99CCCC","#CC99FF","#CCCC99","#FFCC99"]},{palette:["#336699","#33FF33","#CCFFFF","#FFCC00"]},{palette:["#FF99CC","#CC9999","#99CC99","#FFCC99"]},{palette:["#FFCC00","#FF9900","#FF6600","#666699"]},{palette:["#969696","#003366","#339966","#993300"]},{palette:["#CCCCFF","#666699","#FFCCCC","#CC99CC"]}],Dk="/photorelay/assets/color-oH4s8ZmA.webp",{setBackgroundColor:Mk}=Oe,Ik="#f54990";function Fk(){const{isOpen:t,onOpen:e,onClose:n}=cs(),r=Hf(),p=m=>{r({title:"Change Artboard Background Color",description:"Your changed the artboard color"}),Mk({color:m}),n()};return C.jsxs(C.Fragment,{children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Change Background Color",bg:Ik,color:"white",children:C.jsx(qi,{bg:"#edf2f7",padding:"5px",cursor:"pointer",onClick:e,w:"40px",borderRadius:"10px",src:Dk})}),C.jsx(fi,{isOpen:t,onClose:n,children:C.jsxs(hi,{children:[C.jsx(fs,{children:"Background Colors"}),C.jsx(pi,{}),C.jsx(di,{h:"40vh",children:C.jsxs(ds,{children:[C.jsxs(ps,{children:[C.jsx(rn,{children:"Palette"}),C.jsx(rn,{children:"Colors"})]}),C.jsxs(gs,{children:[C.jsx(nn,{children:C.jsx(wr,{style:{height:"65vh"},autoHide:!0,children:C.jsx(De,{flexWrap:"wrap",gap:1,children:Uf.map((m,x)=>C.jsxs(De,{flexWrap:"wrap",gap:1,children:[C.jsx(Ot,{className:"colorItem",style:{backgroundColor:"#333",color:"#FFF"},children:x+1}),m.palette.map(c=>C.jsx(Ot,{onClick:p.bind(null,c),className:"colorItem",style:{backgroundColor:c}},c))]},`bg-palette-${x}`))})})}),C.jsx(nn,{children:C.jsx(wr,{style:{height:"65vh"},autoHide:!0,children:C.jsx("div",{className:"colors",children:al.map(m=>C.jsx("span",{onClick:p.bind(null,m),className:"colorItem",style:{backgroundColor:m}},m))})})})]})]})})]})})]})}const{getSelectedType:Lk,selectById:jk,getSelected:Cg}=Oe;function Rk(){const[t,e]=D.useState([]),{selectedId:n,update:r}=zr(),p=D.useCallback(x=>{jk(x),r({selectedId:x})},[]),m=D.useCallback(()=>{if(Oe.canvas&&Oe.canvas.getObjects)return Oe.canvas.getObjects().map(c=>({...c,type:Lk(c)}))},[]);return D.useEffect(()=>{const x=Nt.debounce(i=>{r({selectedId:i.id,layer:Nt.cloneDeep(i)})},10),c=kn.subscribe(({type:i,data:d={}})=>{switch(i){case"selection:updated":r({selectedId:d.id,layer:Cg()});break;case"selection:created":r({selectedId:d.id,layer:Cg()});break;case"selection:cleared":r({selectedId:void 0,layer:{}});break;case"object:added":e(m());break;case"object:removed":e(m()),r({selectedId:void 0,layer:{}});break;case"object:moving":x(d);break;case"object:modified":x(d);break;case"object:scaling":x(d);break}});return()=>{c.unsubscribe()}},[m]),t!=null&&t.length?C.jsx(De,{flexDirection:"column",children:C.jsx(nP,{children:C.jsxs(Nv,{size:"sm",py:2,children:[C.jsx(tP,{children:C.jsxs(lg,{children:[C.jsx(zc,{children:"IDX"}),C.jsx(zc,{children:"Type"}),C.jsx(zc,{children:"Desc"})]})}),C.jsx(rP,{children:t.map((x,c)=>C.jsxs(lg,{cursor:"pointer",onClick:()=>p(x.id),bg:n===x.id?"rgb(46, 204, 113)":"#FFF",color:n===x.id?"#FFF":"#333",children:[C.jsx(Nc,{children:c+1}),C.jsx(Nc,{children:x.type}),C.jsx(Nc,{children:x.type==="i-text"?x.text:"--"})]},x.id))})]})})}):C.jsx(Mn,{mt:100,children:C.jsx(W_,{text:"No Layers"})})}const Bk="/photorelay/assets/add-IARM22X_.webp",{addImageFromURL:Nk}=Oe,zk="#f54990";function Wk(){const{isOpen:t,onOpen:e,onClose:n}=cs(),r=rf();return D.useEffect(()=>{const p=m=>{var x,c;((x=m==null?void 0:m.data)==null?void 0:x.type)==="request-add-img"&&((c=m==null?void 0:m.data)!=null&&c.data)&&(Nk({url:m.data.data,selectable:!0,position:{},scale:1}).catch(i=>{r({title:"Error",description:i.message||"Fail To Load Resource",status:"error",duration:2e3,isClosable:!0})}),r({title:"Image created.",description:"Your created a new Image",status:"success",duration:2e3,isClosable:!0}),n())};return window.addEventListener("message",p,!1),()=>{window.removeEventListener("message",p)}},[]),C.jsxs(C.Fragment,{children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Show More Image Material",bg:zk,color:"white",children:C.jsx(qi,{cursor:"pointer",onClick:e,w:"40px",borderRadius:"10px",bg:"#edf2f7",padding:"5px",src:Bk})}),C.jsxs(fi,{isOpen:t,onClose:n,children:[C.jsx(hs,{}),C.jsxs(hi,{children:[C.jsx(fs,{children:"Images"}),C.jsx(pi,{}),C.jsx(di,{children:C.jsxs(ds,{children:[C.jsxs(ps,{children:[C.jsx(rn,{children:"Logo"}),C.jsx(rn,{children:"Object"})]}),C.jsxs(gs,{children:[C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/photos",style:{width:400,height:400}})}),C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=2&total=20",style:{width:400,height:400}})})]})]})})]})]})]})}const{addImageFromURL:Hk}=Oe;function Uk(){const{isOpen:t,onOpen:e,onClose:n}=cs(),r=rf();return D.useEffect(()=>{const p=m=>{var x,c,i;if(((x=m==null?void 0:m.data)==null?void 0:x.type)==="request-add-icon"&&((c=m==null?void 0:m.data)!=null&&c.data)){const h=m.data.data,s=(i=m.data)!=null&&i.reparse?h.replace("<svg ","<svg width='64' height='64' ").replace("<path ",h.includes("fill=")?"<path ":'<path fill="#333" '):h,l="data:image/svg+xml,"+encodeURIComponent(s);Hk({url:l,scale:1.5}).catch(a=>{r({title:"Error",description:a.message||"Fail To Load Resource",status:"error"})}),r({title:"Shape created.",description:"Your created a new shapre",status:"success",duration:2e3,isClosable:!0})}};return window.addEventListener("message",p,!1),()=>{window.removeEventListener("message",p)}},[]),C.jsxs(C.Fragment,{children:[C.jsx(De,{children:C.jsx(Br,{onClick:e,colorScheme:"purple",cursor:"pointer",children:"More"})}),C.jsxs(fi,{isOpen:t,onClose:n,children:[C.jsx(hs,{}),C.jsxs(hi,{children:[C.jsx(fs,{children:"Shapes"}),C.jsx(pi,{}),C.jsx(di,{children:C.jsxs(ds,{children:[C.jsxs(ps,{children:[C.jsx(rn,{children:"Common"}),C.jsx(rn,{children:"Shop"}),C.jsx(rn,{children:"Logo"}),C.jsx(rn,{children:"Weather"}),C.jsx(rn,{children:"Logo"})]}),C.jsxs(gs,{children:[C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=1&total=1589",style:{width:400,height:400}})}),C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=2&total=20",style:{width:400,height:400}})}),C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=3&total=44",style:{width:400,height:400}})}),C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=4&total=22",style:{width:400,height:400}})}),C.jsx(nn,{children:C.jsx("iframe",{src:"https://www.duelpeak.com/pages/icons/index.html?tab=5&total=120",style:{width:400,height:400}})})]})]})})]})]})]})}const Vk="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702715018523'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='23796'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M746.666667%20597.333333H682.666667v-170.666666h64A149.333333%20149.333333%200%201%200%20597.333333%20277.333333V341.333333h-170.666666V277.333333A149.333333%20149.333333%200%201%200%20277.333333%20426.666667H341.333333v170.666666H277.333333a149.333333%20149.333333%200%201%200%20149.333334%20149.333334V682.666667h170.666666v64a149.333333%20149.333333%200%201%200%20149.333334-149.333334zM682.666667%20277.333333A64%2064%200%201%201%20746.666667%20341.333333H682.666667zM277.333333%20341.333333A64%2064%200%201%201%20341.333333%20277.333333V341.333333zM341.333333%20746.666667A64%2064%200%201%201%20277.333333%20682.666667H341.333333z%20m85.333334-149.333334v-170.666666h170.666666v170.666666z%20m320%20213.333334a64%2064%200%200%201-64-64V682.666667h64a64%2064%200%200%201%200%20128z'%20p-id='23797'%3e%3c/path%3e%3c/svg%3e",Gk=Object.freeze(Object.defineProperty({__proto__:null,default:Vk},Symbol.toStringTag,{value:"Module"})),Yk="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714922441'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='22388'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M512%2085.333333a426.666667%20426.666667%200%201%200%20426.666667%20426.666667A426.666667%20426.666667%200%200%200%20512%2085.333333z%20m128%20330.666667a21.333333%2021.333333%200%200%201-21.333333%2021.333333h-32a21.333333%2021.333333%200%200%201-21.333334-21.333333v-42.666667h-106.666666v37.546667a9.386667%209.386667%200%200%200%203.84%208.106667l146.346666%20120.746666a85.333333%2085.333333%200%200%201%2031.146667%2065.706667V640a85.333333%2085.333333%200%200%201-85.333333%2085.333333v21.333334a21.333333%2021.333333%200%200%201-21.333334%2021.333333h-42.666666a21.333333%2021.333333%200%200%201-21.333334-21.333333V725.333333a85.333333%2085.333333%200%200%201-85.333333-85.333333v-32a21.333333%2021.333333%200%200%201%2021.333333-21.333333h32a21.333333%2021.333333%200%200%201%2021.333334%2021.333333v42.666667h106.666666v-37.546667a9.386667%209.386667%200%200%200-3.84-8.106667l-146.346666-120.746666A85.333333%2085.333333%200%200%201%20384%20418.56V384a85.333333%2085.333333%200%200%201%2085.333333-85.333333v-21.333334a21.333333%2021.333333%200%200%201%2021.333334-21.333333h42.666666a21.333333%2021.333333%200%200%201%2021.333334%2021.333333V298.666667a85.333333%2085.333333%200%200%201%2085.333333%2085.333333z'%20p-id='22389'%3e%3c/path%3e%3c/svg%3e",Xk=Object.freeze(Object.defineProperty({__proto__:null,default:Yk},Symbol.toStringTag,{value:"Module"})),$k="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714934749'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='22542'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M512%20938.666667A426.666667%20426.666667%200%201%200%2085.333333%20512a426.666667%20426.666667%200%200%200%20426.666667%20426.666667z%20m0-768a341.333333%20341.333333%200%201%201-341.333333%20341.333333%20341.333333%20341.333333%200%200%201%20341.333333-341.333333z%20m-30.72%20587.946666a32.853333%2032.853333%200%200%200%2022.613333%209.386667h16.213334a32%2032%200%200%200%2022.613333-9.386667l133.546667-133.973333a21.333333%2021.333333%200%200%200%200-30.293333l-29.866667-30.293334a21.333333%2021.333333%200%200%200-30.293333%200L554.666667%20625.92V277.333333a21.333333%2021.333333%200%200%200-21.333334-21.333333h-42.666666a21.333333%2021.333333%200%200%200-21.333334%2021.333333v348.586667l-61.44-61.44a20.906667%2020.906667%200%200%200-29.866666%200l-30.293334%2030.293333a21.333333%2021.333333%200%200%200%200%2030.293334z'%20p-id='22543'%3e%3c/path%3e%3c/svg%3e",qk=Object.freeze(Object.defineProperty({__proto__:null,default:$k},Symbol.toStringTag,{value:"Module"})),Kk="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702715196181'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='24910'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M557.226667%20816.64a21.333333%2021.333333%200%200%201-30.293334%200l-8.533333-8.533333a20.906667%2020.906667%200%200%201-6.4-15.36V640H192a21.333333%2021.333333%200%200%201-21.333333-21.333333v-213.333334a21.333333%2021.333333%200%200%201%2021.333333-21.333333H512V231.253333a20.906667%2020.906667%200%200%201%206.4-15.36l8.533333-8.533333a21.333333%2021.333333%200%200%201%2030.293334%200l289.706666%20289.706667a20.48%2020.48%200%200%201%200%2029.866666z'%20p-id='24911'%3e%3c/path%3e%3c/svg%3e",Jk=Object.freeze(Object.defineProperty({__proto__:null,default:Kk},Symbol.toStringTag,{value:"Module"})),Zk="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714871966'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21922'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M902.4%20331.52l-320-224a122.88%20122.88%200%200%200-140.8%200l-320%20224A85.333333%2085.333333%200%200%200%2085.333333%20401.493333V853.333333a85.333333%2085.333333%200%200%200%2085.333334%2085.333334h682.666666a85.333333%2085.333333%200%200%200%2085.333334-85.333334V401.493333a85.333333%2085.333333%200%200%200-36.266667-69.973333z%20m-369.066667%20293.973333a38.826667%2038.826667%200%200%201-21.333333%206.4%2036.266667%2036.266667%200%200%201-21.333333-6.826666L170.666667%20401.493333l320-224a36.693333%2036.693333%200%200%201%2042.666666%200L853.333333%20401.493333z'%20p-id='21923'%3e%3c/path%3e%3c/svg%3e",Qk=Object.freeze(Object.defineProperty({__proto__:null,default:Zk},Symbol.toStringTag,{value:"Module"})),eD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702715081904'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='24112'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M938.666667%20256a85.333333%2085.333333%200%200%200-85.333334-85.333333H170.666667a85.333333%2085.333333%200%200%200-85.333334%2085.333333v512a85.333333%2085.333333%200%200%200%2085.333334%2085.333333h682.666666a85.333333%2085.333333%200%200%200%2085.333334-85.333333z%20m-106.666667%20512h-42.666667a21.333333%2021.333333%200%200%201-21.333333-21.333333V357.12l-238.08%20190.72A34.56%2034.56%200%200%201%20512%20554.666667h-7.68a34.56%2034.56%200%200%201-20.053333-6.826667L256%20366.506667v380.16a21.333333%2021.333333%200%200%201-21.333333%2021.333333h-42.666667a21.333333%2021.333333%200%200%201-21.333333-21.333333v-469.333334a21.333333%2021.333333%200%200%201%2021.333333-21.333333h47.36a42.666667%2042.666667%200%200%201%2026.453333%209.386667l240.213334%20192%20240.64-192a42.666667%2042.666667%200%200%201%2026.453333-9.386667h58.88a21.333333%2021.333333%200%200%201%2021.333333%2021.333333v469.333334a21.333333%2021.333333%200%200%201-21.333333%2021.333333z'%20p-id='24113'%3e%3c/path%3e%3c/svg%3e",tD=Object.freeze(Object.defineProperty({__proto__:null,default:eD},Symbol.toStringTag,{value:"Module"})),nD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714808715'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20492'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M938.666667%20362.666667A234.666667%20234.666667%200%200%200%20704%20128%20271.36%20271.36%200%200%200%20512%20216.32%20271.36%20271.36%200%200%200%20320%20128%20234.666667%20234.666667%200%200%200%2085.333333%20362.666667c0%20167.253333%20202.666667%20352%20298.666667%20448l97.28%2097.28a32%2032%200%200%200%2022.613333%209.386666h16.213334a32%2032%200%200%200%2022.613333-9.386666L640%20810.666667c96-96%20298.666667-280.746667%20298.666667-448z'%20p-id='20493'%3e%3c/path%3e%3c/svg%3e",rD=Object.freeze(Object.defineProperty({__proto__:null,default:nD},Symbol.toStringTag,{value:"Module"})),iD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714853587'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21764'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M768%20436.906667v53.76a21.333333%2021.333333%200%200%201-21.333333%2021.333333h-42.666667a21.333333%2021.333333%200%200%201-21.333333-21.333333v-11.52a115.626667%20115.626667%200%200%200-64-100.693334c-7.68-4.266667-14.506667-9.386667-21.333334-14.08v384A161.28%20161.28%200%200%201%20426.666667%20896a161.28%20161.28%200%200%201-170.666667-149.333333%20161.28%20161.28%200%200%201%20170.666667-149.333334%20183.04%20183.04%200%200%201%2085.333333%2020.906667V149.333333a21.333333%2021.333333%200%200%201%2021.333333-21.333333h42.666667a21.333333%2021.333333%200%200%201%2021.333333%2021.333333v7.253334a113.92%20113.92%200%200%200%2061.013334%20103.253333A197.12%20197.12%200%200%201%20768%20436.906667z'%20p-id='21765'%3e%3c/path%3e%3c/svg%3e",sD=Object.freeze(Object.defineProperty({__proto__:null,default:iD},Symbol.toStringTag,{value:"Module"})),oD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714851282'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21606'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M512%2085.333333a426.666667%20426.666667%200%201%200%20426.666667%20426.666667A426.666667%20426.666667%200%200%200%20512%2085.333333z%20m0%20768a341.333333%20341.333333%200%201%201%20341.333333-341.333333%20341.333333%20341.333333%200%200%201-341.333333%20341.333333zM433.066667%20329.386667A32%2032%200%200%200%20384%20356.266667v311.466666a32%2032%200%200%200%2049.066667%2026.88L682.666667%20539.306667a32.426667%2032.426667%200%200%200%200-54.613334z'%20p-id='21607'%3e%3c/path%3e%3c/svg%3e",aD=Object.freeze(Object.defineProperty({__proto__:null,default:oD},Symbol.toStringTag,{value:"Module"})),lD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714826424'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21126'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M93.013333%20420.693333A20.906667%2020.906667%200%200%201%2085.333333%20397.653333l3.413334-10.666666a20.906667%2020.906667%200%200%201%2018.773333-14.933334l272.64-21.76%20104.533333-251.306666a21.76%2021.76%200%200%201%2021.76-13.653334h11.093334a20.906667%2020.906667%200%200%201%2020.053333%2013.653334l104.96%20251.306666%20272.64%2021.76a20.906667%2020.906667%200%200%201%2018.773333%2014.933334l3.413334%2010.666666a20.906667%2020.906667%200%200%201-6.4%2023.04L725.333333%20597.333333l63.146667%20264.96a21.76%2021.76%200%200%201-8.106667%2022.613334l-12.373333%206.826666a21.333333%2021.333333%200%200%201-23.893333%200L512%20750.933333l-233.386667%20142.08a21.333333%2021.333333%200%200%201-23.893333%200l-9.386667-6.4a21.76%2021.76%200%200%201-8.106666-22.613333L298.666667%20597.333333z'%20p-id='21127'%3e%3c/path%3e%3c/svg%3e",cD=Object.freeze(Object.defineProperty({__proto__:null,default:lD},Symbol.toStringTag,{value:"Module"})),uD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714911627'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='22234'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M401.493333%20512l180.906667-180.48a21.76%2021.76%200%200%200%200-30.293333L378.88%2097.706667A42.666667%2042.666667%200%200%200%20348.586667%2085.333333H320a21.333333%2021.333333%200%200%200-21.333333%2021.333334v302.506666L151.893333%20262.4a21.333333%2021.333333%200%200%200-30.293333%200l-29.866667%2030.293333a20.48%2020.48%200%200%200%200%2029.866667L280.746667%20512l-189.013334%20189.44a20.48%2020.48%200%200%200%200%2029.866667l29.866667%2030.293333a21.333333%2021.333333%200%200%200%2030.293333%200L298.666667%20614.826667v302.506666a21.333333%2021.333333%200%200%200%2021.333333%2021.333334h28.586667a42.666667%2042.666667%200%200%200%2030.293333-12.373334l203.52-203.52a21.76%2021.76%200%200%200%200-30.293333zM384%20223.573333l92.586667%2092.586667L384%20408.746667z%20m0%20576.853334v-185.173334l92.586667%2092.586667zM576%20469.333333h-42.666667a21.333333%2021.333333%200%200%200-21.333333%2021.333334v42.666666a21.333333%2021.333333%200%200%200%2021.333333%2021.333334h42.666667a21.333333%2021.333333%200%200%200%2021.333333-21.333334v-42.666666a21.333333%2021.333333%200%200%200-21.333333-21.333334z%20m170.666667%200h-42.666667a21.333333%2021.333333%200%200%200-21.333333%2021.333334v42.666666a21.333333%2021.333333%200%200%200%2021.333333%2021.333334h42.666667a21.333333%2021.333333%200%200%200%2021.333333-21.333334v-42.666666a21.333333%2021.333333%200%200%200-21.333333-21.333334z%20m170.666666%200h-42.666666a21.333333%2021.333333%200%200%200-21.333334%2021.333334v42.666666a21.333333%2021.333333%200%200%200%2021.333334%2021.333334h42.666666a21.333333%2021.333333%200%200%200%2021.333334-21.333334v-42.666666a21.333333%2021.333333%200%200%200-21.333334-21.333334z'%20p-id='22235'%3e%3c/path%3e%3c/svg%3e",fD=Object.freeze(Object.defineProperty({__proto__:null,default:uD},Symbol.toStringTag,{value:"Module"})),hD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714778160'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='19536'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M512%2085.333333a426.666667%20426.666667%200%201%200%20426.666667%20426.666667A426.666667%20426.666667%200%200%200%20512%2085.333333z%20m185.6%20329.813334l-239.786667%20239.786666a20.48%2020.48%200%200%201-29.866666%200L326.4%20554.666667a21.333333%2021.333333%200%200%201%200-30.293334l22.613333-22.613333a20.48%2020.48%200%200%201%2029.866667%200l64%2063.573333%20202.24-202.24a21.333333%2021.333333%200%200%201%2029.866667%200l22.613333%2022.613334a21.333333%2021.333333%200%200%201%200%2029.44z'%20p-id='19537'%3e%3c/path%3e%3c/svg%3e",dD=Object.freeze(Object.defineProperty({__proto__:null,default:hD},Symbol.toStringTag,{value:"Module"})),pD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1702714800050'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20174'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64'%20height='64'%3e%3cpath%20d='M810.666667%20128H213.333333a85.333333%2085.333333%200%200%200-85.333333%2085.333333v597.333334a85.333333%2085.333333%200%200%200%2085.333333%2085.333333h597.333334a85.333333%2085.333333%200%200%200%2085.333333-85.333333V213.333333a85.333333%2085.333333%200%200%200-85.333333-85.333333z%20m0%20682.666667H213.333333V213.333333h597.333334z%20m-384-155.733334a20.48%2020.48%200%200%200%2029.866666%200l239.786667-239.786666a21.333333%2021.333333%200%200%200%200-30.293334l-22.613333-22.613333a21.333333%2021.333333%200%200%200-29.866667%200l-202.24%20202.24-64-63.573333a20.48%2020.48%200%200%200-29.866667%200l-22.613333%2022.613333a21.333333%2021.333333%200%200%200%200%2030.293333z'%20p-id='20175'%3e%3c/path%3e%3c/svg%3e",gD=Object.freeze(Object.defineProperty({__proto__:null,default:pD},Symbol.toStringTag,{value:"Module"})),vD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1710987789998'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='5455'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512%201024c-13.092571%200-20.297143-1.462857-24.868571-6.509714-2.779429-3.035429-280.758857-311.661714-354.816-461.165715C105.545143%20502.857143%2091.428571%20444.708571%2091.428571%20387.986286%2091.428571%20174.006857%20280.100571%200%20512%200S932.571429%20175.177143%20932.571429%20390.473143c0%2065.024-13.019429%20114.176-44.982858%20169.581714-88.32%20153.124571-347.721143%20453.851429-350.317714%20456.813714-3.108571%203.657143-8.630857%207.131429-24.612571%207.131429H512z%20m0-785.737143c-89.197714%200-161.755429%2067.876571-161.755429%20151.332572s72.557714%20151.332571%20161.755429%20151.332571%20161.755429-67.876571%20161.755429-151.332571S601.234286%20238.262857%20512%20238.262857z'%20p-id='5456'%3e%3c/path%3e%3c/svg%3e",mD=Object.freeze(Object.defineProperty({__proto__:null,default:vD},Symbol.toStringTag,{value:"Module"})),yD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1710987862646'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3266'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M447.5%20261.5L309.24%2031.08A63.994%2063.994%200%200%200%20254.36%200H32.06C6.16%200-9%2029.14%205.84%2050.36l222.54%20317.92c59.44-55.54%20135.04-93.66%20219.12-106.78zM991.94%200H769.64c-22.48%200-43.32%2011.8-54.88%2031.08l-138.26%20230.42c84.08%2013.12%20159.68%2051.24%20219.12%20106.76L1018.16%2050.36C1033%2029.14%201017.84%200%20991.94%200zM512%20320c-194.4%200-352%20157.6-352%20352s157.6%20352%20352%20352%20352-157.6%20352-352-157.6-352-352-352z%20m185.04%20314.52l-75.86%2073.92%2017.94%20104.44c3.2%2018.72-16.52%2033.02-33.3%2024.18L512%20787.76l-93.8%2049.3c-16.8%208.9-36.5-5.48-33.3-24.18l17.94-104.44-75.86-73.92c-13.64-13.28-6.1-36.46%2012.7-39.18l104.86-15.28%2046.86-95.04c4.22-8.56%2012.38-12.78%2020.56-12.78%208.22%200%2016.44%204.28%2020.66%2012.78l46.86%2095.04%20104.86%2015.28c18.8%202.72%2026.34%2025.9%2012.7%2039.18z'%20p-id='3267'%3e%3c/path%3e%3c/svg%3e",bD=Object.freeze(Object.defineProperty({__proto__:null,default:yD},Symbol.toStringTag,{value:"Module"})),xD="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1710987931399'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2706'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M905.41056%20133.48864L528.76288%205.13024c-4.53632-1.55648-10.63936-2.32448-16.73216-2.32448-6.0928%200-12.19584%200.77824-16.73216%202.32448L118.64064%20133.48864c-9.19552%203.10272-16.73216%2013.74208-16.73216%2023.5008v534.70208c0%209.74848%206.31808%2022.60992%2013.96736%2028.71296l382.07488%20297.728c3.88096%202.99008%208.86784%204.53632%2013.96736%204.53632s10.19904-1.54624%2013.96736-4.53632l382.07488-297.728c7.64928-5.9904%2013.96736-18.8416%2013.96736-28.71296V156.98944c0.22528-9.75872-7.3216-20.28544-16.51712-23.5008zM663.11168%20314.05056l-97.20832%20178.56512h50.65728c6.0928%200%2011.07968%204.98688%2011.07968%2011.07968v23.6032c0%206.10304-4.98688%2011.07968-11.07968%2011.07968h-70.27712v32.9216h70.27712c6.0928%200%2011.07968%204.98688%2011.07968%2011.07968v23.6032c0%206.10304-4.98688%2011.07968-11.07968%2011.07968h-70.27712v57.41568c0%206.0928-4.98688%2011.07968-11.07968%2011.07968h-45.7728c-6.0928%200-11.07968-4.98688-11.07968-11.07968V617.0624h-69.9392c-6.0928%200-11.07968-4.98688-11.07968-11.07968v-23.6032c0-6.0928%204.98688-11.07968%2011.07968-11.07968h69.9392v-32.9216h-69.9392c-6.0928%200-11.07968-4.98688-11.07968-11.07968V503.7056c0-6.0928%204.98688-11.07968%2011.07968-11.07968h50.10432L360.98048%20314.0608c-2.88768-5.3248-1.00352-12.0832%204.43392-15.07328%201.65888-0.89088%203.44064-1.3312%205.3248-1.3312h50.98496c4.20864%200%207.97696%202.32448%209.87136%206.0928l80.80384%20159.9488%2081.14176-159.9488c1.88416-3.76832%205.76512-6.0928%209.87136-6.0928h49.87904c6.0928%200%2011.07968%204.98688%2011.07968%2011.07968%200.07168%201.87392-0.37888%203.65568-1.25952%205.31456z%20m0%200'%20fill='%232C2C2C'%20p-id='2707'%3e%3c/path%3e%3c/svg%3e",wD=Object.freeze(Object.defineProperty({__proto__:null,default:xD},Symbol.toStringTag,{value:"Module"})),Tg=Object.assign({"/src/assets/icons/14.svg":Gk,"/src/assets/icons/15.svg":Xk,"/src/assets/icons/18.svg":qk,"/src/assets/icons/2.svg":Jk,"/src/assets/icons/20.svg":Qk,"/src/assets/icons/23.svg":tD,"/src/assets/icons/24.svg":rD,"/src/assets/icons/26.svg":sD,"/src/assets/icons/27.svg":aD,"/src/assets/icons/32.svg":cD,"/src/assets/icons/4.svg":fD,"/src/assets/icons/7.svg":dD,"/src/assets/icons/9.svg":gD,"/src/assets/icons/gps.svg":mD,"/src/assets/icons/medal.svg":bD,"/src/assets/icons/propertysafety-fill.svg":wD}),_D=Object.keys(Tg).map(t=>Tg[t].default),SD="/photorelay/assets/template-DENoNZvD.webp",CD="/photorelay/assets/template2-C2Qrzbm_.webp",ga=ls();class TD{constructor(){Je(this,"init",e=>{for(const n in e)this[n]=e[n]});Je(this,"demos",[SD,CD]);Je(this,"data",e=>{const n={1:[{type:"resizeArtboard",props:{width:800*ga,height:520*ga}},{type:"setBackgroundColor",props:{color:"rgb(179, 102, 204)"}},{type:"addImageFromURL",props:{url:"https://img.duelpeak.com/duelpeak/202403/7b918aa98b05449576dd1791e70e13bb385b7613831925cc592a56c1c4968623.webp",position:{left:56,top:162}}},{type:"insertText",props:{text:"PhotoRelay",autocenter:!1,defaultStyle:{fontFamily:"Lucida Handwriting",left:304,top:235,fill:"#FFF"}}}],2:[{type:"resizeArtboard",props:{width:724*ga,height:1024*ga}},{type:"setBackgroundColor",props:{color:"rgb(24, 72, 92)"}},{type:"insertText",props:{text:"MONDAY & TUESDAY 5PM  9AM",autocenter:!1,defaultStyle:{fontFamily:"Lucida Handwriting",left:108,top:30,fontSize:30,fill:"rgb(217, 205, 181)"}}},{type:"insertText",props:{text:"FREE",autocenter:!1,defaultStyle:{fontFamily:"Lucida Handwriting",left:219,top:82,fontSize:100,fill:"rgb(205, 158, 77)"}}},{type:"insertText",props:{text:"LOCAL",autocenter:!1,defaultStyle:{fontFamily:"Lucida Handwriting",left:190,top:172,fontSize:100,fill:"rgb(205, 158, 77)"}}},{type:"insertText",props:{text:"Deliver",autocenter:!1,defaultStyle:{fontFamily:"Snell Roundhand",left:2,top:206,fontSize:150,fill:"rgb(202, 196, 196)"},scale:1.65}},{type:"addImageFromURL",props:{url:"https://img.duelpeak.com/duelpeak/202403/9c8e5e44a4587729e8f6ca12f5233bbfe96575c1c0ce7f6f7c9f0d0b7a87af38.webp",position:{left:-17,top:258},scale:1.48,autoFocus:!1}},{type:"insertRect",props:{fill:"rgb(24, 72, 92)",stroke:"rgb(205, 158, 77)",width:500,height:100,left:100,top:744,strokeWidth:1}},{type:"insertText",props:{text:`CALL 123 456 78 OR ORDER ONLINE
WWW.DUELPEAK.COM`,autocenter:!1,defaultStyle:{fontFamily:"Arial Black",left:150,top:772,fontSize:20,fill:"rgb(205, 158, 77)",textAlign:"center"}}},{type:"insertText",props:{text:"CopyRight @DuelPeak.com",autocenter:!1,defaultStyle:{fontFamily:"Arial Black",left:200,top:919,fontSize:20,fill:"#FFF",textAlign:"center"}}}]};return e?n[e]:n});Je(this,"delay",e=>new Promise(n=>{setTimeout(()=>{n(!0)},e)}));Je(this,"run",async e=>{const n=this.data(e);for(const r of n){const p=this[r.type]||this.api[r.type];p.constructor.name==="AsyncFunction"?await p(r.props):p(r.props),await this.delay(100),this.api.unSelectAll()}})}}function OD(t){return t.replace(/class="[^"]+"/g,"").replace(/<script/gi,"")}function ED({children:t,containerStyle:e}){const{isOpen:n,onOpen:r,onClose:p}=cs(),[m,x]=D.useState(""),c=D.useMemo(()=>{const d=m.match(R_);return d!=null&&d.length?d.map((s,l)=>{let a=s.replace(/fill="/,"").replace('"',"");return a.includes("rgb")&&(a=fu(a)),{color:a,index:l}}):[]},[m]),i=D.useCallback((d,h)=>{const s=B_(m,d,h);x(s)},[m]);return C.jsxs(C.Fragment,{children:[C.jsx("div",{style:e,onClick:r,children:t}),C.jsxs(fi,{isOpen:n,onClose:p,children:[C.jsx(hs,{}),C.jsxs(hi,{children:[C.jsx(fs,{children:"SVG Editor"}),C.jsx(pi,{}),C.jsxs(di,{children:[C.jsx(De,{w:"100%",display:"none",children:C.jsxs(Ot,{w:"100%",colorScheme:"purple",children:[C.jsx(st,{fill:"#FFF",type:"upload"}),C.jsx(Fe,{ml:2,children:"Upload SVG File"})]})}),C.jsx(De,{mt:2,mb:2,children:C.jsx(Hv,{h:200,placeholder:"Paste SVG Code Here",onChange:d=>{x(OD(d.target.value).trim())}})}),C.jsx(mr,{children:C.jsx("span",{className:"svgViewBox",dangerouslySetInnerHTML:{__html:m||"Waiting For Your Svg Code"}})}),C.jsx(De,{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",children:c.map(({color:d,index:h})=>C.jsx("input",{type:"color",defaultValue:d,style:{width:27},onChange:s=>{i(h,s.target.value)}},`colors-index-${h}`))}),C.jsx(De,{w:"100%",mt:2,children:C.jsxs(Ot,{w:"100%",colorScheme:"purple",disabled:Nt.isEmpty(m),onClick:()=>{if(!Nt.isEmpty(m)){const d=z_(m);Oe.addImageFromURL({url:d})}p()},children:[C.jsx(st,{fill:"#FFF",type:"add"}),C.jsx(Fe,{ml:2,children:"Insert To Artboard"})]})}),C.jsx(De,{w:"100%",mt:2,children:C.jsxs(Ot,{w:"100%",colorScheme:"purple",disabled:Nt.isEmpty(m),onClick:()=>{Nt.isEmpty(m)||N_(m,`${Ni()}.svg`)},children:[C.jsx(st,{fill:"#FFF",type:"download"}),C.jsx(Fe,{ml:2,children:"Download The SVG"})]})})]})]})]})]})}const Og="/photorelay/assets/image-CI_C_m3N.webp",PD="/photorelay/assets/clear-BwEQWp6S.webp",{addImageFromURL:va,getCanvasRect:AD,insertText:kD,removeBackgroundImage:DD,insertRect:MD}=Oe,ID=ls(),Zc="#f54990";function FD(){const[t,e]=D.useState(!0);return t?C.jsxs("div",{className:"leftPanel",children:[C.jsx("div",{className:"toggle",children:C.jsx("svg",{className:"icon icon-close",onClick:()=>e(!1),children:C.jsx("use",{xlinkHref:"#svg__icon__close"})})}),C.jsxs(ds,{children:[C.jsxs(ps,{children:[C.jsx(rn,{fontWeight:"700",children:"Material"}),C.jsx(rn,{fontWeight:"700",children:"Layers"})]}),C.jsxs(gs,{style:{height:"calc(100vh - 70px)"},children:[C.jsx(nn,{style:{height:"98%",padding:0},children:C.jsx(LD,{})}),C.jsx(nn,{style:{height:"98%",padding:0},children:C.jsx(Rk,{})})]})]})]}):C.jsx("div",{className:"toggle toggle-left",children:C.jsx("svg",{className:"icon icon-add",onClick:()=>e(!0),children:C.jsx("use",{xlinkHref:"#svg__icon__add"})})})}function LD(){var S,T;const t=D.useRef(),e=D.useRef(),{font:n,setFonts:r,setFont:p,color:m,setColor:x}=Ha(),{width:c,height:i,changeRect:d}=zr(),h=Hf(),s=D.useRef();D.useEffect(()=>{s.current=new TD,s.current.init({resizeArtboard:({width:E,height:P})=>d({width:E,height:P}),api:Oe})},[]);const l=D.useCallback(E=>{var P;Oe.clear(),(P=s.current)==null||P.run(E)},[]),a=D.useCallback(()=>{kD({defaultStyle:{...Jv.textStyle,fill:m,fontFamily:n||""}})},[]),u=D.useCallback(()=>{MD({})},[]),v=D.useCallback(()=>{},[]),f=E=>{va({url:E,selectable:!0,position:{}}).catch(P=>{h(P.message)})},y=E=>{const P=R=>{va({url:R,selectable:!1,position:{},scale:1}).catch(j=>{h(j.message)})},[F]=E;F&&e0(F).then(R=>{const{width:j,height:H}=R;if(AD().width<j/ID){const Q=H/j*c;d({width:c,height:Math.floor(Q)})}else d({width:j,height:H});setTimeout(()=>{P(F)},0)})},b=E=>{E.forEach(P=>{va({url:P,selectable:!0,position:{},scale:1}).catch(F=>{h({title:"Error",description:F.message||"Fail To Add Image",status:"error"})})})},_=()=>{DD()};return tS(E=>{va({url:E})}),C.jsxs(wr,{style:{height:"100%"},autoHide:!0,children:[C.jsxs(De,{direction:"column",children:[C.jsx(Fe,{as:"b",py:2,fontSize:"xl",children:"Insert"}),C.jsxs(De,{direction:"column",gap:1,children:[C.jsx(Ot,{onClick:a,colorScheme:"purple",children:C.jsxs(Mn,{gap:2,children:[C.jsx(st,{type:"add",fill:"#fff"}),C.jsx("span",{children:"New Text"})]})}),C.jsx(Ot,{onClick:u,colorScheme:"purple",children:C.jsxs(Mn,{gap:2,children:[C.jsx(st,{type:"add",fill:"#fff"}),C.jsx("span",{children:"New Rectangle"})]})}),C.jsx(ED,{containerStyle:{display:"flex"},children:C.jsx(Ot,{flex:1,onClick:v,colorScheme:"purple",children:C.jsxs(Mn,{gap:2,children:[C.jsx(st,{type:"add",fill:"#fff"}),C.jsx("span",{children:"SVG"})]})})})]}),C.jsxs(De,{alignItems:"center",justifyContent:"space-between",children:[C.jsx(Fe,{as:"b",fontSize:"xl",children:"Shape"}),C.jsx(Uk,{})]}),C.jsx(De,{wrap:"wrap",gap:1,children:_D.map(E=>C.jsx(Ot,{size:"sm",onClick:f.bind(null,E),children:C.jsx("img",{className:"material-img-item",src:E})},E))}),C.jsxs(De,{py:2,children:[C.jsxs(mr,{bg:"ivory",children:[C.jsx(De,{alignItems:"center",justifyContent:"space-between",children:C.jsx(Fe,{as:"b",fontSize:"xl",children:"Background"})}),C.jsxs(De,{direction:"column",gap:1,flexDir:"row",children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Set BackgroundImage From Local File",bg:Zc,color:"white",children:C.jsx(qi,{bg:"#edf2f7",cursor:"pointer",padding:"5px",onClick:()=>t.current.click(),src:Og,w:"40px",borderRadius:"10px"})}),C.jsx(Fk,{}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Remove Background Image",bg:Zc,color:"white",children:C.jsx(qi,{cursor:"pointer",onClick:_,w:"40px",borderRadius:"10px",bg:"#edf2f7",padding:"5px",src:PD})})]}),C.jsx(Cp,{onChange:y,myRef:t})]}),C.jsxs(Mn,{ml:1,bg:"bisque",flex:1,flexDirection:"column",children:[C.jsx(De,{alignItems:"center",justifyContent:"space-between",children:C.jsx(Fe,{as:"b",fontSize:"xl",children:"Image"})}),C.jsxs(De,{direction:"column",gap:1,flexDir:"row",children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"Add Image From Local File",bg:Zc,color:"white",children:C.jsx(qi,{cursor:"pointer",bg:"#edf2f7",padding:"5px",onClick:()=>e.current.click(),src:Og,w:"40px",borderRadius:"10px"})}),C.jsx(Wk,{}),C.jsx(Cp,{onChange:b,myRef:e})]})]})]})]}),C.jsx(De,{alignItems:"center",justifyContent:"space-between",children:C.jsx(Fe,{as:"b",py:2,fontSize:"xl",children:"Template"})}),C.jsx(De,{flexDirection:"column",gap:2,children:(T=(S=s.current)==null?void 0:S.demos)!=null&&T.length?s.current.demos.map((E,P)=>C.jsx(Ak,{title:"Template Confirm",content:"Do you want to clear the artboard and apply the template content?",okText:"Apply Template",onOk:l.bind(null,P+1),children:C.jsx(AS,{src:E,cursor:"pointer"})},E)):void 0})]})}function Eg(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Vf(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Eg(e[n])&&Eg(t[n])&&Object.keys(e[n]).length>0&&Vf(t[n],e[n])})}const xm={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ms(){const t=typeof document<"u"?document:{};return Vf(t,xm),t}const jD={document:xm,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function xn(){const t=typeof window<"u"?window:{};return Vf(t,jD),t}function RD(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function BD(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Vu(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Na(){return Date.now()}function ND(t){const e=xn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function zD(t,e){e===void 0&&(e="x");const n=xn();let r,p,m;const x=ND(t);return n.WebKitCSSMatrix?(p=x.transform||x.webkitTransform,p.split(",").length>6&&(p=p.split(", ").map(c=>c.replace(",",".")).join(", ")),m=new n.WebKitCSSMatrix(p==="none"?"":p)):(m=x.MozTransform||x.OTransform||x.MsTransform||x.msTransform||x.transform||x.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=m.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?p=m.m41:r.length===16?p=parseFloat(r[12]):p=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?p=m.m42:r.length===16?p=parseFloat(r[13]):p=parseFloat(r[5])),p||0}function ma(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function WD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function vn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!WD(r)){const p=Object.keys(Object(r)).filter(m=>e.indexOf(m)<0);for(let m=0,x=p.length;m<x;m+=1){const c=p[m],i=Object.getOwnPropertyDescriptor(r,c);i!==void 0&&i.enumerable&&(ma(t[c])&&ma(r[c])?r[c].__swiper__?t[c]=r[c]:vn(t[c],r[c]):!ma(t[c])&&ma(r[c])?(t[c]={},r[c].__swiper__?t[c]=r[c]:vn(t[c],r[c])):t[c]=r[c])}}}return t}function ya(t,e,n){t.style.setProperty(e,n)}function wm(t){let{swiper:e,targetPosition:n,side:r}=t;const p=xn(),m=-e.translate;let x=null,c;const i=e.params.speed;e.wrapperEl.style.scrollSnapType="none",p.cancelAnimationFrame(e.cssModeFrameID);const d=n>m?"next":"prev",h=(l,a)=>d==="next"&&l>=a||d==="prev"&&l<=a,s=()=>{c=new Date().getTime(),x===null&&(x=c);const l=Math.max(Math.min((c-x)/i,1),0),a=.5-Math.cos(l*Math.PI)/2;let u=m+a*(n-m);if(h(u,n)&&(u=n),e.wrapperEl.scrollTo({[r]:u}),h(u,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:u})}),p.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=p.requestAnimationFrame(s)};s()}function vr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function za(t){try{console.warn(t);return}catch{}}function Gu(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:RD(e)),n}function HD(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function UD(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Nr(t,e){return xn().getComputedStyle(t,null).getPropertyValue(e)}function Pg(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function VD(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function Ag(t,e,n){const r=xn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let Qc;function GD(){const t=xn(),e=ms();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function _m(){return Qc||(Qc=GD()),Qc}let eu;function YD(t){let{userAgent:e}=t===void 0?{}:t;const n=_m(),r=xn(),p=r.navigator.platform,m=e||r.navigator.userAgent,x={ios:!1,android:!1},c=r.screen.width,i=r.screen.height,d=m.match(/(Android);?[\s\/]+([\d.]+)?/);let h=m.match(/(iPad).*OS\s([\d_]+)/);const s=m.match(/(iPod)(.*OS\s([\d_]+))?/),l=!h&&m.match(/(iPhone\sOS|iOS)\s([\d_]+)/),a=p==="Win32";let u=p==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&u&&n.touch&&v.indexOf(`${c}x${i}`)>=0&&(h=m.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),u=!1),d&&!a&&(x.os="android",x.android=!0),(h||l||s)&&(x.os="ios",x.ios=!0),x}function Sm(t){return t===void 0&&(t={}),eu||(eu=YD(t)),eu}let tu;function XD(){const t=xn(),e=Sm();let n=!1;function r(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[i,d]=c.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));n=i<16||i===16&&d<2}}const p=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),m=r(),x=m||p&&e.ios;return{isSafari:n||m,needPerspectiveFix:n,need3dFix:x,isWebView:p}}function $D(){return tu||(tu=XD()),tu}function qD(t){let{swiper:e,on:n,emit:r}=t;const p=xn();let m=null,x=null;const c=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},i=()=>{!e||e.destroyed||!e.initialized||(m=new ResizeObserver(s=>{x=p.requestAnimationFrame(()=>{const{width:l,height:a}=e;let u=l,v=a;s.forEach(f=>{let{contentBoxSize:y,contentRect:b,target:_}=f;_&&_!==e.el||(u=b?b.width:(y[0]||y).inlineSize,v=b?b.height:(y[0]||y).blockSize)}),(u!==l||v!==a)&&c()})}),m.observe(e.el))},d=()=>{x&&p.cancelAnimationFrame(x),m&&m.unobserve&&e.el&&(m.unobserve(e.el),m=null)},h=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof p.ResizeObserver<"u"){i();return}p.addEventListener("resize",c),p.addEventListener("orientationchange",h)}),n("destroy",()=>{d(),p.removeEventListener("resize",c),p.removeEventListener("orientationchange",h)})}function KD(t){let{swiper:e,extendParams:n,on:r,emit:p}=t;const m=[],x=xn(),c=function(h,s){s===void 0&&(s={});const l=x.MutationObserver||x.WebkitMutationObserver,a=new l(u=>{if(e.__preventObserver__)return;if(u.length===1){p("observerUpdate",u[0]);return}const v=function(){p("observerUpdate",u[0])};x.requestAnimationFrame?x.requestAnimationFrame(v):x.setTimeout(v,0)});a.observe(h,{attributes:typeof s.attributes>"u"?!0:s.attributes,childList:typeof s.childList>"u"?!0:s.childList,characterData:typeof s.characterData>"u"?!0:s.characterData}),m.push(a)},i=()=>{if(e.params.observer){if(e.params.observeParents){const h=VD(e.hostEl);for(let s=0;s<h.length;s+=1)c(h[s])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},d=()=>{m.forEach(h=>{h.disconnect()}),m.splice(0,m.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",i),r("destroy",d)}var JD={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const p=n?"unshift":"push";return t.split(" ").forEach(m=>{r.eventsListeners[m]||(r.eventsListeners[m]=[]),r.eventsListeners[m][p](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function p(){r.off(t,p),p.__emitterProxy&&delete p.__emitterProxy;for(var m=arguments.length,x=new Array(m),c=0;c<m;c++)x[c]=arguments[c];e.apply(r,x)}return p.__emitterProxy=e,r.on(t,p,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((p,m)=>{(p===e||p.__emitterProxy&&p.__emitterProxy===e)&&n.eventsListeners[r].splice(m,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var p=arguments.length,m=new Array(p),x=0;x<p;x++)m[x]=arguments[x];return typeof m[0]=="string"||Array.isArray(m[0])?(e=m[0],n=m.slice(1,m.length),r=t):(e=m[0].events,n=m[0].data,r=m[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(i=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[i,...n])}),t.eventsListeners&&t.eventsListeners[i]&&t.eventsListeners[i].forEach(d=>{d.apply(r,n)})}),t}};function ZD(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Nr(r,"padding-left")||0,10)-parseInt(Nr(r,"padding-right")||0,10),n=n-parseInt(Nr(r,"padding-top")||0,10)-parseInt(Nr(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function QD(){const t=this;function e(j,H){return parseFloat(j.getPropertyValue(t.getDirectionLabel(H))||0)}const n=t.params,{wrapperEl:r,slidesEl:p,size:m,rtlTranslate:x,wrongRTL:c}=t,i=t.virtual&&n.virtual.enabled,d=i?t.virtual.slides.length:t.slides.length,h=vr(p,`.${t.params.slideClass}, swiper-slide`),s=i?t.virtual.slides.length:h.length;let l=[];const a=[],u=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let f=n.slidesOffsetAfter;typeof f=="function"&&(f=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,b=t.slidesGrid.length;let _=n.spaceBetween,S=-v,T=0,E=0;if(typeof m>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*m:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,h.forEach(j=>{x?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ya(r,"--swiper-centered-offset-before",""),ya(r,"--swiper-centered-offset-after",""));const P=n.grid&&n.grid.rows>1&&t.grid;P?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let F;const R=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(j=>typeof n.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<s;j+=1){F=0;let H;if(h[j]&&(H=h[j]),P&&t.grid.updateSlide(j,H,h),!(h[j]&&Nr(H,"display")==="none")){if(n.slidesPerView==="auto"){R&&(h[j].style[t.getDirectionLabel("width")]="");const Z=getComputedStyle(H),Q=H.style.transform,se=H.style.webkitTransform;if(Q&&(H.style.transform="none"),se&&(H.style.webkitTransform="none"),n.roundLengths)F=t.isHorizontal()?Ag(H,"width"):Ag(H,"height");else{const le=e(Z,"width"),ge=e(Z,"padding-left"),X=e(Z,"padding-right"),ie=e(Z,"margin-left"),k=e(Z,"margin-right"),z=Z.getPropertyValue("box-sizing");if(z&&z==="border-box")F=le+ie+k;else{const{clientWidth:N,offsetWidth:W}=H;F=le+ge+X+ie+k+(W-N)}}Q&&(H.style.transform=Q),se&&(H.style.webkitTransform=se),n.roundLengths&&(F=Math.floor(F))}else F=(m-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(F=Math.floor(F)),h[j]&&(h[j].style[t.getDirectionLabel("width")]=`${F}px`);h[j]&&(h[j].swiperSlideSize=F),u.push(F),n.centeredSlides?(S=S+F/2+T/2+_,T===0&&j!==0&&(S=S-m/2-_),j===0&&(S=S-m/2-_),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),E%n.slidesPerGroup===0&&l.push(S),a.push(S)):(n.roundLengths&&(S=Math.floor(S)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&l.push(S),a.push(S),S=S+F+_),t.virtualSize+=F+_,T=F,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,m)+f,x&&c&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+_}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),P&&t.grid.updateWrapperSize(F,l),!n.centeredSlides){const j=[];for(let H=0;H<l.length;H+=1){let Z=l[H];n.roundLengths&&(Z=Math.floor(Z)),l[H]<=t.virtualSize-m&&j.push(Z)}l=j,Math.floor(t.virtualSize-m)-Math.floor(l[l.length-1])>1&&l.push(t.virtualSize-m)}if(i&&n.loop){const j=u[0]+_;if(n.slidesPerGroup>1){const H=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),Z=j*n.slidesPerGroup;for(let Q=0;Q<H;Q+=1)l.push(l[l.length-1]+Z)}for(let H=0;H<t.virtual.slidesBefore+t.virtual.slidesAfter;H+=1)n.slidesPerGroup===1&&l.push(l[l.length-1]+j),a.push(a[a.length-1]+j),t.virtualSize+=j}if(l.length===0&&(l=[0]),_!==0){const j=t.isHorizontal()&&x?"marginLeft":t.getDirectionLabel("marginRight");h.filter((H,Z)=>!n.cssMode||n.loop?!0:Z!==h.length-1).forEach(H=>{H.style[j]=`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let j=0;u.forEach(Z=>{j+=Z+(_||0)}),j-=_;const H=j-m;l=l.map(Z=>Z<=0?-v:Z>H?H+f:Z)}if(n.centerInsufficientSlides){let j=0;u.forEach(Z=>{j+=Z+(_||0)}),j-=_;const H=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(j+H<m){const Z=(m-j-H)/2;l.forEach((Q,se)=>{l[se]=Q-Z}),a.forEach((Q,se)=>{a[se]=Q+Z})}}if(Object.assign(t,{slides:h,snapGrid:l,slidesGrid:a,slidesSizesGrid:u}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ya(r,"--swiper-centered-offset-before",`${-l[0]}px`),ya(r,"--swiper-centered-offset-after",`${t.size/2-u[u.length-1]/2}px`);const j=-t.snapGrid[0],H=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(Z=>Z+j),t.slidesGrid=t.slidesGrid.map(Z=>Z+H)}if(s!==d&&t.emit("slidesLengthChange"),l.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),a.length!==b&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!i&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const j=`${n.containerModifierClass}backface-hidden`,H=t.el.classList.contains(j);s<=n.maxBackfaceHiddenSlides?H||t.el.classList.add(j):H&&t.el.classList.remove(j)}}function eM(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let p=0,m;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const x=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{n.push(c)});else for(m=0;m<Math.ceil(e.params.slidesPerView);m+=1){const c=e.activeIndex+m;if(c>e.slides.length&&!r)break;n.push(x(c))}else n.push(x(e.activeIndex));for(m=0;m<n.length;m+=1)if(typeof n[m]<"u"){const c=n[m].offsetHeight;p=c>p?c:p}(p||p===0)&&(e.wrapperEl.style.height=`${p}px`)}function tM(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const kg=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function nM(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:p,snapGrid:m}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let x=-t;p&&(x=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=n.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let i=0;i<r.length;i+=1){const d=r[i];let h=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(h-=r[0].swiperSlideOffset);const s=(x+(n.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+c),l=(x-m[0]+(n.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+c),a=-(x-h),u=a+e.slidesSizesGrid[i],v=a>=0&&a<=e.size-e.slidesSizesGrid[i],f=a>=0&&a<e.size-1||u>1&&u<=e.size||a<=0&&u>=e.size;f&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(i)),kg(d,f,n.slideVisibleClass),kg(d,v,n.slideFullyVisibleClass),d.progress=p?-s:s,d.originalProgress=p?-l:l}}function rM(t){const e=this;if(typeof t>"u"){const h=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*h||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:p,isBeginning:m,isEnd:x,progressLoop:c}=e;const i=m,d=x;if(r===0)p=0,m=!0,x=!0;else{p=(t-e.minTranslate())/r;const h=Math.abs(t-e.minTranslate())<1,s=Math.abs(t-e.maxTranslate())<1;m=h||p<=0,x=s||p>=1,h&&(p=0),s&&(p=1)}if(n.loop){const h=e.getSlideIndexByData(0),s=e.getSlideIndexByData(e.slides.length-1),l=e.slidesGrid[h],a=e.slidesGrid[s],u=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=l?c=(v-l)/u:c=(v+u-a)/u,c>1&&(c-=1)}Object.assign(e,{progress:p,progressLoop:c,isBeginning:m,isEnd:x}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),m&&!i&&e.emit("reachBeginning toEdge"),x&&!d&&e.emit("reachEnd toEdge"),(i&&!m||d&&!x)&&e.emit("fromEdge"),e.emit("progress",p)}const nu=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function iM(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:p}=t,m=t.virtual&&n.virtual.enabled,x=t.grid&&n.grid&&n.grid.rows>1,c=s=>vr(r,`.${n.slideClass}${s}, swiper-slide${s}`)[0];let i,d,h;if(m)if(n.loop){let s=p-t.virtual.slidesBefore;s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),i=c(`[data-swiper-slide-index="${s}"]`)}else i=c(`[data-swiper-slide-index="${p}"]`);else x?(i=e.filter(s=>s.column===p)[0],h=e.filter(s=>s.column===p+1)[0],d=e.filter(s=>s.column===p-1)[0]):i=e[p];i&&(x||(h=UD(i,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=e[0]),d=HD(i,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(s=>{nu(s,s===i,n.slideActiveClass),nu(s,s===h,n.slideNextClass),nu(s,s===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Pa=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let p=r.querySelector(`.${t.params.lazyPreloaderClass}`);!p&&t.isElement&&(r.shadowRoot?p=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(p=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),p&&p.remove())})),p&&p.remove()}},ru=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Yu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),p=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const x=p,c=[x-e];c.push(...Array.from({length:e}).map((i,d)=>x+r+d)),t.slides.forEach((i,d)=>{c.includes(i.column)&&ru(t,d)});return}const m=p+r-1;if(t.params.rewind||t.params.loop)for(let x=p-e;x<=m+e;x+=1){const c=(x%n+n)%n;(c<p||c>m)&&ru(t,c)}else for(let x=Math.max(p-e,0);x<=Math.min(m+e,n-1);x+=1)x!==p&&(x>m||x<p)&&ru(t,x)};function sM(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let p;for(let m=0;m<e.length;m+=1)typeof e[m+1]<"u"?r>=e[m]&&r<e[m+1]-(e[m+1]-e[m])/2?p=m:r>=e[m]&&r<e[m+1]&&(p=m+1):r>=e[m]&&(p=m);return n.normalizeSlideIndex&&(p<0||typeof p>"u")&&(p=0),p}function oM(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:p,activeIndex:m,realIndex:x,snapIndex:c}=e;let i=t,d;const h=a=>{let u=a-e.virtual.slidesBefore;return u<0&&(u=e.virtual.slides.length+u),u>=e.virtual.slides.length&&(u-=e.virtual.slides.length),u};if(typeof i>"u"&&(i=sM(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const a=Math.min(p.slidesPerGroupSkip,i);d=a+Math.floor((i-a)/p.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),i===m&&!e.params.loop){d!==c&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(i===m&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(i);return}const s=e.grid&&p.grid&&p.grid.rows>1;let l;if(e.virtual&&p.virtual.enabled&&p.loop)l=h(i);else if(s){const a=e.slides.filter(v=>v.column===i)[0];let u=parseInt(a.getAttribute("data-swiper-slide-index"),10);Number.isNaN(u)&&(u=Math.max(e.slides.indexOf(a),0)),l=Math.floor(u/p.grid.rows)}else if(e.slides[i]){const a=e.slides[i].getAttribute("data-swiper-slide-index");a?l=parseInt(a,10):l=i}else l=i;Object.assign(e,{previousSnapIndex:c,snapIndex:d,previousRealIndex:x,realIndex:l,previousIndex:m,activeIndex:i}),e.initialized&&Yu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(x!==l&&e.emit("realIndexChange"),e.emit("slideChange"))}function aM(t,e){const n=this,r=n.params;let p=t.closest(`.${r.slideClass}, swiper-slide`);!p&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(c=>{!p&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(p=c)});let m=!1,x;if(p){for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===p){m=!0,x=c;break}}if(p&&m)n.clickedSlide=p,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(p.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=x;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var lM={updateSize:ZD,updateSlides:QD,updateAutoHeight:eM,updateSlidesOffset:tM,updateSlidesProgress:nM,updateProgress:rM,updateSlidesClasses:iM,updateActiveIndex:oM,updateClickedSlide:aM};function cM(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:p,wrapperEl:m}=e;if(n.virtualTranslate)return r?-p:p;if(n.cssMode)return p;let x=zD(m,t);return x+=e.cssOverflowAdjustment(),r&&(x=-x),x||0}function uM(t,e){const n=this,{rtlTranslate:r,params:p,wrapperEl:m,progress:x}=n;let c=0,i=0;const d=0;n.isHorizontal()?c=r?-t:t:i=t,p.roundLengths&&(c=Math.floor(c),i=Math.floor(i)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:i,p.cssMode?m[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-i:p.virtualTranslate||(n.isHorizontal()?c-=n.cssOverflowAdjustment():i-=n.cssOverflowAdjustment(),m.style.transform=`translate3d(${c}px, ${i}px, ${d}px)`);let h;const s=n.maxTranslate()-n.minTranslate();s===0?h=0:h=(t-n.minTranslate())/s,h!==x&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function fM(){return-this.snapGrid[0]}function hM(){return-this.snapGrid[this.snapGrid.length-1]}function dM(t,e,n,r,p){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const m=this,{params:x,wrapperEl:c}=m;if(m.animating&&x.preventInteractionOnTransition)return!1;const i=m.minTranslate(),d=m.maxTranslate();let h;if(r&&t>i?h=i:r&&t<d?h=d:h=t,m.updateProgress(h),x.cssMode){const s=m.isHorizontal();if(e===0)c[s?"scrollLeft":"scrollTop"]=-h;else{if(!m.support.smoothScroll)return wm({swiper:m,targetPosition:-h,side:s?"left":"top"}),!0;c.scrollTo({[s?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(m.setTransition(0),m.setTranslate(h),n&&(m.emit("beforeTransitionStart",e,p),m.emit("transitionEnd"))):(m.setTransition(e),m.setTranslate(h),n&&(m.emit("beforeTransitionStart",e,p),m.emit("transitionStart")),m.animating||(m.animating=!0,m.onTranslateToWrapperTransitionEnd||(m.onTranslateToWrapperTransitionEnd=function(l){!m||m.destroyed||l.target===this&&(m.wrapperEl.removeEventListener("transitionend",m.onTranslateToWrapperTransitionEnd),m.onTranslateToWrapperTransitionEnd=null,delete m.onTranslateToWrapperTransitionEnd,m.animating=!1,n&&m.emit("transitionEnd"))}),m.wrapperEl.addEventListener("transitionend",m.onTranslateToWrapperTransitionEnd))),!0}var pM={getTranslate:cM,setTranslate:uM,minTranslate:fM,maxTranslate:hM,translateTo:dM};function gM(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Cm(t){let{swiper:e,runCallbacks:n,direction:r,step:p}=t;const{activeIndex:m,previousIndex:x}=e;let c=r;if(c||(m>x?c="next":m<x?c="prev":c="reset"),e.emit(`transition${p}`),n&&m!==x){if(c==="reset"){e.emit(`slideResetTransition${p}`);return}e.emit(`slideChangeTransition${p}`),c==="next"?e.emit(`slideNextTransition${p}`):e.emit(`slidePrevTransition${p}`)}}function vM(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Cm({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function mM(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Cm({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var yM={setTransition:gM,transitionStart:vM,transitionEnd:mM};function bM(t,e,n,r,p){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const m=this;let x=t;x<0&&(x=0);const{params:c,snapGrid:i,slidesGrid:d,previousIndex:h,activeIndex:s,rtlTranslate:l,wrapperEl:a,enabled:u}=m;if(!u&&!r&&!p||m.destroyed||m.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=m.params.speed);const v=Math.min(m.params.slidesPerGroupSkip,x);let f=v+Math.floor((x-v)/m.params.slidesPerGroup);f>=i.length&&(f=i.length-1);const y=-i[f];if(c.normalizeSlideIndex)for(let _=0;_<d.length;_+=1){const S=-Math.floor(y*100),T=Math.floor(d[_]*100),E=Math.floor(d[_+1]*100);typeof d[_+1]<"u"?S>=T&&S<E-(E-T)/2?x=_:S>=T&&S<E&&(x=_+1):S>=T&&(x=_)}if(m.initialized&&x!==s&&(!m.allowSlideNext&&(l?y>m.translate&&y>m.minTranslate():y<m.translate&&y<m.minTranslate())||!m.allowSlidePrev&&y>m.translate&&y>m.maxTranslate()&&(s||0)!==x))return!1;x!==(h||0)&&n&&m.emit("beforeSlideChangeStart"),m.updateProgress(y);let b;if(x>s?b="next":x<s?b="prev":b="reset",l&&-y===m.translate||!l&&y===m.translate)return m.updateActiveIndex(x),c.autoHeight&&m.updateAutoHeight(),m.updateSlidesClasses(),c.effect!=="slide"&&m.setTranslate(y),b!=="reset"&&(m.transitionStart(n,b),m.transitionEnd(n,b)),!1;if(c.cssMode){const _=m.isHorizontal(),S=l?y:-y;if(e===0){const T=m.virtual&&m.params.virtual.enabled;T&&(m.wrapperEl.style.scrollSnapType="none",m._immediateVirtual=!0),T&&!m._cssModeVirtualInitialSet&&m.params.initialSlide>0?(m._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{a[_?"scrollLeft":"scrollTop"]=S})):a[_?"scrollLeft":"scrollTop"]=S,T&&requestAnimationFrame(()=>{m.wrapperEl.style.scrollSnapType="",m._immediateVirtual=!1})}else{if(!m.support.smoothScroll)return wm({swiper:m,targetPosition:S,side:_?"left":"top"}),!0;a.scrollTo({[_?"left":"top"]:S,behavior:"smooth"})}return!0}return m.setTransition(e),m.setTranslate(y),m.updateActiveIndex(x),m.updateSlidesClasses(),m.emit("beforeTransitionStart",e,r),m.transitionStart(n,b),e===0?m.transitionEnd(n,b):m.animating||(m.animating=!0,m.onSlideToWrapperTransitionEnd||(m.onSlideToWrapperTransitionEnd=function(S){!m||m.destroyed||S.target===this&&(m.wrapperEl.removeEventListener("transitionend",m.onSlideToWrapperTransitionEnd),m.onSlideToWrapperTransitionEnd=null,delete m.onSlideToWrapperTransitionEnd,m.transitionEnd(n,b))}),m.wrapperEl.addEventListener("transitionend",m.onSlideToWrapperTransitionEnd)),!0}function xM(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const p=this;if(p.destroyed)return;typeof e>"u"&&(e=p.params.speed);const m=p.grid&&p.params.grid&&p.params.grid.rows>1;let x=t;if(p.params.loop)if(p.virtual&&p.params.virtual.enabled)x=x+p.virtual.slidesBefore;else{let c;if(m){const l=x*p.params.grid.rows;c=p.slides.filter(a=>a.getAttribute("data-swiper-slide-index")*1===l)[0].column}else c=p.getSlideIndexByData(x);const i=m?Math.ceil(p.slides.length/p.params.grid.rows):p.slides.length,{centeredSlides:d}=p.params;let h=p.params.slidesPerView;h==="auto"?h=p.slidesPerViewDynamic():(h=Math.ceil(parseFloat(p.params.slidesPerView,10)),d&&h%2===0&&(h=h+1));let s=i-c<h;if(d&&(s=s||c<Math.ceil(h/2)),r&&d&&p.params.slidesPerView!=="auto"&&!m&&(s=!1),s){const l=d?c<p.activeIndex?"prev":"next":c-p.activeIndex-1<p.params.slidesPerView?"next":"prev";p.loopFix({direction:l,slideTo:!0,activeSlideIndex:l==="next"?c+1:c-i+1,slideRealIndex:l==="next"?p.realIndex:void 0})}if(m){const l=x*p.params.grid.rows;x=p.slides.filter(a=>a.getAttribute("data-swiper-slide-index")*1===l)[0].column}else x=p.getSlideIndexByData(x)}return requestAnimationFrame(()=>{p.slideTo(x,e,n,r)}),p}function wM(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:p,params:m,animating:x}=r;if(!p||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let c=m.slidesPerGroup;m.slidesPerView==="auto"&&m.slidesPerGroup===1&&m.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));const i=r.activeIndex<m.slidesPerGroupSkip?1:c,d=r.virtual&&m.virtual.enabled;if(m.loop){if(x&&!d&&m.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&m.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+i,t,e,n)}),!0}return m.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+i,t,e,n)}function _M(t,e,n){e===void 0&&(e=!0);const r=this,{params:p,snapGrid:m,slidesGrid:x,rtlTranslate:c,enabled:i,animating:d}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const h=r.virtual&&p.virtual.enabled;if(p.loop){if(d&&!h&&p.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const s=c?r.translate:-r.translate;function l(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const a=l(s),u=m.map(y=>l(y));let v=m[u.indexOf(a)-1];if(typeof v>"u"&&p.cssMode){let y;m.forEach((b,_)=>{a>=b&&(y=_)}),typeof y<"u"&&(v=m[y>0?y-1:y])}let f=0;if(typeof v<"u"&&(f=x.indexOf(v),f<0&&(f=r.activeIndex-1),p.slidesPerView==="auto"&&p.slidesPerGroup===1&&p.slidesPerGroupAuto&&(f=f-r.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),p.rewind&&r.isBeginning){const y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,t,e,n)}else if(p.loop&&r.activeIndex===0&&p.cssMode)return requestAnimationFrame(()=>{r.slideTo(f,t,e,n)}),!0;return r.slideTo(f,t,e,n)}function SM(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function CM(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const p=this;if(p.destroyed)return;typeof t>"u"&&(t=p.params.speed);let m=p.activeIndex;const x=Math.min(p.params.slidesPerGroupSkip,m),c=x+Math.floor((m-x)/p.params.slidesPerGroup),i=p.rtlTranslate?p.translate:-p.translate;if(i>=p.snapGrid[c]){const d=p.snapGrid[c],h=p.snapGrid[c+1];i-d>(h-d)*r&&(m+=p.params.slidesPerGroup)}else{const d=p.snapGrid[c-1],h=p.snapGrid[c];i-d<=(h-d)*r&&(m-=p.params.slidesPerGroup)}return m=Math.max(m,0),m=Math.min(m,p.slidesGrid.length-1),p.slideTo(m,t,e,n)}function TM(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let p=t.clickedIndex,m;const x=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;m=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?p<t.loopedSlides-r/2||p>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),p=t.getSlideIndex(vr(n,`${x}[data-swiper-slide-index="${m}"]`)[0]),Vu(()=>{t.slideTo(p)})):t.slideTo(p):p>t.slides.length-r?(t.loopFix(),p=t.getSlideIndex(vr(n,`${x}[data-swiper-slide-index="${m}"]`)[0]),Vu(()=>{t.slideTo(p)})):t.slideTo(p)}else t.slideTo(p)}var OM={slideTo:bM,slideToLoop:xM,slideNext:wM,slidePrev:_M,slideReset:SM,slideToClosest:CM,slideToClickedSlide:TM};function EM(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const p=()=>{vr(r,`.${n.slideClass}, swiper-slide`).forEach((s,l)=>{s.setAttribute("data-swiper-slide-index",l)})},m=e.grid&&n.grid&&n.grid.rows>1,x=n.slidesPerGroup*(m?n.grid.rows:1),c=e.slides.length%x!==0,i=m&&e.slides.length%n.grid.rows!==0,d=h=>{for(let s=0;s<h;s+=1){const l=e.isElement?Gu("swiper-slide",[n.slideBlankClass]):Gu("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(l)}};if(c){if(n.loopAddBlankSlides){const h=x-e.slides.length%x;d(h),e.recalcSlides(),e.updateSlides()}else za("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");p()}else if(i){if(n.loopAddBlankSlides){const h=n.grid.rows-e.slides.length%n.grid.rows;d(h),e.recalcSlides(),e.updateSlides()}else za("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");p()}else p();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function PM(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:p,activeSlideIndex:m,byController:x,byMousewheel:c}=t===void 0?{}:t;const i=this;if(!i.params.loop)return;i.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:s,slidesEl:l,params:a}=i,{centeredSlides:u}=a;if(i.allowSlidePrev=!0,i.allowSlideNext=!0,i.virtual&&a.virtual.enabled){n&&(!a.centeredSlides&&i.snapIndex===0?i.slideTo(i.virtual.slides.length,0,!1,!0):a.centeredSlides&&i.snapIndex<a.slidesPerView?i.slideTo(i.virtual.slides.length+i.snapIndex,0,!1,!0):i.snapIndex===i.snapGrid.length-1&&i.slideTo(i.virtual.slidesBefore,0,!1,!0)),i.allowSlidePrev=h,i.allowSlideNext=s,i.emit("loopFix");return}let v=a.slidesPerView;v==="auto"?v=i.slidesPerViewDynamic():(v=Math.ceil(parseFloat(a.slidesPerView,10)),u&&v%2===0&&(v=v+1));const f=a.slidesPerGroupAuto?v:a.slidesPerGroup;let y=f;y%f!==0&&(y+=f-y%f),y+=a.loopAdditionalSlides,i.loopedSlides=y;const b=i.grid&&a.grid&&a.grid.rows>1;d.length<v+y?za("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&a.grid.fill==="row"&&za("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],S=[];let T=i.activeIndex;typeof m>"u"?m=i.getSlideIndex(d.filter(Q=>Q.classList.contains(a.slideActiveClass))[0]):T=m;const E=r==="next"||!r,P=r==="prev"||!r;let F=0,R=0;const j=b?Math.ceil(d.length/a.grid.rows):d.length,Z=(b?d[m].column:m)+(u&&typeof p>"u"?-v/2+.5:0);if(Z<y){F=Math.max(y-Z,f);for(let Q=0;Q<y-Z;Q+=1){const se=Q-Math.floor(Q/j)*j;if(b){const le=j-se-1;for(let ge=d.length-1;ge>=0;ge-=1)d[ge].column===le&&_.push(ge)}else _.push(j-se-1)}}else if(Z+v>j-y){R=Math.max(Z-(j-y*2),f);for(let Q=0;Q<R;Q+=1){const se=Q-Math.floor(Q/j)*j;b?d.forEach((le,ge)=>{le.column===se&&S.push(ge)}):S.push(se)}}if(i.__preventObserver__=!0,requestAnimationFrame(()=>{i.__preventObserver__=!1}),P&&_.forEach(Q=>{d[Q].swiperLoopMoveDOM=!0,l.prepend(d[Q]),d[Q].swiperLoopMoveDOM=!1}),E&&S.forEach(Q=>{d[Q].swiperLoopMoveDOM=!0,l.append(d[Q]),d[Q].swiperLoopMoveDOM=!1}),i.recalcSlides(),a.slidesPerView==="auto"?i.updateSlides():b&&(_.length>0&&P||S.length>0&&E)&&i.slides.forEach((Q,se)=>{i.grid.updateSlide(se,Q,i.slides)}),a.watchSlidesProgress&&i.updateSlidesOffset(),n){if(_.length>0&&P){if(typeof e>"u"){const Q=i.slidesGrid[T],le=i.slidesGrid[T+F]-Q;c?i.setTranslate(i.translate-le):(i.slideTo(T+Math.ceil(F),0,!1,!0),p&&(i.touchEventsData.startTranslate=i.touchEventsData.startTranslate-le,i.touchEventsData.currentTranslate=i.touchEventsData.currentTranslate-le))}else if(p){const Q=b?_.length/a.grid.rows:_.length;i.slideTo(i.activeIndex+Q,0,!1,!0),i.touchEventsData.currentTranslate=i.translate}}else if(S.length>0&&E)if(typeof e>"u"){const Q=i.slidesGrid[T],le=i.slidesGrid[T-R]-Q;c?i.setTranslate(i.translate-le):(i.slideTo(T-R,0,!1,!0),p&&(i.touchEventsData.startTranslate=i.touchEventsData.startTranslate-le,i.touchEventsData.currentTranslate=i.touchEventsData.currentTranslate-le))}else{const Q=b?S.length/a.grid.rows:S.length;i.slideTo(i.activeIndex-Q,0,!1,!0)}}if(i.allowSlidePrev=h,i.allowSlideNext=s,i.controller&&i.controller.control&&!x){const Q={slideRealIndex:e,direction:r,setTranslate:p,activeSlideIndex:m,byController:!0};Array.isArray(i.controller.control)?i.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...Q,slideTo:se.params.slidesPerView===a.slidesPerView?n:!1})}):i.controller.control instanceof i.constructor&&i.controller.control.params.loop&&i.controller.control.loopFix({...Q,slideTo:i.controller.control.params.slidesPerView===a.slidesPerView?n:!1})}i.emit("loopFix")}function AM(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(p=>{const m=typeof p.swiperSlideIndex>"u"?p.getAttribute("data-swiper-slide-index")*1:p.swiperSlideIndex;r[m]=p}),t.slides.forEach(p=>{p.removeAttribute("data-swiper-slide-index")}),r.forEach(p=>{n.append(p)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var kM={loopCreate:EM,loopFix:PM,loopDestroy:AM};function DM(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function MM(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var IM={setGrabCursor:DM,unsetGrabCursor:MM};function FM(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ms()||r===xn())return null;r.assignedSlot&&(r=r.assignedSlot);const p=r.closest(t);return!p&&!r.getRootNode?null:p||n(r.getRootNode().host)}return n(e)}function Dg(t,e,n){const r=xn(),{params:p}=t,m=p.edgeSwipeDetection,x=p.edgeSwipeThreshold;return m&&(n<=x||n>=r.innerWidth-x)?m==="prevent"?(e.preventDefault(),!0):!1:!0}function LM(t){const e=this,n=ms();let r=t;r.originalEvent&&(r=r.originalEvent);const p=e.touchEventsData;if(r.type==="pointerdown"){if(p.pointerId!==null&&p.pointerId!==r.pointerId)return;p.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(p.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Dg(e,r,r.targetTouches[0].pageX);return}const{params:m,touches:x,enabled:c}=e;if(!c||!m.simulateTouch&&r.pointerType==="mouse"||e.animating&&m.preventInteractionOnTransition)return;!e.animating&&m.cssMode&&m.loop&&e.loopFix();let i=r.target;if(m.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(i)||"which"in r&&r.which===3||"button"in r&&r.button>0||p.isTouched&&p.isMoved)return;const d=!!m.noSwipingClass&&m.noSwipingClass!=="",h=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&h&&(i=h[0]);const s=m.noSwipingSelector?m.noSwipingSelector:`.${m.noSwipingClass}`,l=!!(r.target&&r.target.shadowRoot);if(m.noSwiping&&(l?FM(s,i):i.closest(s))){e.allowClick=!0;return}if(m.swipeHandler&&!i.closest(m.swipeHandler))return;x.currentX=r.pageX,x.currentY=r.pageY;const a=x.currentX,u=x.currentY;if(!Dg(e,r,a))return;Object.assign(p,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),x.startX=a,x.startY=u,p.touchStartTime=Na(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,m.threshold>0&&(p.allowThresholdMove=!1);let v=!0;i.matches(p.focusableElements)&&(v=!1,i.nodeName==="SELECT"&&(p.isTouched=!1)),n.activeElement&&n.activeElement.matches(p.focusableElements)&&n.activeElement!==i&&n.activeElement.blur();const f=v&&e.allowTouchMove&&m.touchStartPreventDefault;(m.touchStartForcePreventDefault||f)&&!i.isContentEditable&&r.preventDefault(),m.freeMode&&m.freeMode.enabled&&e.freeMode&&e.animating&&!m.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function jM(t){const e=ms(),n=this,r=n.touchEventsData,{params:p,touches:m,rtlTranslate:x,enabled:c}=n;if(!c||!p.simulateTouch&&t.pointerType==="mouse")return;let i=t;if(i.originalEvent&&(i=i.originalEvent),i.type==="pointermove"&&(r.touchId!==null||i.pointerId!==r.pointerId))return;let d;if(i.type==="touchmove"){if(d=[...i.changedTouches].filter(E=>E.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=i;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",i);return}const h=d.pageX,s=d.pageY;if(i.preventedByNestedSwiper){m.startX=h,m.startY=s;return}if(!n.allowTouchMove){i.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(m,{startX:h,startY:s,currentX:h,currentY:s}),r.touchStartTime=Na());return}if(p.touchReleaseOnEdges&&!p.loop){if(n.isVertical()){if(s<m.startY&&n.translate<=n.maxTranslate()||s>m.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(h<m.startX&&n.translate<=n.maxTranslate()||h>m.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&i.target===e.activeElement&&i.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",i),m.previousX=m.currentX,m.previousY=m.currentY,m.currentX=h,m.currentY=s;const l=m.currentX-m.startX,a=m.currentY-m.startY;if(n.params.threshold&&Math.sqrt(l**2+a**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&m.currentY===m.startY||n.isVertical()&&m.currentX===m.startX?r.isScrolling=!1:l*l+a*a>=25&&(E=Math.atan2(Math.abs(a),Math.abs(l))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>p.touchAngle:90-E>p.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",i),typeof r.startMoving>"u"&&(m.currentX!==m.startX||m.currentY!==m.startY)&&(r.startMoving=!0),r.isScrolling||i.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!p.cssMode&&i.cancelable&&i.preventDefault(),p.touchMoveStopPropagation&&!p.nested&&i.stopPropagation();let u=n.isHorizontal()?l:a,v=n.isHorizontal()?m.currentX-m.previousX:m.currentY-m.previousY;p.oneWayMovement&&(u=Math.abs(u)*(x?1:-1),v=Math.abs(v)*(x?1:-1)),m.diff=u,u*=p.touchRatio,x&&(u=-u,v=-v);const f=n.touchesDirection;n.swipeDirection=u>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const y=n.params.loop&&!p.cssMode,b=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(y&&b&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,p.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",i)}let _;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&f!==n.touchesDirection&&y&&b&&Math.abs(u)>=1){Object.assign(m,{startX:h,startY:s,currentX:h,currentY:s,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",i),r.isMoved=!0,r.currentTranslate=u+r.startTranslate;let S=!0,T=p.resistanceRatio;if(p.touchReleaseOnEdges&&(T=0),u>0?(y&&b&&!_&&r.allowThresholdMove&&r.currentTranslate>(p.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(S=!1,p.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+u)**T))):u<0&&(y&&b&&!_&&r.allowThresholdMove&&r.currentTranslate<(p.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(p.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(S=!1,p.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-u)**T))),S&&(i.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),p.threshold>0)if(Math.abs(u)>p.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,m.startX=m.currentX,m.startY=m.currentY,r.currentTranslate=r.startTranslate,m.diff=n.isHorizontal()?m.currentX-m.startX:m.currentY-m.startY;return}}else{r.currentTranslate=r.startTranslate;return}!p.followFinger||p.cssMode||((p.freeMode&&p.freeMode.enabled&&n.freeMode||p.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),p.freeMode&&p.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function RM(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let p;if(r.type==="touchend"||r.type==="touchcancel"){if(p=[...r.changedTouches].filter(T=>T.identifier===n.touchId)[0],!p||p.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;p=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:x,touches:c,rtlTranslate:i,slidesGrid:d,enabled:h}=e;if(!h||!x.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&x.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}x.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const s=Na(),l=s-n.touchStartTime;if(e.allowClick){const T=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(T&&T[0]||r.target,T),e.emit("tap click",r),l<300&&s-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Na(),Vu(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||c.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let a;if(x.followFinger?a=i?e.translate:-e.translate:a=-n.currentTranslate,x.cssMode)return;if(x.freeMode&&x.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:a});return}const u=a>=-e.maxTranslate()&&!e.params.loop;let v=0,f=e.slidesSizesGrid[0];for(let T=0;T<d.length;T+=T<x.slidesPerGroupSkip?1:x.slidesPerGroup){const E=T<x.slidesPerGroupSkip-1?1:x.slidesPerGroup;typeof d[T+E]<"u"?(u||a>=d[T]&&a<d[T+E])&&(v=T,f=d[T+E]-d[T]):(u||a>=d[T])&&(v=T,f=d[d.length-1]-d[d.length-2])}let y=null,b=null;x.rewind&&(e.isBeginning?b=x.virtual&&x.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const _=(a-d[v])/f,S=v<x.slidesPerGroupSkip-1?1:x.slidesPerGroup;if(l>x.longSwipesMs){if(!x.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=x.longSwipesRatio?e.slideTo(x.rewind&&e.isEnd?y:v+S):e.slideTo(v)),e.swipeDirection==="prev"&&(_>1-x.longSwipesRatio?e.slideTo(v+S):b!==null&&_<0&&Math.abs(_)>x.longSwipesRatio?e.slideTo(b):e.slideTo(v))}else{if(!x.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+S):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:v+S),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:v))}}function Mg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:p,snapGrid:m}=t,x=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=x&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!x?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=p,t.allowSlideNext=r,t.params.watchOverflow&&m!==t.snapGrid&&t.checkOverflow()}function BM(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function NM(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let p;const m=t.maxTranslate()-t.minTranslate();m===0?p=0:p=(t.translate-t.minTranslate())/m,p!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function zM(t){const e=this;Pa(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function WM(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Tm=(t,e)=>{const n=ms(),{params:r,el:p,wrapperEl:m,device:x}=t,c=!!r.nested,i=e==="on"?"addEventListener":"removeEventListener",d=e;n[i]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),p[i]("touchstart",t.onTouchStart,{passive:!1}),p[i]("pointerdown",t.onTouchStart,{passive:!1}),n[i]("touchmove",t.onTouchMove,{passive:!1,capture:c}),n[i]("pointermove",t.onTouchMove,{passive:!1,capture:c}),n[i]("touchend",t.onTouchEnd,{passive:!0}),n[i]("pointerup",t.onTouchEnd,{passive:!0}),n[i]("pointercancel",t.onTouchEnd,{passive:!0}),n[i]("touchcancel",t.onTouchEnd,{passive:!0}),n[i]("pointerout",t.onTouchEnd,{passive:!0}),n[i]("pointerleave",t.onTouchEnd,{passive:!0}),n[i]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&p[i]("click",t.onClick,!0),r.cssMode&&m[i]("scroll",t.onScroll),r.updateOnWindowResize?t[d](x.ios||x.android?"resize orientationchange observerUpdate":"resize observerUpdate",Mg,!0):t[d]("observerUpdate",Mg,!0),p[i]("load",t.onLoad,{capture:!0})};function HM(){const t=this,{params:e}=t;t.onTouchStart=LM.bind(t),t.onTouchMove=jM.bind(t),t.onTouchEnd=RM.bind(t),t.onDocumentTouchStart=WM.bind(t),e.cssMode&&(t.onScroll=NM.bind(t)),t.onClick=BM.bind(t),t.onLoad=zM.bind(t),Tm(t,"on")}function UM(){Tm(this,"off")}var VM={attachEvents:HM,detachEvents:UM};const Ig=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function GM(){const t=this,{realIndex:e,initialized:n,params:r,el:p}=t,m=r.breakpoints;if(!m||m&&Object.keys(m).length===0)return;const x=t.getBreakpoint(m,t.params.breakpointsBase,t.el);if(!x||t.currentBreakpoint===x)return;const i=(x in m?m[x]:void 0)||t.originalParams,d=Ig(t,r),h=Ig(t,i),s=t.params.grabCursor,l=i.grabCursor,a=r.enabled;d&&!h?(p.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&h&&(p.classList.add(`${r.containerModifierClass}grid`),(i.grid.fill&&i.grid.fill==="column"||!i.grid.fill&&r.grid.fill==="column")&&p.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),s&&!l?t.unsetGrabCursor():!s&&l&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof i[_]>"u")return;const S=r[_]&&r[_].enabled,T=i[_]&&i[_].enabled;S&&!T&&t[_].disable(),!S&&T&&t[_].enable()});const u=i.direction&&i.direction!==r.direction,v=r.loop&&(i.slidesPerView!==r.slidesPerView||u),f=r.loop;u&&n&&t.changeDirection(),vn(t.params,i);const y=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),a&&!y?t.disable():!a&&y&&t.enable(),t.currentBreakpoint=x,t.emit("_beforeBreakpoint",i),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!f&&b?(t.loopCreate(e),t.updateSlides()):f&&!b&&t.loopDestroy()),t.emit("breakpoint",i)}function YM(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const p=xn(),m=e==="window"?p.innerHeight:n.clientHeight,x=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const i=parseFloat(c.substr(1));return{value:m*i,point:c}}return{value:c,point:c}});x.sort((c,i)=>parseInt(c.value,10)-parseInt(i.value,10));for(let c=0;c<x.length;c+=1){const{point:i,value:d}=x[c];e==="window"?p.matchMedia(`(min-width: ${d}px)`).matches&&(r=i):d<=n.clientWidth&&(r=i)}return r||"max"}var XM={setBreakpoint:GM,getBreakpoint:YM};function $M(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(p=>{r[p]&&n.push(e+p)}):typeof r=="string"&&n.push(e+r)}),n}function qM(){const t=this,{classNames:e,params:n,rtl:r,el:p,device:m}=t,x=$M(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:m.android},{ios:m.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...x),p.classList.add(...e),t.emitContainerClasses()}function KM(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var JM={addClasses:qM,removeClasses:KM};function ZM(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const p=t.slides.length-1,m=t.slidesGrid[p]+t.slidesSizesGrid[p]+r*2;t.isLocked=t.size>m}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var QM={checkOverflow:ZM},Xu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function eI(t,e){return function(r){r===void 0&&(r={});const p=Object.keys(r)[0],m=r[p];if(typeof m!="object"||m===null){vn(e,r);return}if(t[p]===!0&&(t[p]={enabled:!0}),p==="navigation"&&t[p]&&t[p].enabled&&!t[p].prevEl&&!t[p].nextEl&&(t[p].auto=!0),["pagination","scrollbar"].indexOf(p)>=0&&t[p]&&t[p].enabled&&!t[p].el&&(t[p].auto=!0),!(p in t&&"enabled"in m)){vn(e,r);return}typeof t[p]=="object"&&!("enabled"in t[p])&&(t[p].enabled=!0),t[p]||(t[p]={enabled:!1}),vn(e,r)}}const iu={eventsEmitter:JD,update:lM,translate:pM,transition:yM,slide:OM,loop:kM,grabCursor:IM,events:VM,breakpoints:XM,checkOverflow:QM,classes:JM},su={};let Gf=class gr{constructor(){let e,n;for(var r=arguments.length,p=new Array(r),m=0;m<r;m++)p[m]=arguments[m];p.length===1&&p[0].constructor&&Object.prototype.toString.call(p[0]).slice(8,-1)==="Object"?n=p[0]:[e,n]=p,n||(n={}),n=vn({},n),e&&!n.el&&(n.el=e);const x=ms();if(n.el&&typeof n.el=="string"&&x.querySelectorAll(n.el).length>1){const h=[];return x.querySelectorAll(n.el).forEach(s=>{const l=vn({},n,{el:s});h.push(new gr(l))}),h}const c=this;c.__swiper__=!0,c.support=_m(),c.device=Sm({userAgent:n.userAgent}),c.browser=$D(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],n.modules&&Array.isArray(n.modules)&&c.modules.push(...n.modules);const i={};c.modules.forEach(h=>{h({params:n,swiper:c,extendParams:eI(n,i),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const d=vn({},Xu,i);return c.params=vn({},d,su,n),c.originalParams=vn({},c.params),c.passedParams=vn({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach(h=>{c.on(h,c.params.on[h])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,p=vr(n,`.${r.slideClass}, swiper-slide`),m=Pg(p[0]);return Pg(e)-m}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=vr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const p=r.minTranslate(),x=(r.maxTranslate()-p)*e+p;r.translateTo(x,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const p=e.getSlideClasses(r);n.push({slideEl:r,classNames:p}),e.emit("_slideClass",r,p)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:p,slides:m,slidesGrid:x,slidesSizesGrid:c,size:i,activeIndex:d}=r;let h=1;if(typeof p.slidesPerView=="number")return p.slidesPerView;if(p.centeredSlides){let s=m[d]?Math.ceil(m[d].swiperSlideSize):0,l;for(let a=d+1;a<m.length;a+=1)m[a]&&!l&&(s+=Math.ceil(m[a].swiperSlideSize),h+=1,s>i&&(l=!0));for(let a=d-1;a>=0;a-=1)m[a]&&!l&&(s+=m[a].swiperSlideSize,h+=1,s>i&&(l=!0))}else if(e==="current")for(let s=d+1;s<m.length;s+=1)(n?x[s]+c[s]-x[d]<i:x[s]-x[d]<i)&&(h+=1);else for(let s=d-1;s>=0;s-=1)x[d]-x[s]<i&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(x=>{x.complete&&Pa(e,x)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function p(){const x=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(x,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let m;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)p(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const x=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;m=e.slideTo(x.length-1,0,!1,!0)}else m=e.slideTo(e.activeIndex,0,!1,!0);m||p()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,p=r.params.direction;return e||(e=p==="horizontal"?"vertical":"horizontal"),e===p||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${p}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(m=>{e==="vertical"?m.style.width="":m.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const p=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let x=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(p()):vr(r,p())[0];return!x&&n.params.createElements&&(x=Gu("div",n.params.wrapperClass),r.append(x),vr(r,`.${n.params.slideClass}`).forEach(c=>{x.append(c)})),Object.assign(n,{el:r,wrapperEl:x,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:x,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Nr(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Nr(r,"direction")==="rtl"),wrongRTL:Nr(x,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const p=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&p.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),p.forEach(m=>{m.complete?Pa(n,m):m.addEventListener("load",x=>{Pa(n,x.target)})}),Yu(n),n.initialized=!0,Yu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:p,el:m,wrapperEl:x,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),p.loop&&r.loopDestroy(),n&&(r.removeClasses(),m.removeAttribute("style"),x.removeAttribute("style"),c&&c.length&&c.forEach(i=>{i.classList.remove(p.slideVisibleClass,p.slideFullyVisibleClass,p.slideActiveClass,p.slideNextClass,p.slidePrevClass),i.removeAttribute("style"),i.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(i=>{r.off(i)}),e!==!1&&(r.el.swiper=null,BD(r)),r.destroyed=!0),null}static extendDefaults(e){vn(su,e)}static get extendedDefaults(){return su}static get defaults(){return Xu}static installModule(e){gr.prototype.__modules__||(gr.prototype.__modules__=[]);const n=gr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>gr.installModule(n)),gr):(gr.installModule(e),gr)}};Object.keys(iu).forEach(t=>{Object.keys(iu[t]).forEach(e=>{Gf.prototype[e]=iu[t][e]})});Gf.use([qD,KD]);const Om=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ci(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function es(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ci(e[r])&&ci(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:es(t[r],e[r]):t[r]=e[r]})}function Em(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Pm(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Am(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function km(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function tI(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function nI(t){let{swiper:e,slides:n,passedParams:r,changedParams:p,nextEl:m,prevEl:x,scrollbarEl:c,paginationEl:i}=t;const d=p.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:h,pagination:s,navigation:l,scrollbar:a,virtual:u,thumbs:v}=e;let f,y,b,_,S,T,E,P;p.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&h.thumbs&&!h.thumbs.swiper&&(f=!0),p.includes("controller")&&r.controller&&r.controller.control&&h.controller&&!h.controller.control&&(y=!0),p.includes("pagination")&&r.pagination&&(r.pagination.el||i)&&(h.pagination||h.pagination===!1)&&s&&!s.el&&(b=!0),p.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(h.scrollbar||h.scrollbar===!1)&&a&&!a.el&&(_=!0),p.includes("navigation")&&r.navigation&&(r.navigation.prevEl||x)&&(r.navigation.nextEl||m)&&(h.navigation||h.navigation===!1)&&l&&!l.prevEl&&!l.nextEl&&(S=!0);const F=R=>{e[R]&&(e[R].destroy(),R==="navigation"?(e.isElement&&(e[R].prevEl.remove(),e[R].nextEl.remove()),h[R].prevEl=void 0,h[R].nextEl=void 0,e[R].prevEl=void 0,e[R].nextEl=void 0):(e.isElement&&e[R].el.remove(),h[R].el=void 0,e[R].el=void 0))};p.includes("loop")&&e.isElement&&(h.loop&&!r.loop?T=!0:!h.loop&&r.loop?E=!0:P=!0),d.forEach(R=>{if(ci(h[R])&&ci(r[R]))Object.assign(h[R],r[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in r[R]&&!r[R].enabled&&F(R);else{const j=r[R];(j===!0||j===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?j===!1&&F(R):h[R]=r[R]}}),d.includes("controller")&&!y&&e.controller&&e.controller.control&&h.controller&&h.controller.control&&(e.controller.control=h.controller.control),p.includes("children")&&n&&u&&h.virtual.enabled?(u.slides=n,u.update(!0)):p.includes("virtual")&&u&&h.virtual.enabled&&(n&&(u.slides=n),u.update(!0)),p.includes("children")&&n&&h.loop&&(P=!0),f&&v.init()&&v.update(!0),y&&(e.controller.control=h.controller.control),b&&(e.isElement&&(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-pagination"),i.part.add("pagination"),e.el.appendChild(i)),i&&(h.pagination.el=i),s.init(),s.render(),s.update()),_&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(h.scrollbar.el=c),a.init(),a.updateSize(),a.setTranslate()),S&&(e.isElement&&((!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-button-next"),m.innerHTML=e.hostEl.constructor.nextButtonSvg,m.part.add("button-next"),e.el.appendChild(m)),(!x||typeof x=="string")&&(x=document.createElement("div"),x.classList.add("swiper-button-prev"),x.innerHTML=e.hostEl.constructor.prevButtonSvg,x.part.add("button-prev"),e.el.appendChild(x))),m&&(h.navigation.nextEl=m),x&&(h.navigation.prevEl=x),l.init(),l.update()),p.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),p.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),p.includes("direction")&&e.changeDirection(r.direction,!1),(T||P)&&e.loopDestroy(),(E||P)&&e.loopCreate(),e.update()}function rI(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},p={};es(n,Xu),n._emitClasses=!0,n.init=!1;const m={},x=Om.map(i=>i.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(i=>{typeof t[i]>"u"||(x.indexOf(i)>=0?ci(t[i])?(n[i]={},p[i]={},es(n[i],t[i]),es(p[i],t[i])):(n[i]=t[i],p[i]=t[i]):i.search(/on[A-Z]/)===0&&typeof t[i]=="function"?e?r[`${i[2].toLowerCase()}${i.substr(3)}`]=t[i]:n.on[`${i[2].toLowerCase()}${i.substr(3)}`]=t[i]:m[i]=t[i])}),["navigation","pagination","scrollbar"].forEach(i=>{n[i]===!0&&(n[i]={}),n[i]===!1&&delete n[i]}),{params:n,passedParams:p,rest:m,events:r}}function iI(t,e){let{el:n,nextEl:r,prevEl:p,paginationEl:m,scrollbarEl:x,swiper:c}=t;Em(e)&&r&&p&&(c.params.navigation.nextEl=r,c.originalParams.navigation.nextEl=r,c.params.navigation.prevEl=p,c.originalParams.navigation.prevEl=p),Pm(e)&&m&&(c.params.pagination.el=m,c.originalParams.pagination.el=m),Am(e)&&x&&(c.params.scrollbar.el=x,c.originalParams.scrollbar.el=x),c.init(n)}function sI(t,e,n,r,p){const m=[];if(!e)return m;const x=i=>{m.indexOf(i)<0&&m.push(i)};if(n&&r){const i=r.map(p),d=n.map(p);i.join("")!==d.join("")&&x("children"),r.length!==n.length&&x("children")}return Om.filter(i=>i[0]==="_").map(i=>i.replace(/_/,"")).forEach(i=>{if(i in t&&i in e)if(ci(t[i])&&ci(e[i])){const d=Object.keys(t[i]),h=Object.keys(e[i]);d.length!==h.length?x(i):(d.forEach(s=>{t[i][s]!==e[i][s]&&x(i)}),h.forEach(s=>{t[i][s]!==e[i][s]&&x(i)}))}else t[i]!==e[i]&&x(i)}),m}const oI=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}function Dm(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Mm(t){const e=[];return Pt.Children.toArray(t).forEach(n=>{Dm(n)?e.push(n):n.props&&n.props.children&&Mm(n.props.children).forEach(r=>e.push(r))}),e}function aI(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pt.Children.toArray(t).forEach(r=>{if(Dm(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const p=Mm(r.props.children);p.length>0?p.forEach(m=>e.push(m)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function lI(t,e,n){if(!n)return null;const r=h=>{let s=h;return h<0?s=e.length+h:s>=e.length&&(s=s-e.length),s},p=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:m,to:x}=n,c=t.params.loop?-e.length:0,i=t.params.loop?e.length*2:e.length,d=[];for(let h=c;h<i;h+=1)h>=m&&h<=x&&d.push(e[r(h)]);return d.map((h,s)=>Pt.cloneElement(h,{swiper:t,style:p,key:h.props.virtualIndex||h.key||`slide-${s}`}))}function $s(t,e){return typeof window>"u"?D.useEffect(t,e):D.useLayoutEffect(t,e)}const Fg=D.createContext(null),cI=D.createContext(null),Im=D.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:p="div",children:m,onSwiper:x,...c}=t===void 0?{}:t,i=!1;const[d,h]=D.useState("swiper"),[s,l]=D.useState(null),[a,u]=D.useState(!1),v=D.useRef(!1),f=D.useRef(null),y=D.useRef(null),b=D.useRef(null),_=D.useRef(null),S=D.useRef(null),T=D.useRef(null),E=D.useRef(null),P=D.useRef(null),{params:F,passedParams:R,rest:j,events:H}=rI(c),{slides:Z,slots:Q}=aI(m),se=()=>{u(!a)};Object.assign(F.on,{_containerClasses(k,z){h(z)}});const le=()=>{Object.assign(F.on,H),i=!0;const k={...F};if(delete k.wrapperClass,y.current=new Gf(k),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=Z;const z={cache:!1,slides:Z,renderExternal:l,renderExternalUpdate:!1};es(y.current.params.virtual,z),es(y.current.originalParams.virtual,z)}};f.current||le(),y.current&&y.current.on("_beforeBreakpoint",se);const ge=()=>{i||!H||!y.current||Object.keys(H).forEach(k=>{y.current.on(k,H[k])})},X=()=>{!H||!y.current||Object.keys(H).forEach(k=>{y.current.off(k,H[k])})};D.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",se)}),D.useEffect(()=>{!v.current&&y.current&&(y.current.emitSlidesClasses(),v.current=!0)}),$s(()=>{if(e&&(e.current=f.current),!!f.current)return y.current.destroyed&&le(),iI({el:f.current,nextEl:S.current,prevEl:T.current,paginationEl:E.current,scrollbarEl:P.current,swiper:y.current},F),x&&!y.current.destroyed&&x(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),$s(()=>{ge();const k=sI(R,b.current,Z,_.current,z=>z.key);return b.current=R,_.current=Z,k.length&&y.current&&!y.current.destroyed&&nI({swiper:y.current,slides:Z,passedParams:R,changedParams:k,nextEl:S.current,prevEl:T.current,scrollbarEl:P.current,paginationEl:E.current}),()=>{X()}}),$s(()=>{oI(y.current)},[s]);function ie(){return F.virtual?lI(y.current,Z,s):Z.map((k,z)=>Pt.cloneElement(k,{swiper:y.current,swiperSlideIndex:z}))}return Pt.createElement(r,Wa({ref:f,className:km(`${d}${n?` ${n}`:""}`)},j),Pt.createElement(cI.Provider,{value:y.current},Q["container-start"],Pt.createElement(p,{className:tI(F.wrapperClass)},Q["wrapper-start"],ie(),Q["wrapper-end"]),Em(F)&&Pt.createElement(Pt.Fragment,null,Pt.createElement("div",{ref:T,className:"swiper-button-prev"}),Pt.createElement("div",{ref:S,className:"swiper-button-next"})),Am(F)&&Pt.createElement("div",{ref:P,className:"swiper-scrollbar"}),Pm(F)&&Pt.createElement("div",{ref:E,className:"swiper-pagination"}),Q["container-end"]))});Im.displayName="Swiper";const $u=D.forwardRef(function(t,e){let{tag:n="div",children:r,className:p="",swiper:m,zoom:x,lazy:c,virtualIndex:i,swiperSlideIndex:d,...h}=t===void 0?{}:t;const s=D.useRef(null),[l,a]=D.useState("swiper-slide"),[u,v]=D.useState(!1);function f(S,T,E){T===s.current&&a(E)}$s(()=>{if(typeof d<"u"&&(s.current.swiperSlideIndex=d),e&&(e.current=s.current),!(!s.current||!m)){if(m.destroyed){l!=="swiper-slide"&&a("swiper-slide");return}return m.on("_slideClass",f),()=>{m&&m.off("_slideClass",f)}}}),$s(()=>{m&&s.current&&!m.destroyed&&a(m.getSlideClasses(s.current))},[m]);const y={isActive:l.indexOf("swiper-slide-active")>=0,isVisible:l.indexOf("swiper-slide-visible")>=0,isPrev:l.indexOf("swiper-slide-prev")>=0,isNext:l.indexOf("swiper-slide-next")>=0},b=()=>typeof r=="function"?r(y):r,_=()=>{v(!0)};return Pt.createElement(n,Wa({ref:s,className:km(`${l}${p?` ${p}`:""}`),"data-swiper-slide-index":i,onLoad:_},h),x&&Pt.createElement(Fg.Provider,{value:y},Pt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof x=="number"?x:void 0},b(),c&&!u&&Pt.createElement("div",{className:"swiper-lazy-preloader"}))),!x&&Pt.createElement(Fg.Provider,{value:y},b(),c&&!u&&Pt.createElement("div",{className:"swiper-lazy-preloader"})))});$u.displayName="SwiperSlide";const{changeStyle:uI}=Oe;function fI(){const{fonts:t,setFont:e,setColor:n}=Ha(),{rightPanelDetail:r,changeRightPanelDetail:p}=zr(),m=i=>{n(i),Oe.changeTextOrShapeColor(i)},x=i=>{n(i),Oe.changeStyle({borderColor:i})},c=i=>{e(i),uI({fontFamily:i})};return C.jsxs(De,{direction:"column",h:"100%",children:[C.jsx(Fe,{as:"b",onClick:()=>{p("")},fontSize:20,cursor:"pointer",pb:3,mb:2,children:C.jsxs(De,{alignItems:"center",children:[C.jsx(st,{type:"arrow_left",size:15}),"Back To Attribute"]})}),C.jsxs(wr,{children:[r==="colors"?C.jsx(Lg,{onChange:m}):null,r==="borderColors"?C.jsx(Lg,{onChange:x}):null,r==="fonts"&&t.length?C.jsx("div",{className:"fonts",children:t.map(i=>C.jsx(Ot,{colorScheme:"gray",size:"xs",onClick:c.bind(null,i),className:"fontItem",style:{fontFamily:i},children:i},i))}):null,r==="borders"&&t.length?C.jsx(De,{flexWrap:"wrap",gap:1,children:al.map(i=>C.jsx(Ot,{onClick:()=>{Oe.changeStyle({borderColor:i,borderWidth:8})},fontSize:33,style:{WebkitTextStroke:`2px ${i}`},children:"P"},i))}):null]})]})}function Lg({onChange:t}){return C.jsxs(ds,{children:[C.jsxs(ps,{justifyContent:"center",children:[C.jsx(rn,{children:"Palette"}),C.jsx(rn,{children:"Colors"})]}),C.jsxs(gs,{children:[C.jsx(nn,{p:0,py:2,children:C.jsx(wr,{style:{height:"80vh"},autoHide:!0,children:C.jsx(De,{flexWrap:"wrap",gap:1,children:Uf.map((e,n)=>C.jsxs(De,{flexWrap:"wrap",gap:1,children:[C.jsx(Ot,{className:"colorItem",style:{backgroundColor:"#333",color:"#FFF"},children:n+1}),e.palette.map(r=>C.jsx(Ot,{onClick:t.bind(null,r),className:"colorItem",style:{backgroundColor:r}},r))]},`bg-palette-${n}`))})})}),C.jsx(nn,{p:0,py:2,children:C.jsx(wr,{style:{height:"80vh"},autoHide:!0,children:C.jsx("div",{className:"colors",children:al.map(e=>C.jsx("span",{onClick:t.bind(null,e),className:"colorItem",style:{backgroundColor:e}},e))})})})]})]})}async function hI(){const t=await self.queryLocalFonts(),e={};for(const n of t){const{family:r}=n;e[r]=1}return Object.keys(e)}function Fm(t,e){return function(){return t.apply(e,arguments)}}const{toString:dI}=Object.prototype,{getPrototypeOf:Yf}=Object,ll=(t=>e=>{const n=dI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ir=t=>(t=t.toLowerCase(),e=>ll(e)===t),cl=t=>e=>typeof e===t,{isArray:ys}=Array,no=cl("undefined");function pI(t){return t!==null&&!no(t)&&t.constructor!==null&&!no(t.constructor)&&Fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Lm=ir("ArrayBuffer");function gI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Lm(t.buffer),e}const vI=cl("string"),Fn=cl("function"),jm=cl("number"),ul=t=>t!==null&&typeof t=="object",mI=t=>t===!0||t===!1,Aa=t=>{if(ll(t)!=="object")return!1;const e=Yf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yI=ir("Date"),bI=ir("File"),xI=ir("Blob"),wI=ir("FileList"),_I=t=>ul(t)&&Fn(t.pipe),SI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fn(t.append)&&((e=ll(t))==="formdata"||e==="object"&&Fn(t.toString)&&t.toString()==="[object FormData]"))},CI=ir("URLSearchParams"),TI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function po(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,p;if(typeof t!="object"&&(t=[t]),ys(t))for(r=0,p=t.length;r<p;r++)e.call(null,t[r],r,t);else{const m=n?Object.getOwnPropertyNames(t):Object.keys(t),x=m.length;let c;for(r=0;r<x;r++)c=m[r],e.call(null,t[c],c,t)}}function Rm(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,p;for(;r-- >0;)if(p=n[r],e===p.toLowerCase())return p;return null}const Bm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nm=t=>!no(t)&&t!==Bm;function qu(){const{caseless:t}=Nm(this)&&this||{},e={},n=(r,p)=>{const m=t&&Rm(e,p)||p;Aa(e[m])&&Aa(r)?e[m]=qu(e[m],r):Aa(r)?e[m]=qu({},r):ys(r)?e[m]=r.slice():e[m]=r};for(let r=0,p=arguments.length;r<p;r++)arguments[r]&&po(arguments[r],n);return e}const OI=(t,e,n,{allOwnKeys:r}={})=>(po(e,(p,m)=>{n&&Fn(p)?t[m]=Fm(p,n):t[m]=p},{allOwnKeys:r}),t),EI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PI=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},AI=(t,e,n,r)=>{let p,m,x;const c={};if(e=e||{},t==null)return e;do{for(p=Object.getOwnPropertyNames(t),m=p.length;m-- >0;)x=p[m],(!r||r(x,t,e))&&!c[x]&&(e[x]=t[x],c[x]=!0);t=n!==!1&&Yf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},DI=t=>{if(!t)return null;if(ys(t))return t;let e=t.length;if(!jm(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},MI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yf(Uint8Array)),II=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let p;for(;(p=r.next())&&!p.done;){const m=p.value;e.call(t,m[0],m[1])}},FI=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},LI=ir("HTMLFormElement"),jI=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,p){return r.toUpperCase()+p}),jg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),RI=ir("RegExp"),zm=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};po(n,(p,m)=>{let x;(x=e(p,m,t))!==!1&&(r[m]=x||p)}),Object.defineProperties(t,r)},BI=t=>{zm(t,(e,n)=>{if(Fn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Fn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NI=(t,e)=>{const n={},r=p=>{p.forEach(m=>{n[m]=!0})};return ys(t)?r(t):r(String(t).split(e)),n},zI=()=>{},WI=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ou="abcdefghijklmnopqrstuvwxyz",Rg="0123456789",Wm={DIGIT:Rg,ALPHA:ou,ALPHA_DIGIT:ou+ou.toUpperCase()+Rg},HI=(t=16,e=Wm.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function UI(t){return!!(t&&Fn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const VI=t=>{const e=new Array(10),n=(r,p)=>{if(ul(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[p]=r;const m=ys(r)?[]:{};return po(r,(x,c)=>{const i=n(x,p+1);!no(i)&&(m[c]=i)}),e[p]=void 0,m}}return r};return n(t,0)},GI=ir("AsyncFunction"),YI=t=>t&&(ul(t)||Fn(t))&&Fn(t.then)&&Fn(t.catch),be={isArray:ys,isArrayBuffer:Lm,isBuffer:pI,isFormData:SI,isArrayBufferView:gI,isString:vI,isNumber:jm,isBoolean:mI,isObject:ul,isPlainObject:Aa,isUndefined:no,isDate:yI,isFile:bI,isBlob:xI,isRegExp:RI,isFunction:Fn,isStream:_I,isURLSearchParams:CI,isTypedArray:MI,isFileList:wI,forEach:po,merge:qu,extend:OI,trim:TI,stripBOM:EI,inherits:PI,toFlatObject:AI,kindOf:ll,kindOfTest:ir,endsWith:kI,toArray:DI,forEachEntry:II,matchAll:FI,isHTMLForm:LI,hasOwnProperty:jg,hasOwnProp:jg,reduceDescriptors:zm,freezeMethods:BI,toObjectSet:NI,toCamelCase:jI,noop:zI,toFiniteNumber:WI,findKey:Rm,global:Bm,isContextDefined:Nm,ALPHABET:Wm,generateString:HI,isSpecCompliantForm:UI,toJSONObject:VI,isAsyncFn:GI,isThenable:YI};function nt(t,e,n,r,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),p&&(this.response=p)}be.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hm=nt.prototype,Um={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Um[t]={value:t}});Object.defineProperties(nt,Um);Object.defineProperty(Hm,"isAxiosError",{value:!0});nt.from=(t,e,n,r,p,m)=>{const x=Object.create(Hm);return be.toFlatObject(t,x,function(i){return i!==Error.prototype},c=>c!=="isAxiosError"),nt.call(x,t.message,e,n,r,p),x.cause=t,x.name=t.name,m&&Object.assign(x,m),x};const XI=null;function Ku(t){return be.isPlainObject(t)||be.isArray(t)}function Vm(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function Bg(t,e,n){return t?t.concat(e).map(function(p,m){return p=Vm(p),!n&&m?"["+p+"]":p}).join(n?".":""):e}function $I(t){return be.isArray(t)&&!t.some(Ku)}const qI=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function fl(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,f){return!be.isUndefined(f[v])});const r=n.metaTokens,p=n.visitor||h,m=n.dots,x=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(p))throw new TypeError("visitor must be a function");function d(u){if(u===null)return"";if(be.isDate(u))return u.toISOString();if(!i&&be.isBlob(u))throw new nt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(u)||be.isTypedArray(u)?i&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function h(u,v,f){let y=u;if(u&&!f&&typeof u=="object"){if(be.endsWith(v,"{}"))v=r?v:v.slice(0,-2),u=JSON.stringify(u);else if(be.isArray(u)&&$I(u)||(be.isFileList(u)||be.endsWith(v,"[]"))&&(y=be.toArray(u)))return v=Vm(v),y.forEach(function(_,S){!(be.isUndefined(_)||_===null)&&e.append(x===!0?Bg([v],S,m):x===null?v:v+"[]",d(_))}),!1}return Ku(u)?!0:(e.append(Bg(f,v,m),d(u)),!1)}const s=[],l=Object.assign(qI,{defaultVisitor:h,convertValue:d,isVisitable:Ku});function a(u,v){if(!be.isUndefined(u)){if(s.indexOf(u)!==-1)throw Error("Circular reference detected in "+v.join("."));s.push(u),be.forEach(u,function(y,b){(!(be.isUndefined(y)||y===null)&&p.call(e,y,be.isString(b)?b.trim():b,v,l))===!0&&a(y,v?v.concat(b):[b])}),s.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return a(t),e}function Ng(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xf(t,e){this._pairs=[],t&&fl(t,this,e)}const Gm=Xf.prototype;Gm.append=function(e,n){this._pairs.push([e,n])};Gm.toString=function(e){const n=e?function(r){return e.call(this,r,Ng)}:Ng;return this._pairs.map(function(p){return n(p[0])+"="+n(p[1])},"").join("&")};function KI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ym(t,e,n){if(!e)return t;const r=n&&n.encode||KI,p=n&&n.serialize;let m;if(p?m=p(e,n):m=be.isURLSearchParams(e)?e.toString():new Xf(e,n).toString(r),m){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+m}return t}class zg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Xm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JI=typeof URLSearchParams<"u"?URLSearchParams:Xf,ZI=typeof FormData<"u"?FormData:null,QI=typeof Blob<"u"?Blob:null,eF={isBrowser:!0,classes:{URLSearchParams:JI,FormData:ZI,Blob:QI},protocols:["http","https","file","blob","url","data"]},$m=typeof window<"u"&&typeof document<"u",tF=(t=>$m&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$m,hasStandardBrowserEnv:tF,hasStandardBrowserWebWorkerEnv:nF},Symbol.toStringTag,{value:"Module"})),Zn={...rF,...eF};function iF(t,e){return fl(t,new Zn.classes.URLSearchParams,Object.assign({visitor:function(n,r,p,m){return Zn.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},e))}function sF(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oF(t){const e={},n=Object.keys(t);let r;const p=n.length;let m;for(r=0;r<p;r++)m=n[r],e[m]=t[m];return e}function qm(t){function e(n,r,p,m){let x=n[m++];if(x==="__proto__")return!0;const c=Number.isFinite(+x),i=m>=n.length;return x=!x&&be.isArray(p)?p.length:x,i?(be.hasOwnProp(p,x)?p[x]=[p[x],r]:p[x]=r,!c):((!p[x]||!be.isObject(p[x]))&&(p[x]=[]),e(n,r,p[x],m)&&be.isArray(p[x])&&(p[x]=oF(p[x])),!c)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,p)=>{e(sF(r),p,n,0)}),n}return null}function aF(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const go={transitional:Xm,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",p=r.indexOf("application/json")>-1,m=be.isObject(e);if(m&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return p?JSON.stringify(qm(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(m){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iF(e,this.formSerializer).toString();if((c=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return fl(c?{"files[]":e}:e,i&&new i,this.formSerializer)}}return m||p?(n.setContentType("application/json",!1),aF(e)):e}],transformResponse:[function(e){const n=this.transitional||go.transitional,r=n&&n.forcedJSONParsing,p=this.responseType==="json";if(e&&be.isString(e)&&(r&&!this.responseType||p)){const x=!(n&&n.silentJSONParsing)&&p;try{return JSON.parse(e)}catch(c){if(x)throw c.name==="SyntaxError"?nt.from(c,nt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{go.headers[t]={}});const lF=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cF=t=>{const e={};let n,r,p;return t&&t.split(`
`).forEach(function(x){p=x.indexOf(":"),n=x.substring(0,p).trim().toLowerCase(),r=x.substring(p+1).trim(),!(!n||e[n]&&lF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Wg=Symbol("internals");function Ws(t){return t&&String(t).trim().toLowerCase()}function ka(t){return t===!1||t==null?t:be.isArray(t)?t.map(ka):String(t)}function uF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const fF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function au(t,e,n,r,p){if(be.isFunction(r))return r.call(this,e,n);if(p&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function hF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function dF(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(p,m,x){return this[r].call(this,e,p,m,x)},configurable:!0})})}class Ln{constructor(e){e&&this.set(e)}set(e,n,r){const p=this;function m(c,i,d){const h=Ws(i);if(!h)throw new Error("header name must be a non-empty string");const s=be.findKey(p,h);(!s||p[s]===void 0||d===!0||d===void 0&&p[s]!==!1)&&(p[s||i]=ka(c))}const x=(c,i)=>be.forEach(c,(d,h)=>m(d,h,i));return be.isPlainObject(e)||e instanceof this.constructor?x(e,n):be.isString(e)&&(e=e.trim())&&!fF(e)?x(cF(e),n):e!=null&&m(n,e,r),this}get(e,n){if(e=Ws(e),e){const r=be.findKey(this,e);if(r){const p=this[r];if(!n)return p;if(n===!0)return uF(p);if(be.isFunction(n))return n.call(this,p,r);if(be.isRegExp(n))return n.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ws(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||au(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let p=!1;function m(x){if(x=Ws(x),x){const c=be.findKey(r,x);c&&(!n||au(r,r[c],c,n))&&(delete r[c],p=!0)}}return be.isArray(e)?e.forEach(m):m(e),p}clear(e){const n=Object.keys(this);let r=n.length,p=!1;for(;r--;){const m=n[r];(!e||au(this,this[m],m,e,!0))&&(delete this[m],p=!0)}return p}normalize(e){const n=this,r={};return be.forEach(this,(p,m)=>{const x=be.findKey(r,m);if(x){n[x]=ka(p),delete n[m];return}const c=e?hF(m):String(m).trim();c!==m&&delete n[m],n[c]=ka(p),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,p)=>{r!=null&&r!==!1&&(n[p]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(p=>r.set(p)),r}static accessor(e){const r=(this[Wg]=this[Wg]={accessors:{}}).accessors,p=this.prototype;function m(x){const c=Ws(x);r[c]||(dF(p,x),r[c]=!0)}return be.isArray(e)?e.forEach(m):m(e),this}}Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Ln.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(Ln);function lu(t,e){const n=this||go,r=e||n,p=Ln.from(r.headers);let m=r.data;return be.forEach(t,function(c){m=c.call(n,m,p.normalize(),e?e.status:void 0)}),p.normalize(),m}function Km(t){return!!(t&&t.__CANCEL__)}function vo(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(vo,nt,{__CANCEL__:!0});function pF(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const gF=Zn.hasStandardBrowserEnv?{write(t,e,n,r,p,m){const x=[t+"="+encodeURIComponent(e)];be.isNumber(n)&&x.push("expires="+new Date(n).toGMTString()),be.isString(r)&&x.push("path="+r),be.isString(p)&&x.push("domain="+p),m===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Jm(t,e){return t&&!vF(e)?mF(t,e):e}const yF=Zn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function p(m){let x=m;return e&&(n.setAttribute("href",x),x=n.href),n.setAttribute("href",x),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=p(window.location.href),function(x){const c=be.isString(x)?p(x):x;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function bF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let p=0,m=0,x;return e=e!==void 0?e:1e3,function(i){const d=Date.now(),h=r[m];x||(x=d),n[p]=i,r[p]=d;let s=m,l=0;for(;s!==p;)l+=n[s++],s=s%t;if(p=(p+1)%t,p===m&&(m=(m+1)%t),d-x<e)return;const a=h&&d-h;return a?Math.round(l*1e3/a):void 0}}function Hg(t,e){let n=0;const r=xF(50,250);return p=>{const m=p.loaded,x=p.lengthComputable?p.total:void 0,c=m-n,i=r(c),d=m<=x;n=m;const h={loaded:m,total:x,progress:x?m/x:void 0,bytes:c,rate:i||void 0,estimated:i&&x&&d?(x-m)/i:void 0,event:p};h[e?"download":"upload"]=!0,t(h)}}const wF=typeof XMLHttpRequest<"u",_F=wF&&function(t){return new Promise(function(n,r){let p=t.data;const m=Ln.from(t.headers).normalize();let{responseType:x,withXSRFToken:c}=t,i;function d(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}let h;if(be.isFormData(p)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)m.setContentType(!1);else if((h=m.getContentType())!==!1){const[v,...f]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];m.setContentType([v||"multipart/form-data",...f].join("; "))}}let s=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.set("Authorization","Basic "+btoa(v+":"+f))}const l=Jm(t.baseURL,t.url);s.open(t.method.toUpperCase(),Ym(l,t.params,t.paramsSerializer),!0),s.timeout=t.timeout;function a(){if(!s)return;const v=Ln.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders()),y={data:!x||x==="text"||x==="json"?s.responseText:s.response,status:s.status,statusText:s.statusText,headers:v,config:t,request:s};pF(function(_){n(_),d()},function(_){r(_),d()},y),s=null}if("onloadend"in s?s.onloadend=a:s.onreadystatechange=function(){!s||s.readyState!==4||s.status===0&&!(s.responseURL&&s.responseURL.indexOf("file:")===0)||setTimeout(a)},s.onabort=function(){s&&(r(new nt("Request aborted",nt.ECONNABORTED,t,s)),s=null)},s.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,t,s)),s=null},s.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||Xm;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),r(new nt(f,y.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,s)),s=null},Zn.hasStandardBrowserEnv&&(c&&be.isFunction(c)&&(c=c(t)),c||c!==!1&&yF(l))){const v=t.xsrfHeaderName&&t.xsrfCookieName&&gF.read(t.xsrfCookieName);v&&m.set(t.xsrfHeaderName,v)}p===void 0&&m.setContentType(null),"setRequestHeader"in s&&be.forEach(m.toJSON(),function(f,y){s.setRequestHeader(y,f)}),be.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),x&&x!=="json"&&(s.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&s.addEventListener("progress",Hg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",Hg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=v=>{s&&(r(!v||v.type?new vo(null,t,s):v),s.abort(),s=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));const u=bF(l);if(u&&Zn.protocols.indexOf(u)===-1){r(new nt("Unsupported protocol "+u+":",nt.ERR_BAD_REQUEST,t));return}s.send(p||null)})},Ju={http:XI,xhr:_F};be.forEach(Ju,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ug=t=>`- ${t}`,SF=t=>be.isFunction(t)||t===null||t===!1,Zm={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,r;const p={};for(let m=0;m<e;m++){n=t[m];let x;if(r=n,!SF(n)&&(r=Ju[(x=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${x}'`);if(r)break;p[x||"#"+m]=r}if(!r){const m=Object.entries(p).map(([c,i])=>`adapter ${c} `+(i===!1?"is not supported by the environment":"is not available in the build"));let x=e?m.length>1?`since :
`+m.map(Ug).join(`
`):" "+Ug(m[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return r},adapters:Ju};function cu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vo(null,t)}function Vg(t){return cu(t),t.headers=Ln.from(t.headers),t.data=lu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zm.getAdapter(t.adapter||go.adapter)(t).then(function(r){return cu(t),r.data=lu.call(t,t.transformResponse,r),r.headers=Ln.from(r.headers),r},function(r){return Km(r)||(cu(t),r&&r.response&&(r.response.data=lu.call(t,t.transformResponse,r.response),r.response.headers=Ln.from(r.response.headers))),Promise.reject(r)})}const Gg=t=>t instanceof Ln?{...t}:t;function as(t,e){e=e||{};const n={};function r(d,h,s){return be.isPlainObject(d)&&be.isPlainObject(h)?be.merge.call({caseless:s},d,h):be.isPlainObject(h)?be.merge({},h):be.isArray(h)?h.slice():h}function p(d,h,s){if(be.isUndefined(h)){if(!be.isUndefined(d))return r(void 0,d,s)}else return r(d,h,s)}function m(d,h){if(!be.isUndefined(h))return r(void 0,h)}function x(d,h){if(be.isUndefined(h)){if(!be.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function c(d,h,s){if(s in e)return r(d,h);if(s in t)return r(void 0,d)}const i={url:m,method:m,data:m,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:c,headers:(d,h)=>p(Gg(d),Gg(h),!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(h){const s=i[h]||p,l=s(t[h],e[h],h);be.isUndefined(l)&&s!==c||(n[h]=l)}),n}const Qm="1.6.8",$f={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$f[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Yg={};$f.transitional=function(e,n,r){function p(m,x){return"[Axios v"+Qm+"] Transitional option '"+m+"'"+x+(r?". "+r:"")}return(m,x,c)=>{if(e===!1)throw new nt(p(x," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!Yg[x]&&(Yg[x]=!0,console.warn(p(x," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(m,x,c):!0}};function CF(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let p=r.length;for(;p-- >0;){const m=r[p],x=e[m];if(x){const c=t[m],i=c===void 0||x(c,m,t);if(i!==!0)throw new nt("option "+m+" must be "+i,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+m,nt.ERR_BAD_OPTION)}}const Zu={assertOptions:CF,validators:$f},Fr=Zu.validators;class si{constructor(e){this.defaults=e,this.interceptors={request:new zg,response:new zg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let p;Error.captureStackTrace?Error.captureStackTrace(p={}):p=new Error;const m=p.stack?p.stack.replace(/^.+\n/,""):"";r.stack?m&&!String(r.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+m):r.stack=m}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=as(this.defaults,n);const{transitional:r,paramsSerializer:p,headers:m}=n;r!==void 0&&Zu.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),p!=null&&(be.isFunction(p)?n.paramsSerializer={serialize:p}:Zu.assertOptions(p,{encode:Fr.function,serialize:Fr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let x=m&&be.merge(m.common,m[n.method]);m&&be.forEach(["delete","get","head","post","put","patch","common"],u=>{delete m[u]}),n.headers=Ln.concat(x,m);const c=[];let i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(i=i&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let h,s=0,l;if(!i){const u=[Vg.bind(this),void 0];for(u.unshift.apply(u,c),u.push.apply(u,d),l=u.length,h=Promise.resolve(n);s<l;)h=h.then(u[s++],u[s++]);return h}l=c.length;let a=n;for(s=0;s<l;){const u=c[s++],v=c[s++];try{a=u(a)}catch(f){v.call(this,f);break}}try{h=Vg.call(this,a)}catch(u){return Promise.reject(u)}for(s=0,l=d.length;s<l;)h=h.then(d[s++],d[s++]);return h}getUri(e){e=as(this.defaults,e);const n=Jm(e.baseURL,e.url);return Ym(n,e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(e){si.prototype[e]=function(n,r){return this.request(as(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(m,x,c){return this.request(as(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:m,data:x}))}}si.prototype[e]=n(),si.prototype[e+"Form"]=n(!0)});class qf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(m){n=m});const r=this;this.promise.then(p=>{if(!r._listeners)return;let m=r._listeners.length;for(;m-- >0;)r._listeners[m](p);r._listeners=null}),this.promise.then=p=>{let m;const x=new Promise(c=>{r.subscribe(c),m=c}).then(p);return x.cancel=function(){r.unsubscribe(m)},x},e(function(m,x,c){r.reason||(r.reason=new vo(m,x,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new qf(function(p){e=p}),cancel:e}}}function TF(t){return function(n){return t.apply(null,n)}}function OF(t){return be.isObject(t)&&t.isAxiosError===!0}const Qu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qu).forEach(([t,e])=>{Qu[e]=t});function ey(t){const e=new si(t),n=Fm(si.prototype.request,e);return be.extend(n,si.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(p){return ey(as(t,p))},n}const bt=ey(go);bt.Axios=si;bt.CanceledError=vo;bt.CancelToken=qf;bt.isCancel=Km;bt.VERSION=Qm;bt.toFormData=fl;bt.AxiosError=nt;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=TF;bt.isAxiosError=OF;bt.mergeConfig=as;bt.AxiosHeaders=Ln;bt.formToJSON=t=>qm(be.isHTMLForm(t)?new FormData(t):t);bt.getAdapter=Zm.getAdapter;bt.HttpStatusCode=Qu;bt.default=bt;function EF(){return bt({method:"get",url:"https://api.pexels.com/v1/curated",params:{per_page:10,page:1},headers:{Authorization:"4LInD4o8MBFIIPIK0AItnH3YnIo8IhGMvJhzMjYEFmquGwZplmG6LnY3"}}).then(t=>t.data.photos.map(e=>({url:e.src.tiny,...e.src})))}function Xg({query:t="nature",page:e=1,orientation:n="landscape"}){return bt({method:"get",url:"https://api.pexels.com/v1/search",params:{query:t||"nature",per_page:10,page:e,size:"small",orientation:n},headers:{Authorization:"4LInD4o8MBFIIPIK0AItnH3YnIo8IhGMvJhzMjYEFmquGwZplmG6LnY3"}}).then(r=>r.data.photos.map(p=>({url:p.src.tiny,...p.src})))}const PF="Nxgsrk91xSPQyJi858udhIZo-ByNhNc-1EEpa9JLnWU";function AF({query:t="nature",page:e=1,orientation:n="landscape"}){return bt({method:"get",url:"https://api.unsplash.com/search/photos",params:{query:t||"nature",per_page:10,page:e,client_id:PF,orientation:n}}).then(r=>r.data.results.map(p=>({url:p.urls.small,...p.urls})))}function kF({query:t="nature",page:e=1,orientation:n="all",minWidth:r=0,minHeight:p=0}){return bt({method:"get",url:"https://pixabay.com/api",params:{q:t||"nature",per_page:10,page:e,orientation:n,min_width:r,min_height:p,key:"4676309-98dc7486bd9c46eb8baf1ee96"}}).then(m=>m.data.hits.map(x=>({url:x.webformatURL})))}const ef=ls(),ba=(t=0,e)=>e===1?+t*ef:parseInt(`${+t/ef}`,10);function DF(){const[t,e]=D.useState([]),[n,r]=D.useState(""),[p,m]=D.useState(1),[x,c]=D.useState(0),[i,d]=D.useState(!1),h=Nt.debounce(async R=>{const j=R.target.value.trim();r(j);const H=await Xg({page:p,query:j});e(H)},300),{width:s,height:l,changeRect:a}=zr(),u=Hf();async function v(){const R=await EF();e(R),d(!1)}D.useEffect(()=>{v()},[]);const f=async(R,j)=>{d(!0),m(j),c(R);let H=[];const Z={page:j,query:n};R===0&&(H=await Xg(Z)),R===1&&(H=await AF({...Z,orientation:s===l?"squarish":s>l?"landscape":"portrait"})),R===2&&(H=await kF({...Z,minHeight:l,minWidth:s,orientation:s===l?"all":s>l?"horizontal":"vertical"})),e(H),d(!1)},y=Nt.debounce(()=>{f(x,p+1)},300),b=D.useMemo(()=>Sp[x],[x]);Tk(bm);const _=R=>{const j=U_(R);if(Qg(j)){u(j);return}j!=null&&j.width&&(j!=null&&j.height)&&a(j)},S=Nt.debounce(R=>{Oe.setBackgroundColor({color:R.target.value})},300),[T,E]=D.useState(!0),P=R=>new Promise(j=>{const H=new Image;H.src=R,H.onload=()=>{j(H)}}),F=Nt.debounce(async R=>{E(!1);let j=R.url;x===0?j=`${R.original}?auto=compress&cs=tinysrgb&fit=crop&w=${s}`:x===1&&(j=`${R.raw}&q=80&w=${s}`);const H=await P(j);Oe.changeCanvasBackgroundImage(H),E(!0)},300);return C.jsxs("div",{className:"control",children:[C.jsx(Fe,{fontSize:"l",as:"b",children:"Artboard Rect"}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"width"}),C.jsxs(Wi,{value:s,onChange:R=>a({width:+R,height:l}),children:[C.jsx(Ui,{borderLeftRadius:0}),C.jsxs(Hi,{children:[C.jsx(Gi,{}),C.jsx(Vi,{})]})]})]}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"height"}),C.jsxs(Wi,{value:l,onChange:R=>a({width:s,height:+R}),children:[C.jsx(Ui,{borderLeftRadius:0}),C.jsxs(Hi,{children:[C.jsx(Gi,{}),C.jsx(Vi,{})]})]})]}),C.jsx(Fe,{fontSize:"l",as:"b",children:"Export Size"}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"width"}),C.jsxs(Wi,{value:ba(s,0),onChange:R=>{a({width:ba(R,1),height:l})},children:[C.jsx(Ui,{borderLeftRadius:0}),C.jsxs(Hi,{children:[C.jsx(Gi,{}),C.jsx(Vi,{})]})]})]}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"height"}),C.jsxs(Wi,{value:ba(l,0),onChange:R=>{a({width:s,height:ba(R,1)})},children:[C.jsx(Ui,{borderLeftRadius:0}),C.jsxs(Hi,{children:[C.jsx(Gi,{}),C.jsx(Vi,{})]})]})]}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"DPR"}),C.jsx(Vt,{value:ef,type:"number",placeholder:"dpr",disabled:!0})]}),C.jsx(De,{gap:1,children:Object.keys(H_).map(R=>C.jsx(Br,{cursor:"pointer",colorScheme:"purple",onClick:_.bind(null,R),children:R},R))}),C.jsx(Fe,{fontSize:"l",as:"b",children:"Background Color"}),C.jsx(De,{children:C.jsx("input",{type:"color",style:{width:24},onChange:S})}),C.jsx(Fe,{fontSize:"l",as:"b",children:"Background Image"}),C.jsx(De,{children:C.jsx(Vt,{onChange:h,placeholder:"Search image"})}),C.jsx(De,{gap:1,children:Sp.map(R=>C.jsx(Br,{cursor:"pointer",colorScheme:"purple",onClick:f.bind(null,R.value,1),children:R.label},R.value))}),C.jsx(De,{children:C.jsx("ul",{children:t.map(R=>C.jsx("li",{style:{marginTop:"12px",cursor:"pointer"},onClick:F.bind(null,R),children:C.jsx("img",{crossOrigin:"anonymous",loading:"lazy",src:R.url,alt:"img"})},R.url))})}),C.jsxs(De,{children:[C.jsxs(sv,{fontSize:"xs",href:b.link,isExternal:!0,children:["Photos provided by ",b.label]}),C.jsx(ov,{}),C.jsx(Ot,{isLoading:i,loadingText:"Loading",colorScheme:"teal",variant:"outline",spinnerPlacement:"start",onClick:y,size:"xs",children:"Next Page"})]})]})}const{changeTextOrShapeColor:MF,changeStyle:uu}=Oe,ei=2,$g={cursor:"pointer",width:24},pr="#3498db";function IF(){const{fonts:t,setFonts:e,setFont:n,setColor:r}=Ha(),{changeRightPanelDetail:p,layer:m,updateLayer:x}=zr(),{type:c}=m,i=c==="i-text",d=c==="image",h=c==="group",s=c==="rect",l=d&&Oe.checkImageCanBeColored(m==null?void 0:m._element),a=i||l||s,u=()=>{hI().then(b=>{Array.isArray(b)&&b.length&&e(b)})},v=b=>{n(b),uu({fontFamily:b})},f=b=>{r(b),MF(b)},y=b=>{uu(b)};return D.useEffect(()=>{t.length||u()},[t.length]),c?C.jsx(wr,{style:{height:"100%"},autoHide:!0,children:C.jsxs(De,{direction:"column",children:[C.jsx(Mn,{children:C.jsx(Fe,{fontSize:"xl",as:"b",children:"Attributes"})}),C.jsx(Fe,{as:"b",py:2,fontSize:"xl",children:"Basic"}),C.jsxs(De,{gap:2,children:[C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"width"}),C.jsx(Vt,{defaultValue:parseInt(`${m.width}`,10),type:"number",onChange:b=>{const _=+b.target.value;x({width:_}),Oe.changeStyle({width:_})}})]}),C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"height"}),C.jsx(Vt,{type:"number",defaultValue:parseInt(`${m.height}`,10),onChange:b=>{const _=+b.target.value;x({height:_}),Oe.changeStyle({height:_})}})]})]}),C.jsxs(De,{gap:2,children:[C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"scaleX"}),C.jsx(Vt,{value:(m.scaleX||1).toFixed(2),type:"number",disabled:!0})]}),C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"scaleY"}),C.jsx(Vt,{type:"number",value:(m.scaleY||1).toFixed(2),disabled:!0})]})]}),C.jsxs(De,{gap:2,children:[C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"x"}),C.jsx(Vt,{value:parseInt(`${m.left}`,10),type:"number",disabled:!0})]}),C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"y"}),C.jsx(Vt,{value:parseInt(`${m.top}`,10),type:"number",disabled:!0})]})]}),C.jsx(De,{children:C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"opacity"}),C.jsx(Vt,{value:m.opacity,type:"text",disabled:!0})]})}),i?C.jsxs(De,{gap:2,children:[C.jsxs(Dt,{size:"xs",flex:4,children:[C.jsx(Et,{children:"fontSize"}),C.jsx(Vt,{defaultValue:m.fontSize,type:"number",onInput:b=>{b.target.value&&Oe.changeStyle({fontSize:+b.target.value})}})]}),C.jsxs(Dt,{size:"xs",flex:5,children:[C.jsx(Et,{children:"fontWeight"}),C.jsx(Vt,{value:m.fontWeight,type:"text",disabled:!0})]})]}):void 0,i?C.jsx(De,{children:C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"fontFamily"}),C.jsx(Vt,{value:m.fontFamily,type:"text",disabled:!0})]})}):void 0,m.stroke?C.jsx(De,{children:C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"borderColor"}),C.jsx(Vt,{value:m.stroke||"",type:"text"})]})}):void 0,m.stroke?C.jsx(De,{children:C.jsxs(Dt,{size:"xs",children:[C.jsx(Et,{children:"borderWidth"}),C.jsx(Vt,{defaultValue:m.strokeWidth,type:"number",onInput:b=>{y({borderWidth:+b.target.value})}})]})}):void 0,C.jsx(Fe,{as:"b",py:2,fontSize:"xl",mt:ei,children:"Layout"}),C.jsxs(De,{gap:3,children:[C.jsx(Mt,{placement:"top",hasArrow:!0,label:"left",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_left",onClick:()=>Oe.setLayout("left")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"right",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_right",onClick:()=>Oe.setLayout("right")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"top",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_top",onClick:()=>Oe.setLayout("top")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"bottom",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_bottom",onClick:()=>Oe.setLayout("bottom")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"x center",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_x_center",onClick:()=>Oe.setLayout("x-center")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"y center",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_y_center",onClick:()=>Oe.setLayout("y-center")})})}),C.jsx(Mt,{placement:"top",hasArrow:!0,label:"x&y center",bg:"gray.300",color:"black",children:C.jsx(Fe,{children:C.jsx(st,{type:"layout_center",onClick:()=>Oe.setLayout("center")})})})]}),i?C.jsx(Fe,{as:"b",py:2,fontSize:"xl",mt:ei,children:"Font Style"}):void 0,i?C.jsxs(De,{gap:2,fontSize:25,children:[C.jsx(Fe,{cursor:"pointer",onClick:()=>{Oe.changeStyle({fontWeight:"normal",fontStyle:"normal",underline:!1,overline:!1,linethrough:!1})},children:"Aa"}),C.jsx(Fe,{as:"i",cursor:"pointer",color:m.fontStyle==="italic"?pr:"",onClick:()=>{Oe.changeStyle({fontStyle:m.fontStyle==="italic"?"normal":"italic"})},children:"Aa"}),C.jsx(Fe,{as:"b",cursor:"pointer",color:m.fontWeight==="bold"?pr:"",onClick:()=>{Oe.changeStyle({fontWeight:m.fontWeight==="bold"?"normal":"bold"})},children:"Aa"}),C.jsx(Fe,{cursor:"pointer",textDecoration:"underline",color:m.underline?pr:"",onClick:()=>{Oe.changeStyle({underline:!m.underline})},children:"Aa"}),C.jsx(Fe,{cursor:"pointer",textDecoration:"overline",color:m.overline?pr:"",onClick:()=>{Oe.changeStyle({overline:!m.overline})},children:"Aa"}),C.jsx(Fe,{cursor:"pointer",textDecoration:"line-through",color:m.linethrough?pr:"",onClick:()=>{Oe.changeStyle({linethrough:!m.linethrough})},children:"Aa"})]}):void 0,i?C.jsx(Fe,{as:"b",py:2,fontSize:"xl",mt:ei,children:"Text Align"}):void 0,i?C.jsxs(De,{gap:4,fontSize:25,children:[C.jsx(st,{type:"text_align_left",size:30,fill:m.textAlign==="left"?pr:"#000000",onClick:()=>{Oe.changeStyle({textAlign:"left"})}}),C.jsx(st,{type:"text_align_center",size:30,fill:m.textAlign==="center"?pr:"#000000",onClick:()=>{Oe.changeStyle({textAlign:"center"})}}),C.jsx(st,{type:"text_align_right",size:30,fill:m.textAlign==="right"?pr:"#000000",onClick:()=>{Oe.changeStyle({textAlign:"right"})}}),C.jsx(st,{type:"text_align_justify",size:30,fill:m.textAlign==="justify"?pr:"#000000",onClick:()=>{Oe.changeStyle({textAlign:"justify"})}})]}):void 0,i?C.jsxs(De,{alignItems:"center",justifyContent:"space-between",mt:ei,children:[C.jsx(Fe,{as:"b",py:2,fontSize:"xl",children:"FontFamily"}),C.jsx(Br,{cursor:"pointer",colorScheme:"purple",onClick:()=>p("fonts"),children:"more"})]}):void 0,i?t.length?null:C.jsx(n0,{}):null,i&&t.length?C.jsx(De,{gap:2,flexWrap:"wrap",children:t.filter(b=>b.length<15).slice(0,10).map(b=>C.jsx(Ot,{colorScheme:m.fontFamily===b?"red":"gray",size:"xs",onClick:v.bind(null,b),className:"fontItem",style:{fontFamily:b},children:b},b))}):null,i||d?C.jsxs(De,{direction:"column",children:[C.jsx(Fe,{as:"b",fontSize:"xl",mb:2,children:"Opacity"}),C.jsxs(Lu,{w:"95%",colorScheme:"pink",min:1,max:10,step:1,defaultValue:[m.opacity?m.opacity*10:10],onChange:([b])=>{Oe.changeStyle({opacity:+b/10})},children:[C.jsx(Ru,{children:C.jsx(Bu,{bg:"tomato"})}),C.jsx(ju,{index:0})]})]}):null,i?C.jsxs(De,{direction:"column",children:[C.jsx(Fe,{as:"b",fontSize:"xl",mb:2,children:"Font Weight"}),C.jsxs(Lu,{colorScheme:"pink",w:"95%",min:100,max:900,step:100,defaultValue:[m.fontSize||400],onChange:([b])=>{Oe.changeStyle({fontWeight:b})},children:[C.jsx(Ru,{children:C.jsx(Bu,{bg:"tomato"})}),C.jsx(ju,{index:0})]})]}):null,a?C.jsxs(De,{mt:ei,py:2,children:[C.jsxs(De,{flex:1,direction:"column",alignItems:"center",bg:"rgb(174, 214, 241)",children:[C.jsx(Fe,{as:"b",fontSize:"xl",children:"Fill"}),C.jsxs(De,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[C.jsx("input",{type:"color",value:fu(m.fill||""),style:$g,onChange:b=>{f(b.target.value)}}),C.jsx(Br,{ml:4,cursor:"pointer",colorScheme:"purple",onClick:()=>p("colors"),children:"more"})]}),C.jsx(Mn,{children:C.jsx(Fe,{fontSize:13,children:m.fill||""})})]}),C.jsxs(De,{flex:1,direction:"column",alignItems:"center",bg:"rgb(208, 236, 231)",children:[C.jsx(Fe,{as:"b",fontSize:"xl",children:"Border"}),C.jsxs(De,{direction:"row",alignItems:"center",children:[C.jsx("input",{type:"color",value:fu(m.stroke||""),style:$g,onChange:b=>{uu({borderColor:b.target.value})}}),C.jsx(Br,{ml:4,cursor:"pointer",colorScheme:"purple",onClick:()=>p("borderColors"),children:"more"})]}),C.jsx(Mn,{children:C.jsx(Fe,{fontSize:13,children:m.stroke||""})})]})]}):null,l?C.jsxs(De,{alignItems:"center",justifyContent:"space-between",mt:ei,children:[C.jsx(Fe,{as:"b",py:2,fontSize:"xl",children:"Coloring Scheme"}),C.jsx(Br,{cursor:"pointer",colorScheme:"purple",onClick:()=>p("colors"),children:"more"})]}):null,l?C.jsx(De,{flexWrap:"wrap",gap:1,children:Uf.slice(0,5).map((b,_)=>C.jsxs(De,{flexWrap:"wrap",gap:1,children:[C.jsx(Ot,{className:"colorItem",style:{backgroundColor:"#333",color:"#FFF"},children:_+1}),b.palette.map(S=>C.jsx(Ot,{onClick:f.bind(null,S),className:"colorItem",style:{backgroundColor:S}},S))]},`colors-palete-${_}`))}):null,s?C.jsxs(De,{direction:"column",children:[C.jsx(Fe,{as:"b",fontSize:"xl",children:"Border Radius"}),C.jsxs(Dt,{children:[C.jsx(Et,{children:"Border Radius"}),C.jsxs(Wi,{defaultValue:m.rx,onChange:b=>{const _=+b;d?Oe.changeStyle({cornerRadius:_}):s&&Oe.changeStyle({rx:_,ry:_})},children:[C.jsx(Ui,{borderLeftRadius:0}),C.jsxs(Hi,{children:[C.jsx(Gi,{}),C.jsx(Vi,{})]})]})]})]}):null,h?void 0:C.jsxs(De,{alignItems:"center",justifyContent:"space-between",mt:ei,py:2,children:[C.jsx(Fe,{as:"b",fontSize:"xl",children:"Border Style"}),C.jsx(Br,{cursor:"pointer",colorScheme:"purple",onClick:()=>p("borders"),children:"more"})]}),h?void 0:C.jsx(De,{flexWrap:"wrap",gap:1,children:al.slice(0,16).map(b=>C.jsx(Ot,{onClick:()=>{y({borderColor:b,borderWidth:8})},fontSize:30,style:{WebkitTextStroke:`2px ${b}`},children:"S"},b))})]})}):C.jsx(wr,{style:{height:"100%"},autoHide:!0,children:C.jsxs(De,{direction:"column",height:"100%",children:[C.jsx(Mn,{children:C.jsx(Fe,{fontSize:"xl",as:"b",children:"Artboard"})}),C.jsx(DF,{})]})})}const FF={allowTouchMove:!1};function LF(){const[t,e]=D.useState(!0),{rightPanelDetail:n}=zr(),r=D.useRef(null);return D.useEffect(()=>{n?r.current&&r.current.swiper&&r.current.swiper.slideTo(1):r.current&&r.current.swiper&&r.current.swiper.slideTo(0)},[n]),C.jsxs("div",{className:G_({rightPanel:!0,"toggle-right":!t}),children:[C.jsx("div",{className:"toggle",children:t?C.jsx("svg",{className:"icon icon-close",onClick:()=>e(!1),children:C.jsx("use",{xlinkHref:"#svg__icon__close"})}):C.jsx("svg",{className:"icon icon-info",onClick:()=>e(!0),children:C.jsx("use",{xlinkHref:"#svg__icon__info"})})}),t?C.jsxs(Im,{spaceBetween:50,slidesPerView:1,ref:r,...FF,children:[C.jsx($u,{style:{width:300},children:C.jsx(IF,{})}),C.jsx($u,{children:C.jsx(fI,{})})]}):null]})}const qg=M_();function jF(t){V_("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7760031923275487",{crossorigin:"anonymous",async:!0}).then(()=>{setTimeout(()=>{(window.adsbygoogle||[]).push({})},1e3)})}function RF(){const{isOpen:t,onOpen:e,onClose:n}=cs();return D.useEffect(()=>{window.localStorage.getItem("google-adsense")!==qg&&window.location.hostname==="www.duelpeak.com"&&(window.localStorage.setItem("google-adsense",qg),e(),jF())},[]),C.jsx(C.Fragment,{children:C.jsxs(fi,{isOpen:t,onClose:n,size:"xl",children:[C.jsx(hs,{}),C.jsxs(hi,{children:[C.jsx(pi,{}),C.jsx(di,{p:0,children:C.jsx("div",{style:{width:"100%",height:500,paddingTop:60},children:C.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-format":"fluid","data-ad-layout-key":"-6t+ed+2i-1n-4w","data-ad-client":"ca-pub-7760031923275487","data-ad-slot":"7820880112"})})})]})]})})}const{addImageFromURL:BF,setCanvas:NF,updateCanvasRect:Kg}=Oe,Ri=ls();function qF(){const{width:t,height:e,presetBackGround:n,changeRect:r,dragDisabled:p,update:m}=zr(),x=D.useRef(!1),[c,i]=D.useState({x:0,y:0}),[d,h]=D.useState(!1);XP(d),D.useEffect(()=>{const l=new Bi.Canvas("artboard",{fireRightClick:!1,controlsAboveOverlay:!0,stopContextMenu:!1,selectionBorderColor:"ff0000",selectionLineWidth:2});NF(l),Kg(t,e),h(!0)},[]),D.useEffect(()=>{if(x.current||!d||!n)return;x.current=!0;const l=()=>{BF({url:n,selectable:!1,position:{},scale:1})};e0(n).then(a=>{const{width:u,height:v}=a;r({width:u*Ri,height:v*Ri}),l()})},[n,d]),D.useEffect(()=>{d&&Kg(t,e),t&&e&&i({x:(window.innerWidth-t/Ri)/2,y:(window.innerHeight-e/Ri)/2+100})},[t,e,d]),Ok({keyDownCallback:l=>{switch(l.keyCode){case 32:Oe.getSelectedType()!=="i-text"&&l.preventDefault(),m({dragDisabled:!1});break;case 8:Oe.getSelectedType()!=="i-text"&&Oe.removeSelected();break}},keyUpCallback:l=>{m({dragDisabled:!0})}});const s=(l,a)=>i(Nt.pick(a,["x","y"]));return C.jsxs("div",{className:"artboard",children:[C.jsx(FD,{}),C.jsx(wr,{children:C.jsx(mr,{w:"500vw",h:"500vh",children:C.jsx(Ck,{position:c,onDrag:s,disabled:p,children:C.jsxs(mr,{position:"relative",children:[C.jsx("canvas",{id:"artboard"}),p?null:C.jsx(mr,{top:0,position:"absolute",w:t/Ri,h:e/Ri})]})})})}),C.jsx(LF,{}),C.jsx(Ek,{}),C.jsx(Pk,{}),C.jsx(RF,{})]})}export{qF as default};
